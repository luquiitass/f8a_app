!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{cGQY:function(n,i,o){"use strict";o.r(i),o.d(i,"GamesPageModule",(function(){return I}));var a=o("ofXK"),r=o("3Pt+"),s=o("TEn/"),c=o("tyNb"),l=o("mrSG"),u=o("8xVP"),b=o("wd/R"),d=o("z0x6"),g=o("fXoL"),f=o("G/jy"),m=o("2Rin"),h=o("vuFD"),v=o("y/q6"),p=o("rLe3"),w=o("T3jL"),P=o("QbbR");function y(e,t){if(1&e&&(g.Qb(0,"ion-segment-button",9),g.vc(1),g.Pb()),2&e){var n=t.$implicit,i=t.index,o=g.ac(2);g.hc("value",i),g.ic("id","sgm_",i,""),g.yb(1),g.xc(" ",o.formatDate(n.date)," ")}}function k(e,t){1&e&&(g.Qb(0,"ion-list-header",10),g.Qb(1,"ion-label"),g.vc(2,"Sin registros"),g.Pb(),g.Pb())}function x(e,t){if(1&e&&g.Mb(0,"app-game-list",11),2&e){var n=t.$implicit;g.ic("routerLink","/games/profile/",n.id,""),g.gc("game",n)}}function Q(e,t){if(1&e){var n=g.Rb();g.Qb(0,"ion-item",12),g.Yb("click",(function(){return g.oc(n),g.ac(2).addGame()})),g.Qb(1,"ion-label"),g.vc(2,"Crear nuevo partido"),g.Pb(),g.Mb(3,"ion-icon",13),g.Mb(4,"ion-ripple-effect"),g.Pb()}}function M(e,t){if(1&e){var n=g.Rb();g.Qb(0,"div"),g.Qb(1,"ion-refresher",2),g.Yb("ionRefresh",(function(e){return g.oc(n),g.ac().init(e)})),g.Mb(2,"ion-refresher-content"),g.Pb(),g.Qb(3,"ion-list"),g.Qb(4,"ion-grid"),g.Qb(5,"ion-row"),g.Qb(6,"ion-col",3),g.Qb(7,"ion-segment",4),g.Yb("ngModelChange",(function(e){return g.oc(n),g.ac().tabSelected=e}))("ionChange",(function(e){return g.oc(n),g.ac().selectDate(e)})),g.uc(8,y,2,3,"ion-segment-button",5),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.uc(9,k,3,0,"ion-list-header",6),g.uc(10,x,1,2,"app-game-list",7),g.uc(11,Q,5,0,"ion-item",8),g.Pb(),g.Pb()}if(2&e){var i=g.ac();g.yb(7),g.gc("ngModel",i.tabSelected),g.yb(1),g.gc("ngForOf",i.tabs),g.yb(1),g.gc("ngIf",0==i.listsHomeService.games.length),g.yb(1),g.gc("ngForOf",i.listsHomeService.games),g.yb(1),g.gc("ngIf",i.authUser.isAdminTeam())}}function S(e,t){1&e&&(g.Qb(0,"ion-card"),g.Qb(1,"div",16),g.Qb(2,"div",17),g.Qb(3,"div",18),g.Qb(4,"div",19),g.Mb(5,"ion-skeleton-text",20),g.Qb(6,"ion-avatar",0),g.Mb(7,"ion-skeleton-text",21),g.Pb(),g.Pb(),g.Qb(8,"div",22),g.Mb(9,"ion-skeleton-text",23),g.Pb(),g.Qb(10,"div",19),g.Mb(11,"ion-skeleton-text",20),g.Qb(12,"ion-avatar",0),g.Mb(13,"ion-skeleton-text",21),g.Pb(),g.Pb(),g.Pb(),g.Qb(14,"div",24),g.Mb(15,"ion-skeleton-text",25),g.Pb(),g.Pb(),g.Pb(),g.Pb())}function L(e,t){if(1&e&&(g.Qb(0,"div"),g.Qb(1,"ion-grid"),g.Qb(2,"ion-row"),g.Qb(3,"ion-col"),g.Mb(4,"ion-skeleton-text",14),g.Pb(),g.Qb(5,"ion-col"),g.Mb(6,"ion-skeleton-text",14),g.Pb(),g.Qb(7,"ion-col"),g.Mb(8,"ion-skeleton-text",14),g.Pb(),g.Pb(),g.Pb(),g.uc(9,S,16,0,"ion-card",15),g.Pb()),2&e){var n=g.ac();g.yb(9),g.gc("ngForOf",n.listSkeleton)}}var O,D,C,j=[{path:"",component:(O=function(){function n(t,i,o,a,r,s,c,l){e(this,n),this.request=t,this.util=i,this.dialogService=o,this.modalCtrl=a,this.authUser=r,this.utilArray=s,this.route=c,this.listsHomeService=l,this.tabs=[],this.listSkeleton=new Array(3),this.firstLoad=!0,this.modelGame=new u.a("Game",t)}var i,o,a;return i=n,(o=[{key:"ngOnInit",value:function(){var e=this;this.init(),setTimeout((function(){e.analyzeParameters()}),1e3)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.modelGame.api_function("pageHomeGames").subscribe((function(t){"success"==t.status&&(n.tabs=t.data.dates,n.selectFirst()),e&&e.target.complete(),console.log(t),n.firstLoad=!1}),(function(t){e&&e.target.complete(),console.error(t),n.firstLoad=!1}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"selectFirst",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.tabs.length>0,!e.t0){e.next=7;break}return this.listsHomeService.games=this.tabs[0].results,this.tabSelected=0,e.next=6,this.delay(1500);case 6:this.focusSegment();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"selectDate",value:function(e){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=parseInt(e.detail.value),!(i=this.tabs[n])||!i.results){t.next=3;break}return t.abrupt("return",(this.listsHomeService.games=i.results,void this.focusSegment()));case 3:return t.next=5,this.dialogService.loadingProgres();case 5:this.modelGame.api_function("gamesByDate",{date:i.date}).subscribe((function(e){"success"==e.status&&(o.tabs[n].results=e.data,o.listsHomeService.games=o.tabs[n].results,o.focusSegment()),o.dialogService.dimissLoaging(),console.log(e)}),(function(e){console.error(e),o.dialogService.dimissLoaging()}));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"focusSegment",value:function(){var e="sgm_"+this.tabSelected;console.log("select segment : ",e),document.getElementById(e).scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},{key:"delay",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"formatDate",value:function(e){return b(e).locale("es").format("DD MMMM YYYY")}},{key:"addGame",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("date",this.tabs[this.tabSelected]),t=this.tabs[this.tabSelected]?this.tabs[this.tabSelected].date:"",e.next=4,this.modalCtrl.create({component:d.a,componentProps:{date:t}});case 4:return(n=e.sent).onDidDismiss().then((function(e){if(console.log("crate game"),e.data&&e.data.game){var t=e.data.game,n=i.util.setFormatMoment(t.date,"YYYY-MM-DD"),o=i.tabs.map((function(e){return e.date})).indexOf(n);o>=0||(o=i.tabs.length,i.tabs[o]={date:n,results:[]}),i.utilArray.listAddFirst(i.tabs[o].results,t),i.tabSelected=o,i.focusSegment()}})),e.next=8,n.present();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"analyzeParameters",value:function(){console.log("run analyzeParameters"),this.route&&this.route.snapshot.queryParamMap.get("create")&&this.addGame()}},{key:"ionViewWillEnter",value:function(){console.log("ionViewWillEnter")}},{key:"ionViewDidEnter",value:function(){console.log("ionViewDidEnter")}},{key:"ionViewWillLeave",value:function(){console.log("ionViewWillLeave")}},{key:"ionViewDidLeave",value:function(){console.log("ionViewDidLeave")}}])&&t(i.prototype,o),a&&t(i,a),n}(),O.\u0275fac=function(e){return new(e||O)(g.Lb(f.a),g.Lb(m.a),g.Lb(h.a),g.Lb(s.nb),g.Lb(v.a),g.Lb(p.a),g.Lb(c.a),g.Lb(w.a))},O.\u0275cmp=g.Fb({type:O,selectors:[["app-games"]],decls:9,vars:2,consts:[["slot","start"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],["size","12"],["scrollable","",3,"ngModel","ngModelChange","ionChange"],[3,"value","id",4,"ngFor","ngForOf"],["color","tertiary",4,"ngIf"],["routerDirection","forward",3,"game","routerLink",4,"ngFor","ngForOf"],["class","ion-activatable",3,"click",4,"ngIf"],[3,"value","id"],["color","tertiary"],["routerDirection","forward",3,"game","routerLink"],[1,"ion-activatable",3,"click"],["name","chevron-forward-outline"],["animated","",2,"width","100%","height","30px"],[4,"ngFor","ngForOf"],[1,"ion-padding","custom-skeleton"],[1,"game"],[1,"team-list","contenedor"],[1,"team"],["animated","",2,"width","80%"],["animated",""],[1,"vs"],["animated","",2,"width","20px"],[1,"date","ion-text-center",2,"width","100%"],["animated","",2,"width","80px","margin","auto"]],template:function(e,t){1&e&&(g.Qb(0,"ion-header"),g.Qb(1,"ion-toolbar"),g.Qb(2,"ion-buttons",0),g.Mb(3,"ion-menu-button"),g.Pb(),g.Qb(4,"ion-title"),g.vc(5,"Partidos"),g.Pb(),g.Pb(),g.Pb(),g.Qb(6,"ion-content"),g.uc(7,M,12,5,"div",1),g.uc(8,L,10,1,"div",1),g.Pb()),2&e&&(g.yb(7),g.gc("ngIf",!t.firstLoad),g.yb(1),g.gc("ngIf",t.firstLoad))},directives:[s.x,s.jb,s.j,s.K,s.hb,s.r,a.l,s.O,s.P,s.H,s.w,s.S,s.q,s.U,s.ub,r.d,r.g,a.k,s.V,s.I,s.G,P.a,s.tb,c.h,s.D,s.y,s.Q,s.Y,s.k,s.e],styles:[".team-list[_ngcontent-%COMP%]{display:block}.vs[_ngcontent-%COMP%]{width:6%}.game[_ngcontent-%COMP%]{width:100%;padding:10px;background-repeat:no-repeat;background-size:100%;font-size:small}.team[_ngcontent-%COMP%]{display:flex;align-items:center;width:47%;flex-flow:column-reverse}.team-name[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.img-team[_ngcontent-%COMP%]{border-radius:50%;background-position:50%;width:30px;height:30px}.contenedor[_ngcontent-%COMP%]{margin:10px auto;display:flex;align-items:center;justify-content:center;width:100%;text-align:-webkit-center}.date[_ngcontent-%COMP%]{text-align:center}"]}),O)}],F=((D=function t(){e(this,t)}).\u0275mod=g.Jb({type:D}),D.\u0275inj=g.Ib({factory:function(e){return new(e||D)},imports:[[c.j.forChild(j)],c.j]}),D),R=o("j1ZV"),I=((C=function t(){e(this,t)}).\u0275mod=g.Jb({type:C}),C.\u0275inj=g.Ib({factory:function(e){return new(e||C)},imports:[[a.b,r.a,s.kb,F,R.a]]}),C)}}])}();