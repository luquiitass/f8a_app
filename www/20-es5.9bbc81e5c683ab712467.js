!function(){function t(t,n){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(c)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"7i0p":function(t,e,i){"use strict";i.r(e),i.d(e,"ListPageModule",(function(){return C}));var r=i("ofXK"),a=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),u=i("mrSG"),l=i("PEpV"),b=i("8xVP"),f=i("wd/R"),d=i("fXoL"),m=i("G/jy"),h=i("vuFD"),g=i("2Rin"),v=i("rLe3");function p(t,e){if(1&t&&(d.Pb(0,"ion-segment-button",11),d.sc(1),d.Ob()),2&t){var n=e.$implicit,i=e.index,o=d.Zb();d.fc("value",i),d.gc("id","sgm_",i,""),d.xb(1),d.uc(" ",o.util.setFormatMoment(n.date)," ")}}function y(t,e){1&t&&(d.Pb(0,"ion-list-header",12),d.Pb(1,"ion-label"),d.sc(2,"Sin registros"),d.Ob(),d.Ob())}var O=function(t){return["/admin/game/",t]};function P(t,e){if(1&t){var n=d.Qb();d.Pb(0,"ion-item"),d.Pb(1,"ion-grid"),d.Pb(2,"ion-row"),d.Pb(3,"ion-col",13),d.Pb(4,"ion-grid"),d.Pb(5,"ion-row"),d.Pb(6,"ion-col",14),d.sc(7),d.Ob(),d.Pb(8,"ion-col",15),d.sc(9),d.Ob(),d.Ob(),d.Pb(10,"ion-row"),d.Pb(11,"ion-col"),d.sc(12," Vs "),d.Ob(),d.Ob(),d.Pb(13,"ion-row"),d.Pb(14,"ion-col",14),d.sc(15),d.Ob(),d.Pb(16,"ion-col",15),d.sc(17),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(18,"ion-col",16),d.Pb(19,"ion-grid"),d.Pb(20,"ion-row"),d.Pb(21,"ion-col",17),d.Pb(22,"ion-button",18),d.Lb(23,"ion-icon",19),d.Ob(),d.Ob(),d.Pb(24,"ion-col",17),d.Pb(25,"ion-button",3),d.Xb("click",(function(){d.mc(n);var t=e.$implicit;return d.Zb().showEdit(t)})),d.Lb(26,"ion-icon",20),d.Ob(),d.Ob(),d.Pb(27,"ion-col",17),d.Pb(28,"ion-button",3),d.Xb("click",(function(){d.mc(n);var t=e.$implicit;return d.Zb().confirmDelete(t)})),d.Lb(29,"ion-icon",21),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()}if(2&t){var i=e.$implicit;d.xb(1),d.Ab("status-",i.status,""),d.xb(6),d.uc(" ",i.team_l.name," "),d.xb(2),d.tc(i.l_goals),d.xb(6),d.uc(" ",i.team_v.name," "),d.xb(2),d.tc(i.v_goals),d.xb(5),d.ec("routerLink",d.hc(8,O,i.id))}}var w,k,x,S=[{path:"",component:(w=function(){function t(e,i,o,r,a,s){n(this,t),this.request=e,this.dialogService=i,this.modalController=o,this.dialog=r,this.util=a,this.utilArray=s,this.games=[],this.tabs=[],this.gameService=new b.a("Game",e)}return o(t,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.gameService.api_function("pageAdminAll").subscribe((function(n){t.tabs=n.data.dates,t.selectTab(),console.log(n),e&&e.target.complete()}),(function(t){e&&e.target.completed()}))}},{key:"openModal",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:l.a,componentProps:{date:this.tabs&&this.tabs[this.tabSelected]?this.tabs[this.tabSelected].date:""}});case 2:return(e=t.sent).onDidDismiss().then((function(t){console.log("crate game");var e=t.data.game,i=n.tabs.map((function(t){return t.date})).indexOf(e.date);i>=0||(i=n.tabs.length,n.tabs[i]={date:f(e.date).format("YYYY-MM-DD"),results:[]}),n.utilArray.listAddFirst(n.tabs[i].results,e)})),t.next=6,e.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"showEdit",value:function(t){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:l.a,componentProps:{id:t.id}});case 2:return(n=e.sent).onDidDismiss().then((function(t){var e=t.data.game;i.utilArray.listUpdate(i.games,e.id,e)})),e.next=6,n.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"confirmDelete",value:function(t){var e=this;this.dialog.presentAlertConfirm("Confirmar","Estas seguro de eliminar este game",(function(n){e.delete(t)}))}},{key:"delete",value:function(t){var e=this;this.gameService.api_delete(t.id).subscribe((function(n){console.log(n),"success"==n.status&&(e.dialog.showToast("Game Eliminado",null,"success"),e.utilArray.listDelete(e.games,t.id))}))}},{key:"showItem",value:function(t){console.log(t)}},{key:"selectDate",value:function(t){var e=this,n=parseInt(t.detail.value),i=this.tabs[n];if(i.results)return this.games=i.results,void this.focusSegment();this.gameService.api_function("adminByDate",{date:i.date}).subscribe((function(t){"success"==t.status&&(e.tabs[n].results=t.data,e.games=e.tabs[n].results,e.focusSegment()),console.log(t)}),(function(t){console.error(t)}))}},{key:"focusSegment",value:function(){var t="sgm_"+this.tabSelected;console.log("select segment : ",t),document.getElementById(t).scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},{key:"delay",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}},{key:"selectTab",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.tabs.length>0)){t.next=8;break}return e=f(),n=0,this.tabs.forEach((function(t,i){f(t.date).isAfter(e)&&0==n&&(n=i)})),this.selectDate({detail:{value:n}}),this.tabSelected=n,t.next=7,this.util.delay(1500);case 7:this.focusSegment();case 8:case"end":return t.stop()}}),t,this)})))}}]),t}(),w.\u0275fac=function(t){return new(t||w)(d.Kb(m.a),d.Kb(h.a),d.Kb(s.hb),d.Kb(h.a),d.Kb(g.a),d.Kb(v.a))},w.\u0275cmp=d.Eb({type:w,selectors:[["app-list"]],decls:20,vars:4,consts:[["slot","start"],["defaultHref","admin_home"],["slot","secondary"],[3,"click"],["name","add-outline"],["slot","fixed",3,"ionRefresh"],["size","12"],["scrollable","",3,"ngModel","ngModelChange","ionChange"],[3,"value","id",4,"ngFor","ngForOf"],["color","tertiary",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value","id"],["color","tertiary"],["size","10"],["size","11"],["size","1"],["size","2"],["size-sm","4","size-xs","12"],[3,"routerLink"],["name","enter-outline"],["slot","icon-only","name","create-outline"],["name","trash-outline"]],template:function(t,e){1&t&&(d.Pb(0,"ion-header"),d.Pb(1,"ion-toolbar"),d.Pb(2,"ion-buttons",0),d.Lb(3,"ion-back-button",1),d.Ob(),d.Pb(4,"ion-title"),d.sc(5,"Partidos"),d.Ob(),d.Pb(6,"ion-buttons",2),d.Pb(7,"ion-button",3),d.Xb("click",(function(){return e.openModal()})),d.Lb(8,"ion-icon",4),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(9,"ion-content"),d.Pb(10,"ion-refresher",5),d.Xb("ionRefresh",(function(t){return e.init(t)})),d.Lb(11,"ion-refresher-content"),d.Ob(),d.Pb(12,"ion-list"),d.Pb(13,"ion-grid"),d.Pb(14,"ion-row"),d.Pb(15,"ion-col",6),d.Pb(16,"ion-segment",7),d.Xb("ngModelChange",(function(t){return e.tabSelected=t}))("ionChange",(function(t){return e.selectDate(t)})),d.rc(17,p,2,3,"ion-segment-button",8),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.rc(18,y,3,0,"ion-list-header",9),d.rc(19,P,30,10,"ion-item",10),d.Ob(),d.Ob()),2&t&&(d.xb(16),d.ec("ngModel",e.tabSelected),d.xb(1),d.ec("ngForOf",e.tabs),d.xb(1),d.ec("ngIf",0==e.games.length),d.xb(1),d.ec("ngForOf",e.games))},directives:[s.x,s.db,s.j,s.f,s.g,s.bb,s.i,s.y,s.r,s.J,s.K,s.E,s.w,s.M,s.q,s.O,s.nb,a.d,a.g,r.j,r.k,s.P,s.F,s.D,s.B,s.mb,c.h],styles:[".status[_ngcontent-%COMP%], .team[_ngcontent-%COMP%]{width:100%}.team[_ngcontent-%COMP%]{display:inline}.goal-team[_ngcontent-%COMP%], .name-team[_ngcontent-%COMP%]{background-color:transparent}.names[_ngcontent-%COMP%]{width:80%}"]}),w)}],A=((x=function t(){n(this,t)}).\u0275mod=d.Ib({type:x}),x.\u0275inj=d.Hb({factory:function(t){return new(t||x)},imports:[[c.j.forChild(S)],c.j]}),x),C=((k=function t(){n(this,t)}).\u0275mod=d.Ib({type:k}),k.\u0275inj=d.Hb({factory:function(t){return new(t||k)},imports:[[r.b,a.a,s.eb,A]]}),k)},rLe3:function(e,i,r){"use strict";r.d(i,"a",(function(){return s}));var a=r("fXoL"),s=function(){var e=function(){function e(){n(this,e)}return o(e,[{key:"listAddLast",value:function(t,e){t.push(e)}},{key:"listAddFirst",value:function(t,e){t.unshift(e)}},{key:"listUpdate",value:function(t,e,n){var i=this.findIndexList(t,e);i>=0&&(t[i]=n)}},{key:"listDelete",value:function(t,e){var n=this.findIndexList(t,e);n>=0&&t.splice(n,1)}},{key:"findList",value:function(t,e){return t.find((function(t){return t.id===e}))}},{key:"findIndexList",value:function(t,e){return t.findIndex((function(t){return t.id===e}))}},{key:"updateAttribustesObject",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];console.log("update attributes");var o,r=t(i);try{for(r.s();!(o=r.n()).done;){var a=o.value;n.hasOwnProperty(a)&&(e[a]=n[a])}}catch(s){r.e(s)}finally{r.f()}return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();