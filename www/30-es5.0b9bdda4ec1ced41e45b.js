!function(){function e(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==i.return||i.return()}finally{if(c)throw a}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"6/gD":function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var o=i("mrSG"),a=i("gcOT"),s=i("8xVP"),c=i("fXoL"),u=i("G/jy"),l=a.c.Camera,f=function(){var e=function(){function e(t){n(this,e),this.photos=[],this.convertBlobToBase64=function(e){return new Promise((function(t,n){var i=new FileReader;i.onerror=n,i.onload=function(){t(i.result)},i.readAsDataURL(e)}))},this.serviceImage=new s.a("Image",t)}return r(e,[{key:"init",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"assets/images/pngwing.png";this.url=null!=e?e:"/images/",this.thumb=null!=t&&t,this.path=n,this.photo=new d(n)}},{key:"setImage",value:function(e){this.image=e,this.photo.image=e}},{key:"addNewToGallery",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getPhoto({resultType:a.a.Uri,source:a.b.Camera,quality:100});case 2:return t=e.sent,e.next=5,this.readAsBase64(t);case 5:n=e.sent,this.photos.unshift(new d(null,t.webPath,n,this.url,this.thumb));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"addOneNewToGallery",value:function(){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getPhoto({resultType:a.a.Uri,source:a.b.Camera,quality:100});case 2:return t=e.sent,e.next=5,this.readAsBase64(t);case 5:n=e.sent,this.photo=new d(t.webPath,n,n,this.url,this.thumb,this.image);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"isLoadPthoto",value:function(){return!!this.photo.data}},{key:"readAsBase64",value:function(e){return Object(o.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.webPath);case 2:return n=t.sent,t.next=5,n.blob();case 5:return i=t.sent,t.next=8,this.convertBlobToBase64(i);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"uploadImage",value:function(){if(this.isLoadPthoto())return this.photo.id?this.serviceImage.api_update(this.photo):this.serviceImage.api_create(this.photo)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Ub(u.a))},e.\u0275prov=c.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"assets/images/pngwing.png",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;n(this,e),this.id=s?s.id:"",this.webviewPath=i,this.filepath=t,this.data=r,this.url=o,this.thumb=a,this.image=s}return r(e,[{key:"getPath",value:function(){return this.webviewPath?this.webviewPath:this.image&&this.image.urlComplete?this.image.urlComplete:this.filepath}}]),e}()},cGQY:function(e,t,i){"use strict";i.r(t),i.d(t,"GamesPageModule",(function(){return A}));var o=i("ofXK"),a=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),u=i("mrSG"),l=i("8xVP"),f=i("wd/R"),d=i("z0x6"),b=i("fXoL"),h=i("G/jy"),g=i("2Rin"),m=i("vuFD"),v=i("y/q6"),p=i("rLe3"),y=i("T3jL"),w=i("QbbR");function k(e,t){if(1&e&&(b.Qb(0,"ion-segment-button",9),b.tc(1),b.Pb()),2&e){var n=t.$implicit,i=t.index,r=b.ac(2);b.gc("value",i),b.hc("id","sgm_",i,""),b.yb(1),b.vc(" ",r.formatDate(n.date)," ")}}function P(e,t){1&e&&(b.Qb(0,"ion-list-header",10),b.Qb(1,"ion-label"),b.tc(2,"Sin registros"),b.Pb(),b.Pb())}function x(e,t){if(1&e&&b.Mb(0,"app-game-list",11),2&e){var n=t.$implicit;b.hc("routerLink","/games/profile/",n.id,""),b.fc("game",n)}}function L(e,t){if(1&e){var n=b.Rb();b.Qb(0,"ion-item",12),b.Yb("click",(function(){return b.nc(n),b.ac(2).addGame()})),b.Qb(1,"ion-label"),b.tc(2,"Crear nuevo partido"),b.Pb(),b.Mb(3,"ion-icon",13),b.Mb(4,"ion-ripple-effect"),b.Pb()}}function M(e,t){if(1&e){var n=b.Rb();b.Qb(0,"div"),b.Qb(1,"ion-refresher",2),b.Yb("ionRefresh",(function(e){return b.nc(n),b.ac().init(e)})),b.Mb(2,"ion-refresher-content"),b.Pb(),b.Qb(3,"ion-list"),b.Qb(4,"ion-grid"),b.Qb(5,"ion-row"),b.Qb(6,"ion-col",3),b.Qb(7,"ion-segment",4),b.Yb("ngModelChange",(function(e){return b.nc(n),b.ac().tabSelected=e}))("ionChange",(function(e){return b.nc(n),b.ac().selectDate(e)})),b.sc(8,k,2,3,"ion-segment-button",5),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.sc(9,P,3,0,"ion-list-header",6),b.sc(10,x,1,2,"app-game-list",7),b.sc(11,L,5,0,"ion-item",8),b.Pb(),b.Pb()}if(2&e){var i=b.ac();b.yb(7),b.fc("ngModel",i.tabSelected),b.yb(1),b.fc("ngForOf",i.tabs),b.yb(1),b.fc("ngIf",0==i.listsHomeService.games.length),b.yb(1),b.fc("ngForOf",i.listsHomeService.games),b.yb(1),b.fc("ngIf",i.authUser.isAdminTeam())}}function Q(e,t){1&e&&(b.Qb(0,"ion-card"),b.Qb(1,"div",16),b.Qb(2,"div",17),b.Qb(3,"div",18),b.Qb(4,"div",19),b.Mb(5,"ion-skeleton-text",20),b.Qb(6,"ion-avatar",0),b.Mb(7,"ion-skeleton-text",21),b.Pb(),b.Pb(),b.Qb(8,"div",22),b.Mb(9,"ion-skeleton-text",23),b.Pb(),b.Qb(10,"div",19),b.Mb(11,"ion-skeleton-text",20),b.Qb(12,"ion-avatar",0),b.Mb(13,"ion-skeleton-text",21),b.Pb(),b.Pb(),b.Pb(),b.Qb(14,"div",24),b.Mb(15,"ion-skeleton-text",25),b.Pb(),b.Pb(),b.Pb(),b.Pb())}function S(e,t){if(1&e&&(b.Qb(0,"div"),b.Qb(1,"ion-grid"),b.Qb(2,"ion-row"),b.Qb(3,"ion-col"),b.Mb(4,"ion-skeleton-text",14),b.Pb(),b.Qb(5,"ion-col"),b.Mb(6,"ion-skeleton-text",14),b.Pb(),b.Qb(7,"ion-col"),b.Mb(8,"ion-skeleton-text",14),b.Pb(),b.Pb(),b.Pb(),b.sc(9,Q,16,0,"ion-card",15),b.Pb()),2&e){var n=b.ac();b.yb(9),b.fc("ngForOf",n.listSkeleton)}}var O,I,j,C=[{path:"",component:(O=function(){function e(t,i,r,o,a,s,c,u){n(this,e),this.request=t,this.util=i,this.dialogService=r,this.modalCtrl=o,this.authUser=a,this.utilArray=s,this.route=c,this.listsHomeService=u,this.tabs=[],this.listSkeleton=new Array(3),this.firstLoad=!0,this.modelGame=new l.a("Game",t)}return r(e,[{key:"ngOnInit",value:function(){this.init(),setTimeout(this.analyzeParameters,2e3),this.analyzeParameters()}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.modelGame.api_function("pageHomeGames").subscribe((function(t){"success"==t.status&&(n.tabs=t.data.dates,n.selectFirst()),e&&e.target.complete(),console.log(t),n.firstLoad=!1}),(function(t){e&&e.target.complete(),console.error(t),n.firstLoad=!1}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"selectFirst",value:function(){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.tabs.length>0,!e.t0){e.next=7;break}return this.listsHomeService.games=this.tabs[0].results,this.tabSelected=0,e.next=6,this.delay(1500);case 6:this.focusSegment();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"selectDate",value:function(e){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=parseInt(e.detail.value),!(i=this.tabs[n])||!i.results){t.next=3;break}return t.abrupt("return",(this.listsHomeService.games=i.results,void this.focusSegment()));case 3:return t.next=5,this.dialogService.loadingProgres();case 5:this.modelGame.api_function("gamesByDate",{date:i.date}).subscribe((function(e){"success"==e.status&&(r.tabs[n].results=e.data,r.listsHomeService.games=r.tabs[n].results,r.focusSegment()),r.dialogService.dimissLoaging(),console.log(e)}),(function(e){console.error(e),r.dialogService.dimissLoaging()}));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"focusSegment",value:function(){var e="sgm_"+this.tabSelected;console.log("select segment : ",e),document.getElementById(e).scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},{key:"delay",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"formatDate",value:function(e){return f(e).locale("es").format("DD MMMM YYYY")}},{key:"addGame",value:function(){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("date",this.tabs[this.tabSelected]),t=this.tabs[this.tabSelected]?this.tabs[this.tabSelected].date:"",e.next=4,this.modalCtrl.create({component:d.a,componentProps:{date:t}});case 4:return(n=e.sent).onDidDismiss().then((function(e){if(console.log("crate game"),e.data&&e.data.game){var t=e.data.game,n=i.util.setFormatMoment(t.date,"YYYY-MM-DD"),r=i.tabs.map((function(e){return e.date})).indexOf(n);r>=0||(r=i.tabs.length,i.tabs[r]={date:n,results:[]}),i.utilArray.listAddFirst(i.tabs[r].results,t),i.tabSelected=r,i.focusSegment()}})),e.next=8,n.present();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"analyzeParameters",value:function(){this.route.snapshot.queryParamMap.get("create")&&this.addGame()}},{key:"ionViewWillEnter",value:function(){console.log("ionViewWillEnter")}},{key:"ionViewDidEnter",value:function(){console.log("ionViewDidEnter")}},{key:"ionViewWillLeave",value:function(){console.log("ionViewWillLeave")}},{key:"ionViewDidLeave",value:function(){console.log("ionViewDidLeave")}}]),e}(),O.\u0275fac=function(e){return new(e||O)(b.Lb(h.a),b.Lb(g.a),b.Lb(m.a),b.Lb(s.nb),b.Lb(v.a),b.Lb(p.a),b.Lb(c.a),b.Lb(y.a))},O.\u0275cmp=b.Fb({type:O,selectors:[["app-games"]],decls:9,vars:2,consts:[["slot","start"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],["size","12"],["scrollable","",3,"ngModel","ngModelChange","ionChange"],[3,"value","id",4,"ngFor","ngForOf"],["color","tertiary",4,"ngIf"],["routerDirection","forward",3,"game","routerLink",4,"ngFor","ngForOf"],["class","ion-activatable",3,"click",4,"ngIf"],[3,"value","id"],["color","tertiary"],["routerDirection","forward",3,"game","routerLink"],[1,"ion-activatable",3,"click"],["name","chevron-forward-outline"],["animated","",2,"width","100%","height","30px"],[4,"ngFor","ngForOf"],[1,"ion-padding","custom-skeleton"],[1,"game"],[1,"team-list","contenedor"],[1,"team"],["animated","",2,"width","80%"],["animated",""],[1,"vs"],["animated","",2,"width","20px"],[1,"date","ion-text-center",2,"width","100%"],["animated","",2,"width","80px","margin","auto"]],template:function(e,t){1&e&&(b.Qb(0,"ion-header"),b.Qb(1,"ion-toolbar"),b.Qb(2,"ion-buttons",0),b.Mb(3,"ion-menu-button"),b.Pb(),b.Qb(4,"ion-title"),b.tc(5,"Partidos"),b.Pb(),b.Pb(),b.Pb(),b.Qb(6,"ion-content"),b.sc(7,M,12,5,"div",1),b.sc(8,S,10,1,"div",1),b.Pb()),2&e&&(b.yb(7),b.fc("ngIf",!t.firstLoad),b.yb(1),b.fc("ngIf",t.firstLoad))},directives:[s.x,s.jb,s.j,s.K,s.hb,s.r,o.k,s.O,s.P,s.H,s.w,s.S,s.q,s.U,s.ub,a.d,a.g,o.j,s.V,s.I,s.G,w.a,s.tb,c.h,s.D,s.y,s.Q,s.Y,s.k,s.e],styles:[".team-list[_ngcontent-%COMP%]{display:block}.vs[_ngcontent-%COMP%]{width:6%}.game[_ngcontent-%COMP%]{width:100%;padding:10px;background-repeat:no-repeat;background-size:100%;font-size:small}.team[_ngcontent-%COMP%]{display:flex;align-items:center;width:47%;flex-flow:column-reverse}.team-name[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.img-team[_ngcontent-%COMP%]{border-radius:50%;background-position:50%;width:30px;height:30px}.contenedor[_ngcontent-%COMP%]{margin:10px auto;display:flex;align-items:center;justify-content:center;width:100%;text-align:-webkit-center}.date[_ngcontent-%COMP%]{text-align:center}"]}),O)}],R=((I=function e(){n(this,e)}).\u0275mod=b.Jb({type:I}),I.\u0275inj=b.Ib({factory:function(e){return new(e||I)},imports:[[c.j.forChild(C)],c.j]}),I),D=i("j1ZV"),A=((j=function e(){n(this,e)}).\u0275mod=b.Jb({type:j}),j.\u0275inj=b.Ib({factory:function(e){return new(e||j)},imports:[[o.b,a.a,s.kb,R,D.a]]}),j)},rLe3:function(t,i,o){"use strict";o.d(i,"a",(function(){return s}));var a=o("fXoL"),s=function(){var t=function(){function t(){n(this,t)}return r(t,[{key:"listAddLast",value:function(e,t){e.push(t)}},{key:"listAddFirst",value:function(e,t){e.unshift(t)}},{key:"listUpdate",value:function(e,t,n){var i=this.findIndexList(e,t);i>=0&&(e[i]=n)}},{key:"listDelete",value:function(e,t){var n=this.findIndexList(e,t);n>=0&&e.splice(n,1)}},{key:"findList",value:function(e,t){return e.find((function(e){return e.id===t}))}},{key:"findIndexList",value:function(e,t){return e.findIndex((function(e){return e.id===t}))}},{key:"updateAttribustesObject",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];console.log("update attributes");var r,o=e(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.hasOwnProperty(a)&&(t[a]=n[a])}}catch(s){o.e(s)}finally{o.f()}return t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();