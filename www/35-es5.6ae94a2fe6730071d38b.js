!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"6/gD":function(t,i,o){"use strict";o.d(i,"a",(function(){return l}));var a=o("mrSG"),r=o("gcOT"),s=o("8xVP"),c=o("fXoL"),u=o("G/jy"),b=r.c.Camera,l=function(){var t=function(){function t(n){e(this,t),this.photos=[],this.convertBlobToBase64=function(e){return new Promise((function(t,n){var i=new FileReader;i.onerror=n,i.onload=function(){t(i.result)},i.readAsDataURL(e)}))},this.serviceImage=new s.a("Image",n)}return n(t,[{key:"init",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"assets/images/pngwing.png";this.url=null!=e?e:"/images/",this.thumb=null!=t&&t,this.path=n,this.photo=new g(n)}},{key:"setImage",value:function(e){this.image=e,this.photo.image=e}},{key:"addNewToGallery",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getPhoto({resultType:r.a.Uri,source:r.b.Camera,quality:100});case 2:return t=e.sent,e.next=5,this.readAsBase64(t);case 5:n=e.sent,this.photos.unshift(new g(null,t.webPath,n,this.url,this.thumb));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"addOneNewToGallery",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getPhoto({resultType:r.a.Uri,source:r.b.Camera,quality:100});case 2:return t=e.sent,e.next=5,this.readAsBase64(t);case 5:n=e.sent,this.photo=new g(t.webPath,n,n,this.url,this.thumb,this.image);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"isLoadPthoto",value:function(){return!!this.photo.data}},{key:"readAsBase64",value:function(e){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.webPath);case 2:return n=t.sent,t.next=5,n.blob();case 5:return i=t.sent,t.next=8,this.convertBlobToBase64(i);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"uploadImage",value:function(){if(this.isLoadPthoto())return this.photo.id?this.serviceImage.api_update(this.photo):this.serviceImage.api_create(this.photo)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Ub(u.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),g=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"assets/images/pngwing.png",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;e(this,t),this.id=s?s.id:"",this.webviewPath=i,this.filepath=n,this.data=o,this.url=a,this.thumb=r,this.image=s}return n(t,[{key:"getPath",value:function(){return this.webviewPath?this.webviewPath:this.image&&this.image.urlComplete?this.image.urlComplete:this.filepath}}]),t}()},"E/N5":function(t,n,i){"use strict";i.r(n),i.d(n,"GameFormPageModule",(function(){return h}));var o,a,r=i("ofXK"),s=i("3Pt+"),c=i("TEn/"),u=i("tyNb"),b=i("PEpV"),l=i("fXoL"),g=[{path:"",component:b.a}],m=((a=function t(){e(this,t)}).\u0275mod=l.Jb({type:a}),a.\u0275inj=l.Ib({factory:function(e){return new(e||a)},imports:[[u.j.forChild(g)],u.j]}),a),h=((o=function t(){e(this,t)}).\u0275mod=l.Jb({type:o}),o.\u0275inj=l.Ib({factory:function(e){return new(e||o)},imports:[[r.b,s.a,c.kb,m]]}),o)},PEpV:function(t,i,o){"use strict";o.d(i,"a",(function(){return Q}));var a=o("mrSG"),r=o("8xVP"),s=o("rBWs"),c=o("fXoL"),u=o("G/jy"),b=o("vuFD"),l=o("TEn/"),g=o("6/gD"),m=o("3Pt+"),h=o("ofXK");function d(e,t){if(1&e&&(c.Qb(0,"ion-select-option",19),c.uc(1),c.Pb()),2&e){var n=t.$implicit;c.gc("value",n.id),c.yb(1),c.vc(n.name)}}function v(e,t){if(1&e&&(c.Qb(0,"ion-select-option",19),c.uc(1),c.Pb()),2&e){var n=t.$implicit;c.gc("value",n.id),c.yb(1),c.vc(n.name)}}function f(e,t){if(1&e){var n=c.Rb();c.Qb(0,"div"),c.Qb(1,"ion-item"),c.Qb(2,"ion-label",4),c.uc(3,"Otro Equipo"),c.Pb(),c.Qb(4,"ion-input",20),c.Yb("ngModelChange",(function(e){return c.oc(n),c.ac().game.other_team=e})),c.Pb(),c.Pb(),c.Qb(5,"div",7),c.uc(6),c.Pb(),c.Qb(7,"ion-button",21),c.Yb("click",(function(){return c.oc(n),c.ac().newTeam()})),c.uc(8,"Nuevo equipo"),c.Pb(),c.Pb()}if(2&e){var i=c.ac();c.yb(4),c.gc("ngModel",i.game.other_team),c.yb(2),c.vc(i.serviceGame.errorsForm.get("other_team"))}}function p(e,t){if(1&e&&(c.Qb(0,"ion-select-option",19),c.uc(1),c.Pb()),2&e){var n=t.$implicit;c.gc("value",n),c.yb(1),c.vc(n)}}function P(e,t){if(1&e&&(c.Qb(0,"ion-select-option",19),c.uc(1),c.Pb()),2&e){var n=t.$implicit;c.gc("value",n),c.yb(1),c.vc(n)}}function y(e,t){if(1&e&&(c.Qb(0,"ion-select-option",19),c.uc(1),c.Pb()),2&e){var n=t.$implicit;c.gc("value",n),c.yb(1),c.vc(n)}}var Q=function(){var t=function(){function t(n,i,o,a,s,c){var u;e(this,t),this.request=n,this.dialogService=i,this.viewCtrl=o,this.photoService=a,this.modalController=c,this.teams=[],this.numbGoals=[],this.customDayShortNames=["s\xf8n"],this.status=["Pendiente","Suspendido","Jugado","Created"],this.myDateFilter=function(e){return 6==e.getDay()},this.serviceGame=new r.a("Game",n),this.serviceTeam=new r.a("Team",n),this.id=s.get("id"),this.toDate=null!==(u=s.get("date"))&&void 0!==u?u:new Date,console.log("date",this.toDate)}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.serviceTeam.api_function("getAllTeamsSelect").subscribe((function(t){t.data&&(e.teams=t.data,console.log("teams -> ",e.teams))}));for(var t=0;t<=30;t++)this.numbGoals.push(t);this.initObject()}},{key:"initObject",value:function(){var e=this;this.game={l_team:"",v_team:"",l_goals:0,v_goals:0,time:"15:00",date:this.toDate,location:"",description:"",status:"Pendiente"},this.id&&this.serviceGame.api_find(this.id).subscribe((function(t){"success"==t.status&&(e.game=t.Game)}))}},{key:"submit",value:function(){var e=this;this.game.id?this.serviceGame.api_update(this.game).subscribe((function(t){var n;"success"==t.status&&(e.dialogService.showToast(null!==(n=t.msjSuccess)&&void 0!==n?n:"Registrado"),console.log(t),e.dismiss(t.Game))})):this.serviceGame.api_create(this.game).subscribe((function(t){var n;"success"==t.status&&(e.dialogService.showToast(null!==(n=t.msjSuccess)&&void 0!==n?n:"Registrado"),e.dismiss(t.Game))}))}},{key:"dismiss",value:function(e){this.viewCtrl.dismiss({game:e})}},{key:"close",value:function(){this.viewCtrl.dismiss()}},{key:"print",value:function(){console.log(this.game)}},{key:"newTeam",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:s.a});case 2:return(t=e.sent).onDidDismiss().then((function(e){e.data.team&&n.teams.push(e.data.team)})),e.next=6,t.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Lb(u.a),c.Lb(b.a),c.Lb(l.nb),c.Lb(g.a),c.Lb(l.pb),c.Lb(l.nb))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-game-form"]],decls:69,vars:22,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],[3,"ngSubmit","keyup"],["position","floating"],["name","l_team",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","padding-top","0.2rem"],["name","v_team",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"goals"],["name","l_goals",3,"ngModel","ngModelChange"],["name","v_goals",3,"ngModel","ngModelChange"],["displayFormat","HH:mm ","name","time",3,"ngModel","ngModelChange"],["type","text","name","location",3,"ngModel","ngModelChange"],["type","text","name","description",3,"ngModel","ngModelChange"],["name","date","displayFormat","YYYY-MM-DD",3,"ngModel","ngModelChange"],["name","status",3,"ngModel","ngModelChange"],["type","submit","expand","block"],[3,"value"],["type","text","name","other_team",3,"ngModel","ngModelChange"],["size","sm",3,"click"]],template:function(e,t){1&e&&(c.Qb(0,"ion-header"),c.Qb(1,"ion-toolbar"),c.Qb(2,"ion-title"),c.uc(3,"Partido"),c.Pb(),c.Qb(4,"ion-buttons",0),c.Qb(5,"ion-button",1),c.Yb("click",(function(){return t.close()})),c.Mb(6,"ion-icon",2),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(7,"ion-content"),c.Qb(8,"form",3),c.Yb("ngSubmit",(function(){return t.submit()}))("keyup",(function(){return t.serviceGame.errorsForm.clear()})),c.Qb(9,"ion-item"),c.Qb(10,"ion-label",4),c.uc(11,"Equipo local"),c.Pb(),c.Qb(12,"ion-select",5),c.Yb("ngModelChange",(function(e){return t.game.l_team=e})),c.tc(13,d,2,2,"ion-select-option",6),c.Pb(),c.Qb(14,"div",7),c.uc(15),c.Pb(),c.Pb(),c.Qb(16,"ion-item"),c.Qb(17,"ion-label",4),c.uc(18,"Equipo Vicitante"),c.Pb(),c.Qb(19,"ion-select",8),c.Yb("ngModelChange",(function(e){return t.game.v_team=e})),c.tc(20,v,2,2,"ion-select-option",6),c.Pb(),c.Qb(21,"div",7),c.uc(22),c.Pb(),c.Pb(),c.tc(23,f,9,2,"div",9),c.Mb(24,"br"),c.Qb(25,"div",10),c.Qb(26,"ion-item"),c.Qb(27,"ion-label",4),c.uc(28,"Goles L"),c.Pb(),c.Qb(29,"ion-select",11),c.Yb("ngModelChange",(function(e){return t.game.l_goals=e})),c.tc(30,p,2,2,"ion-select-option",6),c.Pb(),c.Qb(31,"div",7),c.uc(32),c.Pb(),c.Pb(),c.Qb(33,"ion-item"),c.Qb(34,"ion-label",4),c.uc(35,"Goles V"),c.Pb(),c.Qb(36,"ion-select",12),c.Yb("ngModelChange",(function(e){return t.game.v_goals=e})),c.tc(37,P,2,2,"ion-select-option",6),c.Pb(),c.Qb(38,"div",7),c.uc(39),c.Pb(),c.Pb(),c.Pb(),c.Qb(40,"ion-item"),c.Qb(41,"ion-label"),c.uc(42,"HH:mm"),c.Pb(),c.Qb(43,"ion-datetime",13),c.Yb("ngModelChange",(function(e){return t.game.time=e})),c.Pb(),c.Pb(),c.Qb(44,"ion-item"),c.Qb(45,"ion-label",4),c.uc(46,"Lugar"),c.Pb(),c.Qb(47,"ion-input",14),c.Yb("ngModelChange",(function(e){return t.game.location=e})),c.Pb(),c.Pb(),c.Qb(48,"div",7),c.uc(49),c.Pb(),c.Qb(50,"ion-item"),c.Qb(51,"ion-label",4),c.uc(52,"Comentario"),c.Pb(),c.Qb(53,"ion-input",15),c.Yb("ngModelChange",(function(e){return t.game.description=e})),c.Pb(),c.Pb(),c.Qb(54,"div",7),c.uc(55),c.Pb(),c.Qb(56,"ion-item"),c.Qb(57,"ion-label"),c.uc(58,"Fecha"),c.Pb(),c.Qb(59,"ion-datetime",16),c.Yb("ngModelChange",(function(e){return t.game.date=e})),c.Pb(),c.Pb(),c.Qb(60,"ion-item"),c.Qb(61,"ion-label",4),c.uc(62,"Estado"),c.Pb(),c.Qb(63,"ion-select",17),c.Yb("ngModelChange",(function(e){return t.game.status=e})),c.tc(64,y,2,2,"ion-select-option",6),c.Pb(),c.Qb(65,"div",7),c.uc(66),c.Pb(),c.Pb(),c.Qb(67,"ion-button",18),c.uc(68,"Guardar"),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.yb(12),c.gc("ngModel",t.game.l_team),c.yb(1),c.gc("ngForOf",t.teams),c.yb(2),c.vc(t.serviceGame.errorsForm.get("l_team")),c.yb(4),c.gc("ngModel",t.game.v_team),c.yb(1),c.gc("ngForOf",t.teams),c.yb(2),c.vc(t.serviceGame.errorsForm.get("v_team")),c.yb(1),c.gc("ngIf",t.game.other_team),c.yb(6),c.gc("ngModel",t.game.l_goals),c.yb(1),c.gc("ngForOf",t.numbGoals),c.yb(2),c.vc(t.serviceGame.errorsForm.get("l_goals")),c.yb(4),c.gc("ngModel",t.game.v_goals),c.yb(1),c.gc("ngForOf",t.numbGoals),c.yb(2),c.vc(t.serviceGame.errorsForm.get("v_goals")),c.yb(4),c.gc("ngModel",t.game.time),c.yb(4),c.gc("ngModel",t.game.location),c.yb(2),c.vc(t.serviceGame.errorsForm.get("location")),c.yb(4),c.gc("ngModel",t.game.description),c.yb(2),c.vc(t.serviceGame.errorsForm.get("description")),c.yb(4),c.gc("ngModel",t.game.date),c.yb(4),c.gc("ngModel",t.game.status),c.yb(1),c.gc("ngForOf",t.status),c.yb(2),c.vc(t.serviceGame.errorsForm.get("status")))},directives:[l.x,l.jb,l.hb,l.j,l.i,l.y,l.r,m.i,m.e,m.f,l.D,l.G,l.W,l.ub,m.d,m.g,h.k,h.l,l.s,l.C,l.vb,l.X],styles:[""]}),t}()}}])}();