(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"6/gD":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("mrSG"),o=i("gcOT"),s=i("8xVP"),a=i("fXoL"),c=i("G/jy");const{Camera:r}=o.c;let b=(()=>{class e{constructor(e){this.photos=[],this.convertBlobToBase64=e=>new Promise((t,i)=>{const n=new FileReader;n.onerror=i,n.onload=()=>{t(n.result)},n.readAsDataURL(e)}),this.serviceImage=new s.a("Image",e)}init(e,t=!0,i="assets/images/pngwing.png"){this.url=null!=e?e:"/images/",this.thumb=null!=t&&t,this.path=i,this.photo=new l(i)}setImage(e){this.image=e,this.photo.image=e}addNewToGallery(){return Object(n.b)(this,void 0,void 0,(function*(){const e=yield r.getPhoto({resultType:o.a.Uri,source:o.b.Camera,quality:100}),t=yield this.readAsBase64(e);this.photos.unshift(new l(null,e.webPath,t,this.url,this.thumb))}))}addOneNewToGallery(){return Object(n.b)(this,void 0,void 0,(function*(){const e=yield r.getPhoto({resultType:o.a.Uri,source:o.b.Camera,quality:100}),t=yield this.readAsBase64(e);this.photo=new l(e.webPath,t,t,this.url,this.thumb,this.image)}))}isLoadPthoto(){return!!this.photo.data}readAsBase64(e){return Object(n.b)(this,void 0,void 0,(function*(){const t=yield fetch(e.webPath),i=yield t.blob();return yield this.convertBlobToBase64(i)}))}uploadImage(){if(this.isLoadPthoto())return this.photo.id?this.serviceImage.api_update(this.photo):this.serviceImage.api_create(this.photo)}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(c.a))},e.\u0275prov=a.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class l{constructor(e="assets/images/pngwing.png",t=null,i="",n="",o=!1,s=null){this.id=s?s.id:"",this.webviewPath=t,this.filepath=e,this.data=i,this.url=n,this.thumb=o,this.image=s}getPath(){return this.webviewPath?this.webviewPath:this.image&&this.image.urlComplete?this.image.urlComplete:this.filepath}}},PEpV:function(e,t,i){"use strict";i.d(t,"a",(function(){return P}));var n=i("mrSG"),o=i("8xVP"),s=i("rBWs"),a=i("fXoL"),c=i("G/jy"),r=i("vuFD"),b=i("TEn/"),l=i("6/gD"),u=i("3Pt+"),g=i("ofXK");function d(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.uc(1),a.Pb()),2&e){const e=t.$implicit;a.gc("value",e.id),a.yb(1),a.vc(e.name)}}function m(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.uc(1),a.Pb()),2&e){const e=t.$implicit;a.gc("value",e.id),a.yb(1),a.vc(e.name)}}function h(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div"),a.Qb(1,"ion-item"),a.Qb(2,"ion-label",4),a.uc(3,"Otro Equipo"),a.Pb(),a.Qb(4,"ion-input",20),a.Yb("ngModelChange",(function(t){return a.oc(e),a.ac().game.other_team=t})),a.Pb(),a.Pb(),a.Qb(5,"div",7),a.uc(6),a.Pb(),a.Qb(7,"ion-button",21),a.Yb("click",(function(){return a.oc(e),a.ac().newTeam()})),a.uc(8,"Nuevo equipo"),a.Pb(),a.Pb()}if(2&e){const e=a.ac();a.yb(4),a.gc("ngModel",e.game.other_team),a.yb(2),a.vc(e.serviceGame.errorsForm.get("other_team"))}}function p(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.uc(1),a.Pb()),2&e){const e=t.$implicit;a.gc("value",e),a.yb(1),a.vc(e)}}function f(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.uc(1),a.Pb()),2&e){const e=t.$implicit;a.gc("value",e),a.yb(1),a.vc(e)}}function v(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.uc(1),a.Pb()),2&e){const e=t.$implicit;a.gc("value",e),a.yb(1),a.vc(e)}}let P=(()=>{class e{constructor(e,t,i,n,s,a){var c;this.request=e,this.dialogService=t,this.viewCtrl=i,this.photoService=n,this.modalController=a,this.teams=[],this.numbGoals=[],this.customDayShortNames=["s\xf8n"],this.status=["Pendiente","Suspendido","Jugado","Created"],this.myDateFilter=e=>6==e.getDay(),this.serviceGame=new o.a("Game",e),this.serviceTeam=new o.a("Team",e),this.id=s.get("id"),this.toDate=null!==(c=s.get("date"))&&void 0!==c?c:new Date,console.log("date",this.toDate)}ngOnInit(){this.serviceTeam.api_function("getAllTeamsSelect").subscribe(e=>{e.data&&(this.teams=e.data,console.log("teams -> ",this.teams))});for(var e=0;e<=30;e++)this.numbGoals.push(e);this.initObject()}initObject(){this.game={l_team:"",v_team:"",l_goals:0,v_goals:0,time:"15:00",date:this.toDate,location:"",description:"",status:"Pendiente"},this.id&&this.serviceGame.api_find(this.id).subscribe(e=>{"success"==e.status&&(this.game=e.Game)})}submit(){this.game.id?this.serviceGame.api_update(this.game).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),console.log(e),this.dismiss(e.Game))}):this.serviceGame.api_create(this.game).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.Game))})}dismiss(e){this.viewCtrl.dismiss({game:e})}close(){this.viewCtrl.dismiss()}print(){console.log(this.game)}newTeam(){return Object(n.b)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:s.a});return e.onDidDismiss().then(e=>{e.data.team&&this.teams.push(e.data.team)}),yield e.present()}))}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(c.a),a.Lb(r.a),a.Lb(b.nb),a.Lb(l.a),a.Lb(b.pb),a.Lb(b.nb))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-game-form"]],decls:69,vars:22,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],[3,"ngSubmit","keyup"],["position","floating"],["name","l_team",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","padding-top","0.2rem"],["name","v_team",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"goals"],["name","l_goals",3,"ngModel","ngModelChange"],["name","v_goals",3,"ngModel","ngModelChange"],["displayFormat","HH:mm ","name","time",3,"ngModel","ngModelChange"],["type","text","name","location",3,"ngModel","ngModelChange"],["type","text","name","description",3,"ngModel","ngModelChange"],["name","date","displayFormat","YYYY-MM-DD",3,"ngModel","ngModelChange"],["name","status",3,"ngModel","ngModelChange"],["type","submit","expand","block"],[3,"value"],["type","text","name","other_team",3,"ngModel","ngModelChange"],["size","sm",3,"click"]],template:function(e,t){1&e&&(a.Qb(0,"ion-header"),a.Qb(1,"ion-toolbar"),a.Qb(2,"ion-title"),a.uc(3,"Partido"),a.Pb(),a.Qb(4,"ion-buttons",0),a.Qb(5,"ion-button",1),a.Yb("click",(function(){return t.close()})),a.Mb(6,"ion-icon",2),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(7,"ion-content"),a.Qb(8,"form",3),a.Yb("ngSubmit",(function(){return t.submit()}))("keyup",(function(){return t.serviceGame.errorsForm.clear()})),a.Qb(9,"ion-item"),a.Qb(10,"ion-label",4),a.uc(11,"Equipo local"),a.Pb(),a.Qb(12,"ion-select",5),a.Yb("ngModelChange",(function(e){return t.game.l_team=e})),a.tc(13,d,2,2,"ion-select-option",6),a.Pb(),a.Qb(14,"div",7),a.uc(15),a.Pb(),a.Pb(),a.Qb(16,"ion-item"),a.Qb(17,"ion-label",4),a.uc(18,"Equipo Vicitante"),a.Pb(),a.Qb(19,"ion-select",8),a.Yb("ngModelChange",(function(e){return t.game.v_team=e})),a.tc(20,m,2,2,"ion-select-option",6),a.Pb(),a.Qb(21,"div",7),a.uc(22),a.Pb(),a.Pb(),a.tc(23,h,9,2,"div",9),a.Mb(24,"br"),a.Qb(25,"div",10),a.Qb(26,"ion-item"),a.Qb(27,"ion-label",4),a.uc(28,"Goles L"),a.Pb(),a.Qb(29,"ion-select",11),a.Yb("ngModelChange",(function(e){return t.game.l_goals=e})),a.tc(30,p,2,2,"ion-select-option",6),a.Pb(),a.Qb(31,"div",7),a.uc(32),a.Pb(),a.Pb(),a.Qb(33,"ion-item"),a.Qb(34,"ion-label",4),a.uc(35,"Goles V"),a.Pb(),a.Qb(36,"ion-select",12),a.Yb("ngModelChange",(function(e){return t.game.v_goals=e})),a.tc(37,f,2,2,"ion-select-option",6),a.Pb(),a.Qb(38,"div",7),a.uc(39),a.Pb(),a.Pb(),a.Pb(),a.Qb(40,"ion-item"),a.Qb(41,"ion-label"),a.uc(42,"HH:mm"),a.Pb(),a.Qb(43,"ion-datetime",13),a.Yb("ngModelChange",(function(e){return t.game.time=e})),a.Pb(),a.Pb(),a.Qb(44,"ion-item"),a.Qb(45,"ion-label",4),a.uc(46,"Lugar"),a.Pb(),a.Qb(47,"ion-input",14),a.Yb("ngModelChange",(function(e){return t.game.location=e})),a.Pb(),a.Pb(),a.Qb(48,"div",7),a.uc(49),a.Pb(),a.Qb(50,"ion-item"),a.Qb(51,"ion-label",4),a.uc(52,"Comentario"),a.Pb(),a.Qb(53,"ion-input",15),a.Yb("ngModelChange",(function(e){return t.game.description=e})),a.Pb(),a.Pb(),a.Qb(54,"div",7),a.uc(55),a.Pb(),a.Qb(56,"ion-item"),a.Qb(57,"ion-label"),a.uc(58,"Fecha"),a.Pb(),a.Qb(59,"ion-datetime",16),a.Yb("ngModelChange",(function(e){return t.game.date=e})),a.Pb(),a.Pb(),a.Qb(60,"ion-item"),a.Qb(61,"ion-label",4),a.uc(62,"Estado"),a.Pb(),a.Qb(63,"ion-select",17),a.Yb("ngModelChange",(function(e){return t.game.status=e})),a.tc(64,v,2,2,"ion-select-option",6),a.Pb(),a.Qb(65,"div",7),a.uc(66),a.Pb(),a.Pb(),a.Qb(67,"ion-button",18),a.uc(68,"Guardar"),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(12),a.gc("ngModel",t.game.l_team),a.yb(1),a.gc("ngForOf",t.teams),a.yb(2),a.vc(t.serviceGame.errorsForm.get("l_team")),a.yb(4),a.gc("ngModel",t.game.v_team),a.yb(1),a.gc("ngForOf",t.teams),a.yb(2),a.vc(t.serviceGame.errorsForm.get("v_team")),a.yb(1),a.gc("ngIf",t.game.other_team),a.yb(6),a.gc("ngModel",t.game.l_goals),a.yb(1),a.gc("ngForOf",t.numbGoals),a.yb(2),a.vc(t.serviceGame.errorsForm.get("l_goals")),a.yb(4),a.gc("ngModel",t.game.v_goals),a.yb(1),a.gc("ngForOf",t.numbGoals),a.yb(2),a.vc(t.serviceGame.errorsForm.get("v_goals")),a.yb(4),a.gc("ngModel",t.game.time),a.yb(4),a.gc("ngModel",t.game.location),a.yb(2),a.vc(t.serviceGame.errorsForm.get("location")),a.yb(4),a.gc("ngModel",t.game.description),a.yb(2),a.vc(t.serviceGame.errorsForm.get("description")),a.yb(4),a.gc("ngModel",t.game.date),a.yb(4),a.gc("ngModel",t.game.status),a.yb(1),a.gc("ngForOf",t.status),a.yb(2),a.vc(t.serviceGame.errorsForm.get("status")))},directives:[b.x,b.jb,b.hb,b.j,b.i,b.y,b.r,u.i,u.e,u.f,b.D,b.G,b.W,b.ub,u.d,u.g,g.k,g.l,b.s,b.C,b.vb,b.X],styles:[""]}),e})()},j1ZV:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("ofXK"),o=i("TEn/"),s=i("tyNb"),a=i("6g0+"),c=i("3Pt+"),r=i("fXoL");let b=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},imports:[[n.b,o.kb.forRoot(),c.a,s.j,a.b]]}),e})()},rLe3:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL");let o=(()=>{class e{constructor(){}listAddLast(e,t){e.push(t)}listAddFirst(e,t){e.unshift(t)}listUpdate(e,t,i){let n=this.findIndexList(e,t);n>=0&&(e[n]=i)}listDelete(e,t){let i=this.findIndexList(e,t);i>=0&&e.splice(i,1)}findList(e,t){return e.find(e=>e.id===t)}findIndexList(e,t){return e.findIndex(e=>e.id===t)}updateAttribustesObject(e,t,i=[]){console.log("update attributes");for(let n of i)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},xj5e:function(e,t,i){"use strict";i.d(t,"a",(function(){return Q}));var n=i("mrSG"),o=i("fXoL"),s=i("PEpV"),a=i("8xVP"),c=i("tyNb"),r=i("y/q6"),b=i("vuFD"),l=i("TEn/"),u=i("2Rin"),g=i("rLe3"),d=i("G/jy"),m=i("ofXK");function h(e,t){if(1&e&&(o.Qb(0,"ion-text",13),o.uc(1),o.Pb()),2&e){const e=o.ac(2);o.yb(1),o.vc("Pendiente"==e.game.status?"Pr\xf3ximo partido":"Ultimo partido")}}function p(e,t){if(1&e&&(o.Qb(0,"ion-text",14),o.uc(1),o.Pb()),2&e){const e=o.ac(2);o.yb(1),o.vc(e.game.l_goals)}}function f(e,t){if(1&e&&(o.Qb(0,"ion-text",14),o.uc(1),o.Pb()),2&e){const e=o.ac(2);o.yb(1),o.vc(e.game.v_goals)}}function v(e,t){if(1&e&&(o.Qb(0,"div",15),o.Qb(1,"b"),o.uc(2,"Motivo: "),o.Pb(),o.uc(3),o.Pb()),2&e){const e=o.ac(2);o.yb(3),o.wc(" ",e.game.description," ")}}function P(e,t){if(1&e){const e=o.Rb();o.Qb(0,"div",16),o.Qb(1,"ion-buttons",14),o.Qb(2,"ion-button",17),o.Yb("click",(function(){o.oc(e);const t=o.ac(2);return t.showEdit(t.game)})),o.Mb(3,"ion-icon",18),o.Pb(),o.Qb(4,"ion-button",17),o.Yb("click",(function(){o.oc(e);const t=o.ac(2);return t.confirmDelete(t.game)})),o.Mb(5,"ion-icon",19),o.Pb(),o.Pb(),o.Pb()}}function y(e,t){if(1&e&&(o.Qb(0,"div",1),o.tc(1,h,2,1,"ion-text",2),o.Qb(2,"div",3),o.Qb(3,"div",4),o.Qb(4,"div"),o.Qb(5,"ion-item"),o.Qb(6,"ion-avatar",5),o.Mb(7,"ion-img",6),o.Pb(),o.Qb(8,"ion-label"),o.uc(9),o.Pb(),o.tc(10,p,2,1,"ion-text",7),o.Pb(),o.Pb(),o.Qb(11,"div"),o.Qb(12,"ion-item"),o.Qb(13,"ion-avatar",5),o.Mb(14,"ion-img",6),o.Pb(),o.Qb(15,"ion-label"),o.uc(16),o.Pb(),o.tc(17,f,2,1,"ion-text",7),o.Pb(),o.Pb(),o.Pb(),o.Qb(18,"div",8),o.Qb(19,"ion-badge",9),o.uc(20),o.Pb(),o.Qb(21,"div"),o.uc(22),o.Pb(),o.Qb(23,"div",10),o.uc(24),o.Pb(),o.Pb(),o.Mb(25,"ion-ripple-effect"),o.Pb(),o.tc(26,v,4,1,"div",11),o.tc(27,P,6,0,"div",12),o.Pb()),2&e){const e=o.ac();o.yb(1),o.gc("ngIf",e.withTitle),o.yb(1),o.gc("routerLink",e.routerGoTo(e.game)),o.yb(5),o.gc("src",e.game.team_l.shield?e.game.team_l.shield.urlCompleteThumb:"assets/images/esc.png"),o.yb(2),o.vc(e.game.team_l.name),o.yb(1),o.gc("ngIf","Pendiente"!=e.game.status),o.yb(4),o.gc("src",e.game.team_v.shield?e.game.team_v.shield.urlCompleteThumb:"assets/images/esc.png"),o.yb(2),o.vc(e.game.team_v.name),o.yb(1),o.gc("ngIf","Pendiente"!=e.game.status),o.yb(2),o.gc("color",e.colorStatus),o.yb(1),o.vc(e.game.status),o.yb(2),o.vc(e.util.setFormatMoment(e.game.date,"DD/M/YYYY")),o.yb(2),o.vc(e.util.formatHours(e.game.time)),o.yb(2),o.gc("ngIf","Suspendido"==e.game.status&&""!=e.game.description),o.yb(1),o.gc("ngIf",e.userAuth.isAdmin())}}let Q=(()=>{class e{constructor(e,t,i,n,s,a,c,r){this.router=e,this.userAuth=t,this.dialogService=i,this.modalController=n,this.dialog=s,this.util=a,this.utilArray=c,this.request=r,this.withTitle=!0,this.onDeleteGame=new o.n,this.onUpdateGame=new o.n}ngOnInit(){console.log("withTitle",this.withTitle),this.modelGame=new a.a("Game",this.request)}get colorStatus(){if(this.game)switch(this.game.status){case"Pendiente":return"secondary";case"Jugado":return"success";case"Suspendido":return"danger"}return"default"}routerGoTo(e){return"Pendiente"==e.status?"/games/profile/"+e.id:"/results/profile/"+e.id}showEdit(e){return Object(n.b)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:s.a,componentProps:{id:e.id}});return t.onDidDismiss().then(e=>{const t=e.data.game;t&&(this.game=t)}),yield t.present()}))}confirmDelete(e){this.dialog.presentAlertConfirm("Confirmar","Estas seguro de eliminar este partido",t=>{this.delete(e)})}delete(e){this.modelGame.api_delete(e.id).subscribe(t=>{console.log(t),"success"==t.status&&(this.dialog.showToast("Partido Eliminado",null,"success"),this.onDeleteGame&&this.onDeleteGame.emit(e))})}}return e.\u0275fac=function(t){return new(t||e)(o.Lb(c.g),o.Lb(r.a),o.Lb(b.a),o.Lb(l.nb),o.Lb(b.a),o.Lb(u.a),o.Lb(g.a),o.Lb(d.a))},e.\u0275cmp=o.Fb({type:e,selectors:[["app-old-next-game"]],inputs:{game:"game",withTitle:"withTitle"},outputs:{onDeleteGame:"onDeleteGame",onUpdateGame:"onUpdateGame"},decls:1,vars:1,consts:[["class","content ",4,"ngIf"],[1,"content"],["class","desc",4,"ngIf"],[1,"content-temas","bg-l2","ion-activatable","ripple-parent",3,"routerLink"],[1,"teams"],["slot","start",1,"esc"],[1,"esc",3,"src"],["slot","end",4,"ngIf"],[1,"center","ion-text-center","date"],[1,"status",3,"color"],[1,"hs"],["class","det",4,"ngIf"],["class","ion-text-right",4,"ngIf"],[1,"desc"],["slot","end"],[1,"det"],[1,"ion-text-right"],[3,"click"],["slot","icon-only","name","create-outline"],["name","trash-outline"]],template:function(e,t){1&e&&o.tc(0,y,28,14,"div",0),2&e&&o.gc("ngIf",t.game)},directives:[m.l,l.tb,c.h,l.D,l.e,l.z,l.G,l.h,l.Q,l.eb,l.j,l.i,l.y],styles:[".content[_ngcontent-%COMP%]{padding:10px}.content-temas[_ngcontent-%COMP%]{display:flex;border-bottom-right-radius:20px;border-top-right-radius:20px}.teams[_ngcontent-%COMP%]{width:80%}.esc[_ngcontent-%COMP%]{width:20px;height:20px}.date[_ngcontent-%COMP%]{width:20%;font-size:small;color:rgba(244,243,243,.7686274509803922)}.hs[_ngcontent-%COMP%]{margin-top:5px}.desc[_ngcontent-%COMP%]{font-size:small;background:#171717;color:rgba(241,246,245,.6784313725490196);padding:6px 15px 3px 13px;border-top-left-radius:25px;border-top-right-radius:10px}.status[_ngcontent-%COMP%]{font-size:xx-small;margin-bottom:10px}.det[_ngcontent-%COMP%]{font-size:small;background:rgba(199,104,104,.4196078431372549);padding:5px;border-bottom-left-radius:10px;border-bottom-right-radius:10px}"]}),e})()}}]);