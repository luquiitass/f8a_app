(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{F4UR:function(n,o,i){"use strict";i.r(o),i.d(o,"LoginPageModule",(function(){return P}));var e=i("ofXK"),t=i("3Pt+"),r=i("TEn/"),l=i("tyNb"),a=i("mrSG"),c=i("U9ZX"),s=i("Jgta"),b=i("fXoL"),g=i("y/q6"),d=i("UbJi"),u=i("vuFD"),p=i("2Rin");function h(n,o){1&n&&b.Mb(0,"ion-spinner",24)}function m(n,o){1&n&&b.Mb(0,"ion-spinner",24)}const f=[{path:"",component:(()=>{class n{constructor(n,o,i,e,t,r){this.authUserService=n,this.modalController=o,this.afAuth=i,this.platform=e,this.utilDialog=t,this.util=r,this.loadingLogin=!1,this.loadingGoogle=!1}ngOnInit(){this.authUserService.redirect()}googleAuth(){}login(n){return Object(a.b)(this,void 0,void 0,(function*(){this.loadingLogin=!0,this.authUserService.login(n.value).finally(()=>{this.loadingLogin=!1})}))}openModal(){return Object(a.b)(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:c.a});return n.onDidDismiss().then(n=>{}),yield n.present()}))}loginGoogle(){return Object(a.b)(this,void 0,void 0,(function*(){this.loadingGoogle=!0;try{const n=(yield this.afAuth.signInWithPopup(new s.a.auth.GoogleAuthProvider)).user,o={email:n.email,first_name:n.displayName.split(" ")[1],last_name:n.displayName.split(" ")[0],photoURL:n.photoURL};console.log(n),console.log(o),this.authUserService.loginSocial(o).finally(()=>{this.loadingGoogle=!1,console.log("loadingGoogle",this.loadingGoogle)})}catch(n){console.log(n),this.loadingGoogle=!1,this.utilDialog.showToast("Error al iniciar sesi\xf3n con Google",null,"danger")}}))}}return n.\u0275fac=function(o){return new(o||n)(b.Lb(g.a),b.Lb(r.nb),b.Lb(d.a),b.Lb(r.rb),b.Lb(u.a),b.Lb(p.a))},n.\u0275cmp=b.Fb({type:n,selectors:[["app-login"]],decls:37,vars:6,consts:[[1,"ion-padding","ion-align-items-center"],[1,"ion-justify-content-center"],["size-xs","12",1,"ion-align-self-center"],[3,"ngSubmit"],["form","ngForm"],[1,"ion-text-center","bg-l2","icon"],["src","assets/icon/favicon.png"],[1,"ion-padding"],["name","email","type","email","placeholder","ejemplo@gmail.com","ngModel","","required",""],["name","password","type","password","placeholder","Contrase\xf1a","ngModel","","required",""],[2,"color","red","padding-top","0.2rem"],["padding",""],[1,"ion-text-center"],["type","submit",3,"disabled"],["name","lines",4,"ngIf"],[1,"ion-text-center","ion-margin-bottom","ion-margin-top"],["color","secondary","routerLink","/password-reset-email","routerDirection","forward"],[1,"ion-text-center","ion-margin"],["color","default",2,"background-color","#1976d2","color","white","display","none"],["name","logo-facebook"],["color","default",1,"ion-padding-left","ion-padding-right",2,"background-color","#c62828","color","white",3,"disabled","click"],["name","logo-google"],[1,"ion-text-center","ion-margin-top","rg"],["expand","block",3,"click"],["name","lines"]],template:function(n,o){if(1&n){const n=b.Rb();b.Qb(0,"ion-content",0),b.Qb(1,"ion-grid"),b.Qb(2,"ion-row",1),b.Qb(3,"ion-col",2),b.Qb(4,"form",3,4),b.Yb("ngSubmit",(function(){b.oc(n);const i=b.lc(5);return o.login(i)})),b.Qb(6,"div",5),b.Mb(7,"ion-img",6),b.Pb(),b.Qb(8,"div",7),b.Qb(9,"ion-item"),b.Mb(10,"ion-input",8),b.Pb(),b.Qb(11,"ion-item"),b.Mb(12,"ion-input",9),b.Pb(),b.Pb(),b.Qb(13,"div",10),b.vc(14),b.Pb(),b.Qb(15,"div",11),b.Qb(16,"div",12),b.Qb(17,"ion-button",13),b.uc(18,h,1,0,"ion-spinner",14),b.vc(19," Iniciar Sesi\xf3n "),b.Pb(),b.Pb(),b.Qb(20,"div",15),b.Qb(21,"a",16),b.vc(22,"\xbfOlvidaste tu contrase\xf1a?"),b.Pb(),b.Pb(),b.Qb(23,"div",17),b.Qb(24,"ion-text"),b.vc(25,"O puedes iniciar sesi\xf3n con:"),b.Pb(),b.Pb(),b.Qb(26,"div",12),b.Qb(27,"ion-button",18),b.Mb(28,"ion-icon",19),b.Pb(),b.Qb(29,"ion-button",20),b.Yb("click",(function(){return o.loginGoogle()})),b.Mb(30,"ion-icon",21),b.uc(31,m,1,0,"ion-spinner",14),b.Pb(),b.Pb(),b.Qb(32,"div",22),b.Qb(33,"ion-text"),b.vc(34," \xbfEres nuevo? "),b.Qb(35,"a",23),b.Yb("click",(function(){return o.openModal()})),b.vc(36,"Reg\xedstrate"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb()}if(2&n){const n=b.lc(5);b.yb(14),b.wc(o.authUserService.errorsLogin),b.yb(3),b.gc("disabled",n.invalid)("disabled",o.loadingLogin),b.yb(1),b.gc("ngIf",o.loadingLogin),b.yb(11),b.gc("disabled",o.loadingGoogle),b.yb(2),b.gc("ngIf",o.loadingGoogle)}},directives:[r.r,r.w,r.S,r.q,t.i,t.e,t.f,r.z,r.D,r.C,r.vb,t.d,t.g,t.h,r.i,e.l,l.i,r.tb,r.eb,r.y,r.ab],styles:["ion-grid[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{height:100%}ion-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]{max-width:400px;border-radius:70px;margin:auto}.rg[_ngcontent-%COMP%]{font-size:x-large;margin-top:60px}"]}),n})()}];let v=(()=>{class n{}return n.\u0275mod=b.Jb({type:n}),n.\u0275inj=b.Ib({factory:function(o){return new(o||n)},imports:[[l.j.forChild(f)],l.j]}),n})(),P=(()=>{class n{}return n.\u0275mod=b.Jb({type:n}),n.\u0275inj=b.Ib({factory:function(o){return new(o||n)},imports:[[e.b,t.a,r.kb,v]]}),n})()}}]);