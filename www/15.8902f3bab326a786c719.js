(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{rLe3:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var i=e("mrSG"),o=e("fXoL"),r=function(){function t(){}return t.prototype.listAddLast=function(t,n){t.push(n)},t.prototype.listAddFirst=function(t,n){t.unshift(n)},t.prototype.listUpdate=function(t,n,e){var i=this.findIndexList(t,n);i>=0&&(t[i]=e)},t.prototype.listDelete=function(t,n){var e=this.findIndexList(t,n);e>=0&&t.splice(e,1)},t.prototype.findList=function(t,n){return t.find((function(t){return t.id===n}))},t.prototype.findIndexList=function(t,n){return t.findIndex((function(t){return t.id===n}))},t.prototype.updateAttribustesObject=function(t,n,e){var o,r;void 0===e&&(e=[]),console.log("update attributes");try{for(var s=Object(i.h)(e),a=s.next();!a.done;a=s.next()){var c=a.value;n.hasOwnProperty(c)&&(t[c]=n[c])}}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return t},t.\u0275prov=o.Hb({token:t,factory:t.\u0275fac=function(n){return new(n||t)},providedIn:"root"}),t}()},yXoJ:function(t,n,e){"use strict";e.r(n),e.d(n,"ListPageModule",(function(){return v}));var i=e("ofXK"),o=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),a=e("mrSG"),c=e("JTEZ"),l=e("8xVP"),u=e("fXoL"),d=e("G/jy"),b=e("vuFD"),f=e("rLe3");function p(t,n){1&t&&(u.Qb(0,"ion-list-header",8),u.Qb(1,"ion-label"),u.vc(2,"Sin registros"),u.Pb(),u.Pb())}function h(t,n){if(1&t){var e=u.Rb();u.Qb(0,"ion-item"),u.Qb(1,"ion-label"),u.Qb(2,"h3"),u.vc(3),u.Pb(),u.Pb(),u.Qb(4,"ion-buttons",9),u.Qb(5,"ion-button",3),u.Yb("click",(function(){u.oc(e);var t=n.$implicit;return u.ac().showEdit(t)})),u.Mb(6,"ion-icon",10),u.Pb(),u.Qb(7,"ion-button",3),u.Yb("click",(function(){u.oc(e);var t=n.$implicit;return u.ac().confirmDelete(t)})),u.Mb(8,"ion-icon",11),u.Pb(),u.Pb(),u.Pb()}if(2&t){var i=n.$implicit;u.yb(3),u.wc(i.name)}}var m=[{path:"",component:function(){function t(t,n,e,i,o,r){this.request=t,this.dialogService=n,this.modalController=e,this.dialog=i,this.route=o,this.utilArray=r,this.list=[],this.playerService=new l.a("Player",t),this.modelTeam=new l.a("Team",t),this.team_id=this.route.snapshot.paramMap.get("team_id")}return t.prototype.ngOnInit=function(){this.load()},t.prototype.load=function(t){var n=this;void 0===t&&(t=null),console.log("load"),this.team_id?this.modelTeam.api_loadAttribute(this.team_id,"players").subscribe((function(e){(e.status="success")&&(console.log("response",e),n.list=e.Team.players),t&&t.target.complete()}),(function(n){t&&t.target.complete()})):this.playerService.api_function("all").subscribe((function(t){n.list=t.data}),(function(t){console.log(t)}))},t.prototype.openModal=function(){return Object(a.b)(this,void 0,void 0,(function(){var t,n=this;return Object(a.d)(this,(function(e){switch(e.label){case 0:return[4,this.modalController.create({component:c.a,componentProps:{team_id:this.team_id}})];case 1:return(t=e.sent()).onDidDismiss().then((function(t){t.data&&t.data.player&&n.utilArray.listAddFirst(n.list,t.data.player)})),[4,t.present()];case 2:return[2,e.sent()]}}))}))},t.prototype.showEdit=function(t){return Object(a.b)(this,void 0,void 0,(function(){var n,e=this;return Object(a.d)(this,(function(i){switch(i.label){case 0:return[4,this.modalController.create({component:c.a,componentProps:{id:t.id}})];case 1:return(n=i.sent()).onDidDismiss().then((function(t){if(t.data&&t.data.hasOwnProperty("player")){var n=t.data.player;e.utilArray.listUpdate(e.list,n.id,n)}})),[4,n.present()];case 2:return[2,i.sent()]}}))}))},t.prototype.confirmDelete=function(t){var n=this;this.dialog.presentAlertConfirm("Confirmar","Estas seguro de eliminar este jugador",(function(e){n.delete(t)}))},t.prototype.delete=function(t){var n=this;t.user_id?t.pivot.team_id&&this.modelTeam.api_functionModel(this.team_id,"removePlayer",{player_id:t.id}).subscribe((function(e){n.dialog.showToast("El Jugador ha sido eliminado de esta plantilla",null,"success"),n.utilArray.listDelete(n.list,t.id)}),(function(t){})):this.playerService.api_delete(t.id).subscribe((function(e){console.log(e),"success"==e.status&&(n.dialog.showToast("Jugador Eliminado",null,"success"),n.utilArray.listDelete(n.list,t.id))}))},t.\u0275fac=function(n){return new(n||t)(u.Lb(d.a),u.Lb(b.a),u.Lb(r.nb),u.Lb(b.a),u.Lb(s.a),u.Lb(f.a))},t.\u0275cmp=u.Fb({type:t,selectors:[["app-list"]],decls:15,vars:3,consts:[["slot","start"],["defaultHref","admin_home"],["slot","secondary"],[3,"click"],["name","add-outline"],["slot","fixed",3,"ionRefresh"],["color","tertiary",4,"ngIf"],[4,"ngFor","ngForOf"],["color","tertiary"],["slot","end"],["slot","icon-only","name","create-outline"],["name","trash-outline"]],template:function(t,n){1&t&&(u.Qb(0,"ion-header"),u.Qb(1,"ion-toolbar"),u.Qb(2,"ion-buttons",0),u.Mb(3,"ion-back-button",1),u.Pb(),u.Qb(4,"ion-title"),u.vc(5),u.Pb(),u.Qb(6,"ion-buttons",2),u.Qb(7,"ion-button",3),u.Yb("click",(function(){return n.openModal()})),u.Mb(8,"ion-icon",4),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(9,"ion-content"),u.Qb(10,"ion-refresher",5),u.Yb("ionRefresh",(function(t){return n.load(t)})),u.Mb(11,"ion-refresher-content"),u.Pb(),u.Qb(12,"ion-list"),u.uc(13,p,3,0,"ion-list-header",6),u.uc(14,h,9,1,"ion-item",7),u.Pb(),u.Pb()),2&t&&(u.yb(5),u.xc("",n.team_id?"Plantilla de ":"","Jugadores"),u.yb(8),u.gc("ngIf",0==n.list.length),u.yb(1),u.gc("ngForOf",n.list))},directives:[r.x,r.jb,r.j,r.f,r.g,r.hb,r.i,r.y,r.r,r.O,r.P,r.H,i.l,i.k,r.I,r.G,r.D],styles:[""]}),t}()}],y=function(){function t(){}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(n){return new(n||t)},imports:[[s.j.forChild(m)],s.j]}),t}(),v=function(){function t(){}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(n){return new(n||t)},imports:[[i.b,o.a,r.kb,y]]}),t}()}}]);