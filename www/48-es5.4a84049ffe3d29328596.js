!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{F4UR:function(o,i,t){"use strict";t.r(i),t.d(i,"LoginPageModule",(function(){return x}));var r=t("ofXK"),a=t("3Pt+"),c=t("TEn/"),s=t("tyNb"),l=t("mrSG"),u=t("U9ZX"),b=t("Jgta"),g=t("fXoL"),d=t("y/q6"),p=t("UbJi"),f=t("vuFD"),m=t("2Rin");function h(n,e){1&n&&g.Mb(0,"ion-spinner",24)}function v(n,e){1&n&&g.Mb(0,"ion-spinner",24)}var y,P,w,k=[{path:"",component:(y=function(){function o(e,i,t,r,a,c){n(this,o),this.authUserService=e,this.modalController=i,this.afAuth=t,this.platform=r,this.utilDialog=a,this.util=c,this.loadingLogin=!1,this.loadingGoogle=!1}var i,t,r;return i=o,(t=[{key:"ngOnInit",value:function(){this.authUserService.redirect()}},{key:"googleAuth",value:function(){}},{key:"login",value:function(n){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadingLogin=!0,this.authUserService.login(n.value).finally((function(){o.loadingLogin=!1}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"openModal",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalController.create({component:u.a});case 2:return(e=n.sent).onDidDismiss().then((function(n){})),n.next=6,e.present();case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"loginGoogle",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,o,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.loadingGoogle=!0,n.prev=1,n.next=4,this.afAuth.signInWithPopup(new b.a.auth.GoogleAuthProvider);case 4:e=n.sent.user,o={email:e.email,first_name:e.displayName.split(" ")[1],last_name:e.displayName.split(" ")[0],photoURL:e.photoURL},console.log(e),console.log(o),this.authUserService.loginSocial(o).finally((function(){i.loadingGoogle=!1,console.log("loadingGoogle",i.loadingGoogle)})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0),this.loadingGoogle=!1,this.utilDialog.showToast("Error al iniciar sesi\xf3n con Google",null,"danger");case 12:case"end":return n.stop()}}),n,this,[[1,9]])})))}}])&&e(i.prototype,t),r&&e(i,r),o}(),y.\u0275fac=function(n){return new(n||y)(g.Lb(d.a),g.Lb(c.lb),g.Lb(p.a),g.Lb(c.pb),g.Lb(f.a),g.Lb(m.a))},y.\u0275cmp=g.Fb({type:y,selectors:[["app-login"]],decls:37,vars:6,consts:[[1,"ion-padding","ion-align-items-center"],[1,"ion-justify-content-center"],["size-xs","12",1,"ion-align-self-center"],[3,"ngSubmit"],["form","ngForm"],[1,"ion-text-center","bg-l2","icon"],["src","assets/icon/favicon.png"],[1,"ion-padding"],["name","email","type","email","placeholder","ejemplo@gmail.com","ngModel","","required",""],["name","password","type","password","placeholder","Contrase\xf1a","ngModel","","required",""],[2,"color","red","padding-top","0.2rem"],["padding",""],[1,"ion-text-center"],["type","submit",3,"disabled"],["name","lines",4,"ngIf"],[1,"ion-text-center","ion-margin-bottom","ion-margin-top"],["color","secondary","routerLink","/password-reset-email","routerDirection","forward"],[1,"ion-text-center","ion-margin"],["color","default",2,"background-color","#1976d2","color","white","display","none"],["name","logo-facebook"],["color","default",1,"ion-padding-left","ion-padding-right",2,"background-color","#c62828","color","white",3,"disabled","click"],["name","logo-google"],[1,"ion-text-center","ion-margin-top","rg"],["expand","block",3,"click"],["name","lines"]],template:function(n,e){if(1&n){var o=g.Rb();g.Qb(0,"ion-content",0),g.Qb(1,"ion-grid"),g.Qb(2,"ion-row",1),g.Qb(3,"ion-col",2),g.Qb(4,"form",3,4),g.Yb("ngSubmit",(function(){g.nc(o);var n=g.kc(5);return e.login(n)})),g.Qb(6,"div",5),g.Mb(7,"ion-img",6),g.Pb(),g.Qb(8,"div",7),g.Qb(9,"ion-item"),g.Mb(10,"ion-input",8),g.Pb(),g.Qb(11,"ion-item"),g.Mb(12,"ion-input",9),g.Pb(),g.Pb(),g.Qb(13,"div",10),g.tc(14),g.Pb(),g.Qb(15,"div",11),g.Qb(16,"div",12),g.Qb(17,"ion-button",13),g.sc(18,h,1,0,"ion-spinner",14),g.tc(19," Iniciar Sesi\xf3n "),g.Pb(),g.Pb(),g.Qb(20,"div",15),g.Qb(21,"a",16),g.tc(22,"\xbfOlvidaste tu contrase\xf1a?"),g.Pb(),g.Pb(),g.Qb(23,"div",17),g.Qb(24,"ion-text"),g.tc(25,"O puedes iniciar sesi\xf3n con:"),g.Pb(),g.Pb(),g.Qb(26,"div",12),g.Qb(27,"ion-button",18),g.Mb(28,"ion-icon",19),g.Pb(),g.Qb(29,"ion-button",20),g.Yb("click",(function(){return e.loginGoogle()})),g.Mb(30,"ion-icon",21),g.sc(31,v,1,0,"ion-spinner",14),g.Pb(),g.Pb(),g.Qb(32,"div",22),g.Qb(33,"ion-text"),g.tc(34," \xbfEres nuevo? "),g.Qb(35,"a",23),g.Yb("click",(function(){return e.openModal()})),g.tc(36,"Reg\xedstrate"),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb()}if(2&n){var i=g.kc(5);g.yb(14),g.uc(e.authUserService.errorsLogin),g.yb(3),g.fc("disabled",i.invalid)("disabled",e.loadingLogin),g.yb(1),g.fc("ngIf",e.loadingLogin),g.yb(11),g.fc("disabled",e.loadingGoogle),g.yb(2),g.fc("ngIf",e.loadingGoogle)}},directives:[c.r,c.w,c.Q,c.q,a.i,a.e,a.f,c.z,c.D,c.C,c.sb,a.d,a.g,a.h,c.i,r.k,s.i,c.qb,c.cb,c.y,c.Y],styles:["ion-grid[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{height:100%}ion-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]{max-width:400px;border-radius:70px;margin:auto}.rg[_ngcontent-%COMP%]{font-size:x-large;margin-top:60px}"]}),y)}],Q=((w=function e(){n(this,e)}).\u0275mod=g.Jb({type:w}),w.\u0275inj=g.Ib({factory:function(n){return new(n||w)},imports:[[s.j.forChild(k)],s.j]}),w),x=((P=function e(){n(this,e)}).\u0275mod=g.Jb({type:P}),P.\u0275inj=g.Ib({factory:function(n){return new(n||P)},imports:[[r.b,a.a,c.ib,Q]]}),P)}}])}();