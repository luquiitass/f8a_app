(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"2Q27":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("mrSG"),o=n("9suA"),r=n("fXoL"),c=n("TEn/"),s=n("tyNb"),a=n("ofXK"),u=function(e){function t(t,n,i,o){var r=e.call(this,o,t)||this;return r.viewCtrl=t,r.router=n,r.navParams=i,r.id=i.get("id"),r}return Object(i.c)(t,e),t.prototype.ngOnInit=function(){},t.prototype.close=function(){this.viewCtrl.dismiss()},t.prototype.initObject=function(){},t.prototype.goPayment=function(){this.router.navigateByUrl("/payment/create/"+this.id),this.close()},t.\u0275fac=function(e){return new(e||t)(r.Lb(c.nb),r.Lb(s.g),r.Lb(c.pb),r.Lb(a.n))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-alert-create-team"]],features:[r.vb],decls:33,vars:0,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],[1,"text"],[1,"ion-margin-top","ionic-text-center"],[1,"ion-float-right",3,"click"]],template:function(e,t){1&e&&(r.Qb(0,"ion-header"),r.Qb(1,"ion-toolbar"),r.Qb(2,"ion-title"),r.vc(3,"Suscripci\xf3n pendiente"),r.Pb(),r.Qb(4,"ion-buttons",0),r.Qb(5,"ion-button",1),r.Yb("click",(function(){return t.close()})),r.Mb(6,"ion-icon",2),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(7,"ion-content"),r.Qb(8,"ion-card"),r.Qb(9,"ion-card-content"),r.Qb(10,"ion-text",3),r.vc(11," Para que los administradores de este equipo puedan crear y modificar : "),r.Pb(),r.Qb(12,"ul"),r.Qb(13,"li"),r.vc(14,"Jugadores"),r.Pb(),r.Qb(15,"li"),r.vc(16,"Redes sociales"),r.Pb(),r.Qb(17,"li"),r.vc(18,"Canchas"),r.Pb(),r.Qb(19,"li"),r.vc(20,"Nombre"),r.Pb(),r.Qb(21,"li"),r.vc(22,"Fotos de portada y escudo"),r.Pb(),r.Qb(23,"li"),r.vc(24,"Sucesos de partidos"),r.Pb(),r.Qb(25,"li"),r.vc(26,"Mas..."),r.Pb(),r.Pb(),r.Qb(27,"ion-text",3),r.vc(28," Es necesario que el equipo se encuentre subscrito. "),r.Pb(),r.Mb(29,"br"),r.Qb(30,"div",4),r.Qb(31,"ion-button",5),r.Yb("click",(function(){return t.goPayment()})),r.vc(32," Subscribir equipo"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb())},directives:[c.x,c.jb,c.hb,c.j,c.i,c.y,c.r,c.k,c.l,c.eb],styles:[".text[_ngcontent-%COMP%]{font-size:x-large}"]}),t}(o.a)},YTQa:function(e,t,n){"use strict";n.r(t),n.d(t,"ListPageModule",(function(){return h}));var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),c=n("tyNb"),s=n("mrSG"),a=n("j/D2"),u=n("8xVP"),b=n("fXoL"),l=n("G/jy"),d=n("vuFD");function v(e,t){1&e&&(b.Qb(0,"ion-list-header",8),b.Qb(1,"ion-label"),b.vc(2,"Sin registros"),b.Pb(),b.Pb())}function f(e,t){if(1&e){var n=b.Rb();b.Qb(0,"ion-item"),b.Qb(1,"ion-label"),b.Qb(2,"h3"),b.vc(3),b.Pb(),b.Pb(),b.Qb(4,"ion-buttons",9),b.Qb(5,"ion-button",3),b.Yb("click",(function(){b.oc(n);var e=t.$implicit;return b.ac().showEdit(e)})),b.Mb(6,"ion-icon",10),b.Pb(),b.Qb(7,"ion-button",3),b.Yb("click",(function(){b.oc(n);var e=t.$implicit;return b.ac().confirmDelete(e)})),b.Mb(8,"ion-icon",11),b.Pb(),b.Pb(),b.Pb()}if(2&e){var i=t.$implicit;b.yb(3),b.wc(i.name)}}var p=[{path:"",component:function(){function e(e,t,n){this.request=e,this.modalController=t,this.dialog=n,this.eventService=new u.a("Event",e)}return e.prototype.ngOnInit=function(){this.eventService.api_all()},e.prototype.openModal=function(){return Object(s.b)(this,void 0,void 0,(function(){var e,t=this;return Object(s.d)(this,(function(n){switch(n.label){case 0:return[4,this.modalController.create({component:a.a})];case 1:return(e=n.sent()).onDidDismiss().then((function(e){t.eventService.listAddLast(e.data.event)})),[4,e.present()];case 2:return[2,n.sent()]}}))}))},e.prototype.showEdit=function(e){return Object(s.b)(this,void 0,void 0,(function(){var t,n=this;return Object(s.d)(this,(function(i){switch(i.label){case 0:return[4,this.modalController.create({component:a.a,componentProps:{event:e}})];case 1:return(t=i.sent()).onDidDismiss().then((function(t){console.log(t),n.eventService.listUpdate(e.id,e)})),[4,t.present()];case 2:return[2,i.sent()]}}))}))},e.prototype.confirmDelete=function(e){var t=this;this.dialog.presentAlertConfirm("Confirmar","Estas seguro de eliminar este event",(function(n){t.delete(e)}))},e.prototype.delete=function(e){var t=this;this.eventService.api_delete(e.id).subscribe((function(n){console.log(n),"success"==n.status&&(t.dialog.showToast("Evento Eliminado",null,"success"),t.eventService.listDelete(e.id))}))},e.\u0275fac=function(t){return new(t||e)(b.Lb(l.a),b.Lb(r.nb),b.Lb(d.a))},e.\u0275cmp=b.Fb({type:e,selectors:[["app-list"]],decls:15,vars:2,consts:[["slot","start"],["defaultHref","admin_home"],["slot","secondary"],[3,"click"],["name","add-outline"],["slot","fixed",3,"ionRefresh"],["color","tertiary",4,"ngIf"],[4,"ngFor","ngForOf"],["color","tertiary"],["slot","end"],["slot","icon-only","name","create-outline"],["name","trash-outline"]],template:function(e,t){1&e&&(b.Qb(0,"ion-header"),b.Qb(1,"ion-toolbar"),b.Qb(2,"ion-buttons",0),b.Mb(3,"ion-back-button",1),b.Pb(),b.Qb(4,"ion-title"),b.vc(5,"Eventos"),b.Pb(),b.Qb(6,"ion-buttons",2),b.Qb(7,"ion-button",3),b.Yb("click",(function(){return t.openModal()})),b.Mb(8,"ion-icon",4),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(9,"ion-content"),b.Qb(10,"ion-refresher",5),b.Yb("ionRefresh",(function(e){return t.eventService.api_all(e)})),b.Mb(11,"ion-refresher-content"),b.Pb(),b.Qb(12,"ion-list"),b.uc(13,v,3,0,"ion-list-header",6),b.uc(14,f,9,1,"ion-item",7),b.Pb(),b.Pb()),2&e&&(b.yb(13),b.gc("ngIf",0==t.eventService.list.length),b.yb(1),b.gc("ngForOf",t.eventService.list))},directives:[r.x,r.jb,r.j,r.f,r.g,r.hb,r.i,r.y,r.r,r.O,r.P,r.H,i.l,i.k,r.I,r.G,r.D],styles:[""]}),e}()}],m=function(){function e(){}return e.\u0275mod=b.Jb({type:e}),e.\u0275inj=b.Ib({factory:function(t){return new(t||e)},imports:[[c.j.forChild(p)],c.j]}),e}(),h=function(){function e(){}return e.\u0275mod=b.Jb({type:e}),e.\u0275inj=b.Ib({factory:function(t){return new(t||e)},imports:[[i.b,o.a,r.kb,m]]}),e}()},"j/D2":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("mrSG"),o=n("8xVP"),r=n("9suA"),c=n("fXoL"),s=n("TEn/"),a=n("G/jy"),u=n("vuFD"),b=n("rLe3"),l=n("qgph"),d=n("ofXK"),v=n("3Pt+");function f(e,t){if(1&e&&(c.Qb(0,"ion-select-option",13),c.vc(1),c.Pb()),2&e){var n=t.$implicit;c.gc("value",n.id),c.yb(1),c.wc(n.name)}}function p(e,t){if(1&e&&(c.Qb(0,"ion-select-option",13),c.vc(1),c.Pb()),2&e){var n=t.$implicit;c.gc("value",n.id),c.yb(1),c.wc(n.name)}}function m(e,t){if(1&e){var n=c.Rb();c.Qb(0,"ion-item"),c.Qb(1,"ion-label",5),c.vc(2,"Equipo"),c.Pb(),c.Qb(3,"ion-select",14),c.Yb("ngModelChange",(function(e){return c.oc(n),c.ac(2).event.team_id=e})),c.uc(4,p,2,2,"ion-select-option",7),c.Pb(),c.Qb(5,"div",8),c.vc(6),c.Pb(),c.Pb()}if(2&e){var i=c.ac(2);c.yb(3),c.gc("ngModel",i.event.team_id),c.yb(1),c.gc("ngForOf",i.dataEvent.teams),c.yb(2),c.wc(i.eventModel.errorsForm.get("team_id"))}}function h(e,t){if(1&e&&(c.Qb(0,"ion-select-option",13),c.vc(1),c.Pb()),2&e){var n=t.$implicit;c.gc("value",n.id),c.yb(1),c.wc(n.name)}}function g(e,t){if(1&e){var n=c.Rb();c.Qb(0,"form",4),c.Yb("ngSubmit",(function(){return c.oc(n),c.ac().submit()}))("keyup",(function(){return c.oc(n),c.ac().eventModel.errorsForm.clear()})),c.Qb(1,"ion-item"),c.Qb(2,"ion-label",5),c.vc(3,"Tipo de Evento"),c.Pb(),c.Qb(4,"ion-select",6),c.Yb("ngModelChange",(function(e){return c.oc(n),c.ac().event.type_event_id=e})),c.uc(5,f,2,2,"ion-select-option",7),c.Pb(),c.Qb(6,"div",8),c.vc(7),c.Pb(),c.Pb(),c.uc(8,m,7,3,"ion-item",9),c.Qb(9,"ion-item"),c.Qb(10,"ion-label",5),c.vc(11,"Jugador"),c.Pb(),c.Qb(12,"ion-select",10),c.Yb("ngModelChange",(function(e){return c.oc(n),c.ac().event.player_id=e})),c.uc(13,h,2,2,"ion-select-option",7),c.Pb(),c.Qb(14,"div",8),c.vc(15),c.Pb(),c.Pb(),c.Qb(16,"ion-item"),c.Qb(17,"ion-label",5),c.vc(18,"Tiempo"),c.Pb(),c.Qb(19,"ion-input",11),c.Yb("ngModelChange",(function(e){return c.oc(n),c.ac().event.time=e})),c.Pb(),c.Pb(),c.Qb(20,"div",8),c.vc(21),c.Pb(),c.Qb(22,"ion-button",12),c.vc(23,"Guardar"),c.Pb(),c.Pb()}if(2&e){var i=c.ac();c.yb(4),c.gc("ngModel",i.event.type_event_id),c.yb(1),c.gc("ngForOf",i.dataEvent.types_events),c.yb(2),c.wc(i.eventModel.errorsForm.get("type_event_id")),c.yb(1),c.gc("ngIf",!i.team_admin||i.twoTeam),c.yb(4),c.gc("ngModel",i.event.player_id),c.yb(1),c.gc("ngForOf",i.getPlayers()),c.yb(2),c.wc(i.eventModel.errorsForm.get("player_id")),c.yb(4),c.gc("ngModel",i.event.time),c.yb(2),c.wc(i.eventModel.errorsForm.get("time"))}}var y=function(e){function t(t,n,i,r,c,s,a){var u=e.call(this,a,r)||this;return u.navParams=t,u.requestService=n,u.dialogService=i,u.viewCtrl=r,u.utilArray=c,u.paymentTeamService=s,u.twoTeam=!1,u.events=[],u.myDateFilter=function(e){return 6==e.getDay()},u.gameModel=new o.a("Game",n),u.eventModel=new o.a("Event",n),u.game_id=t.get("game_id"),u.twoTeam=t.get("twoTeam"),u.id=t.get("id"),u.team_admin=t.get("team_admin"),u.events=t.get("events"),u.game=t.get("game"),u}return Object(i.c)(t,e),t.prototype.initObject=function(){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return[4,this.init()];case 1:return e.sent(),this.loadEvent(),[2]}}))}))},t.prototype.loadEvent=function(){this.id||(this.event={game_id:this.game_id,type_event_id:"",player_id:"",team_id:this.team_admin?this.team_admin.id:"",time:""})},t.prototype.init=function(){return Object(i.b)(this,void 0,void 0,(function(){var e=this;return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,this.eventModel.api_function("dataEventCreate",{game_id:this.game_id}).subscribe((function(t){"success"==t.status&&(e.dataEvent=t.data,e.types_events=e.dataEvent.types_events),console.log("ty",e.types_events),console.log(e.dataEvent)}))];case 1:return t.sent(),[2]}}))}))},t.prototype.getPlayers=function(){var e=this.event.team_id;if(this.team_admin&&(e=this.event.team_id),e){var t=this.dataEvent.teams.find((function(t){return t.id===e}));if(t)return t.players}return[]},t.prototype.submit=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t,n=this;return Object(i.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.isValid()];case 1:return i.sent(),[3,3];case 2:return e=i.sent(),console.log(e),this.dialogService.showToast(e.message,"Error","danger"),[2];case 3:return t=this.game["team_"+this.getTeamType()],this.paymentTeamService.setTeam(t),this.paymentTeamService.noPaid()?[4,this.close()]:[3,6];case 4:return i.sent(),[4,this.paymentTeamService.showAlert()];case 5:return i.sent(),[2];case 6:return this.event.id?this.eventModel.api_update(this.event).subscribe((function(e){var t;"success"==e.status&&(n.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),console.log(e),n.dismiss(e.Event))})):this.eventModel.api_create(this.event).subscribe((function(e){var t;"success"==e.status&&(n.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),n.dismiss(e.Event))})),[2]}}))}))},t.prototype.dismiss=function(e){this.viewCtrl.dismiss({event:e})},t.prototype.close=function(){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return[4,this.viewCtrl.dismiss()];case 1:return e.sent(),[2]}}))}))},t.prototype.print=function(){console.log(this.event)},t.prototype.isValid=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t,n,o=this;return Object(i.d)(this,(function(i){if(!this.event.team_id)throw new Error("Seleccione un equipo");if(!this.event.type_event_id)throw new Error("Seleccione un evento");if(e=this.getTeamType(),(t=this.utilArray.findList(this.types_events,this.event.type_event_id))&&"Gol"==t.name&&(n=this.game[e+"_goals"],this.events.filter((function(e){return e.team_id==o.event.team_id&&"Gol"==e.type_event.name})).length+1>n))throw new Error(0==n?"El equipo seleccionado no ha convertido goles en este partido, no es posible registrar este evento.":"No puede a\xf1adir m\xe1s de "+n+" goles para \xe9ste equipo en \xe9ste partido.");return[2,!0]}))}))},t.prototype.getTeamType=function(){var e="l";return this.game.v_team==this.event.team_id&&(e="v"),e},t.\u0275fac=function(e){return new(e||t)(c.Lb(s.pb),c.Lb(a.a),c.Lb(u.a),c.Lb(s.nb),c.Lb(b.a),c.Lb(l.a),c.Lb(d.n))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-event-form"]],features:[c.vb],decls:9,vars:1,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],[3,"ngSubmit","keyup",4,"ngIf"],[3,"ngSubmit","keyup"],["position","floating"],["name","type_event_id",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","padding-top","0.2rem"],[4,"ngIf"],["name","player_id",3,"ngModel","ngModelChange"],["type","number","name","time",3,"ngModel","ngModelChange"],["type","submit","expand","block"],[3,"value"],["name","team_id",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(c.Qb(0,"ion-header"),c.Qb(1,"ion-toolbar"),c.Qb(2,"ion-title"),c.vc(3,"Evento"),c.Pb(),c.Qb(4,"ion-buttons",0),c.Qb(5,"ion-button",1),c.Yb("click",(function(){return t.close()})),c.Mb(6,"ion-icon",2),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(7,"ion-content"),c.uc(8,g,24,9,"form",3),c.Pb()),2&e&&(c.yb(8),c.gc("ngIf",t.dataEvent))},directives:[s.x,s.jb,s.hb,s.j,s.i,s.y,s.r,d.l,v.i,v.e,v.f,s.D,s.G,s.W,s.ub,v.d,v.g,d.k,s.C,s.qb,s.X],styles:[""]}),t}(r.a)},qgph:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),o=n("2Q27"),r=n("fXoL"),c=n("TEn/"),s=function(){function e(e){this.modalController=e,this.active=!0}return e.prototype.setTeam=function(e){this.team=e},e.prototype.isActive=function(){return this.active},e.prototype.noPaid=function(){return!!this.active&&!this.team.paid},e.prototype.showAlert=function(){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,this.modalController.create({component:o.a,componentProps:{id:this.team.id}})];case 1:return(e=t.sent()).onDidDismiss().then((function(e){console.log("return paid")})),[4,e.present()];case 2:return[2,t.sent()]}}))}))},e.\u0275fac=function(t){return new(t||e)(r.Ub(c.nb))},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},rLe3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("mrSG"),o=n("fXoL"),r=function(){function e(){}return e.prototype.listAddLast=function(e,t){e.push(t)},e.prototype.listAddFirst=function(e,t){e.unshift(t)},e.prototype.listUpdate=function(e,t,n){var i=this.findIndexList(e,t);i>=0&&(e[i]=n)},e.prototype.listDelete=function(e,t){var n=this.findIndexList(e,t);n>=0&&e.splice(n,1)},e.prototype.findList=function(e,t){return e.find((function(e){return e.id===t}))},e.prototype.findIndexList=function(e,t){return e.findIndex((function(e){return e.id===t}))},e.prototype.updateAttribustesObject=function(e,t,n){var o,r;void 0===n&&(n=[]),console.log("update attributes");try{for(var c=Object(i.h)(n),s=c.next();!s.done;s=c.next()){var a=s.value;t.hasOwnProperty(a)&&(e[a]=t[a])}}catch(u){o={error:u}}finally{try{s&&!s.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}return e},e.\u0275prov=o.Hb({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}()}}]);