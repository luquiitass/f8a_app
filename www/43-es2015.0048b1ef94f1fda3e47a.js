(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{cGQY:function(t,e,n){"use strict";n.r(e),n.d(e,"GamesPageModule",(function(){return k}));var i=n("ofXK"),o=n("3Pt+"),s=n("TEn/"),r=n("tyNb"),a=n("mrSG"),c=n("8xVP"),b=n("wd/R"),l=n("gZbD"),d=n("fXoL"),g=n("G/jy"),u=n("2Rin"),f=n("vuFD"),m=n("QbbR");function h(t,e){if(1&t&&(d.Qb(0,"ion-segment-button",10),d.tc(1),d.Pb()),2&t){const t=e.$implicit,n=e.index,i=d.ac(2);d.gc("value",n),d.hc("id","sgm_",n,""),d.yb(1),d.vc(" ",i.formatDate(t.date)," ")}}function p(t,e){1&t&&(d.Qb(0,"ion-list-header",11),d.Qb(1,"ion-label"),d.tc(2,"Sin registros"),d.Pb(),d.Pb())}function P(t,e){if(1&t&&d.Mb(0,"app-game-list",12),2&t){const t=e.$implicit;d.hc("routerLink","/games/profile/",t.id,""),d.fc("game",t)}}function v(t,e){if(1&t){const t=d.Rb();d.Qb(0,"div"),d.Qb(1,"ion-refresher",2),d.Yb("ionRefresh",(function(e){return d.nc(t),d.ac().init(e)})),d.Mb(2,"ion-refresher-content"),d.Pb(),d.Qb(3,"ion-list"),d.Qb(4,"ion-grid"),d.Qb(5,"ion-row"),d.Qb(6,"ion-col",3),d.Qb(7,"ion-segment",4),d.Yb("ngModelChange",(function(e){return d.nc(t),d.ac().tabSelected=e}))("ionChange",(function(e){return d.nc(t),d.ac().selectDate(e)})),d.sc(8,h,2,3,"ion-segment-button",5),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.sc(9,p,3,0,"ion-list-header",6),d.sc(10,P,1,2,"app-game-list",7),d.Qb(11,"ion-item",8),d.Yb("click",(function(){return d.nc(t),d.ac().addGame()})),d.Qb(12,"ion-label"),d.tc(13,"Crear nuevo partido"),d.Pb(),d.Mb(14,"ion-icon",9),d.Mb(15,"ion-ripple-effect"),d.Pb(),d.Pb(),d.Pb()}if(2&t){const t=d.ac();d.yb(7),d.fc("ngModel",t.tabSelected),d.yb(1),d.fc("ngForOf",t.tabs),d.yb(1),d.fc("ngIf",0==t.list.length),d.yb(1),d.fc("ngForOf",t.list)}}function w(t,e){1&t&&(d.Qb(0,"ion-card"),d.Qb(1,"div",15),d.Qb(2,"div",16),d.Qb(3,"div",17),d.Qb(4,"div",18),d.Mb(5,"ion-skeleton-text",19),d.Qb(6,"ion-avatar",0),d.Mb(7,"ion-skeleton-text",20),d.Pb(),d.Pb(),d.Qb(8,"div",21),d.Mb(9,"ion-skeleton-text",22),d.Pb(),d.Qb(10,"div",18),d.Mb(11,"ion-skeleton-text",19),d.Qb(12,"ion-avatar",0),d.Mb(13,"ion-skeleton-text",20),d.Pb(),d.Pb(),d.Pb(),d.Qb(14,"div",23),d.Mb(15,"ion-skeleton-text",24),d.Pb(),d.Pb(),d.Pb(),d.Pb())}function Q(t,e){if(1&t&&(d.Qb(0,"div"),d.Qb(1,"ion-grid"),d.Qb(2,"ion-row"),d.Qb(3,"ion-col"),d.Mb(4,"ion-skeleton-text",13),d.Pb(),d.Qb(5,"ion-col"),d.Mb(6,"ion-skeleton-text",13),d.Pb(),d.Qb(7,"ion-col"),d.Mb(8,"ion-skeleton-text",13),d.Pb(),d.Pb(),d.Pb(),d.sc(9,w,16,0,"ion-card",14),d.Pb()),2&t){const t=d.ac();d.yb(9),d.fc("ngForOf",t.listSkeleton)}}const y=[{path:"",component:(()=>{class t{constructor(t,e,n,i){this.request=t,this.util=e,this.dialogService=n,this.modalCtrl=i,this.list=[],this.tabs=[],this.listSkeleton=new Array(3),this.firstLoad=!0,this.modelGame=new c.a("Game",t)}ngOnInit(){this.init()}init(t=null){return Object(a.b)(this,void 0,void 0,(function*(){this.modelGame.api_function("pageHomeGames").subscribe(e=>{"success"==e.status&&(this.tabs=e.data.dates,this.selectFirst()),t&&t.target.complete(),console.log(e),this.firstLoad=!1},e=>{t&&t.target.complete(),console.error(e),this.firstLoad=!1})}))}selectFirst(){return Object(a.b)(this,void 0,void 0,(function*(){this.tabs.length>0&&(this.list=this.tabs[0].results,this.tabSelected=0,yield this.delay(1500),this.focusSegment())}))}selectDate(t){return Object(a.b)(this,void 0,void 0,(function*(){let e=parseInt(t.detail.value),n=this.tabs[e];if(n&&n.results)return this.list=n.results,void this.focusSegment();yield this.dialogService.loadingProgres(),this.modelGame.api_function("gamesByDate",{date:n.date}).subscribe(t=>{"success"==t.status&&(this.tabs[e].results=t.data,this.list=this.tabs[e].results,this.focusSegment()),this.dialogService.dimissLoaging(),console.log(t)},t=>{console.error(t),this.dialogService.dimissLoaging()})}))}focusSegment(){let t="sgm_"+this.tabSelected;console.log("select segment : ",t),document.getElementById(t).scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}delay(t){return new Promise(e=>setTimeout(e,t))}formatDate(t){return b(t).locale("es").format("DD MMMM YYYY")}addGame(){return Object(a.b)(this,void 0,void 0,(function*(){let t=yield this.modalCtrl.create({component:l.a});return yield t.present()}))}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(g.a),d.Lb(u.a),d.Lb(f.a),d.Lb(s.lb))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-games"]],decls:9,vars:2,consts:[["slot","start"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],["size","12"],["scrollable","",3,"ngModel","ngModelChange","ionChange"],[3,"value","id",4,"ngFor","ngForOf"],["color","tertiary",4,"ngIf"],["routerDirection","forward",3,"game","routerLink",4,"ngFor","ngForOf"],[1,"ion-activatable",3,"click"],["name","chevron-forward-outline"],[3,"value","id"],["color","tertiary"],["routerDirection","forward",3,"game","routerLink"],["animated","",2,"width","100%","height","30px"],[4,"ngFor","ngForOf"],[1,"ion-padding","custom-skeleton"],[1,"game"],[1,"team-list","contenedor"],[1,"team"],["animated","",2,"width","80%"],["animated",""],[1,"vs"],["animated","",2,"width","20px"],[1,"date","ion-text-center",2,"width","100%"],["animated","",2,"width","80px","margin","auto"]],template:function(t,e){1&t&&(d.Qb(0,"ion-header"),d.Qb(1,"ion-toolbar"),d.Qb(2,"ion-buttons",0),d.Mb(3,"ion-menu-button"),d.Pb(),d.Qb(4,"ion-title"),d.tc(5,"Partidos"),d.Pb(),d.Pb(),d.Pb(),d.Qb(6,"ion-content"),d.sc(7,v,16,4,"div",1),d.sc(8,Q,10,1,"div",1),d.Pb()),2&t&&(d.yb(7),d.fc("ngIf",!e.firstLoad),d.yb(1),d.fc("ngIf",e.firstLoad))},directives:[s.x,s.hb,s.j,s.K,s.fb,s.r,i.k,s.M,s.N,s.H,s.w,s.Q,s.q,s.S,s.rb,o.d,o.g,i.j,s.D,s.G,s.y,s.O,s.T,s.I,m.a,s.qb,r.h,s.W,s.k,s.e],styles:[".team-list[_ngcontent-%COMP%]{display:block}.vs[_ngcontent-%COMP%]{width:6%}.game[_ngcontent-%COMP%]{width:100%;padding:10px;background-repeat:no-repeat;background-size:100%;font-size:small}.team[_ngcontent-%COMP%]{display:flex;align-items:center;width:47%;flex-flow:column-reverse}.team-name[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.img-team[_ngcontent-%COMP%]{border-radius:50%;background-position:50%;width:30px;height:30px}.contenedor[_ngcontent-%COMP%]{margin:10px auto;display:flex;align-items:center;justify-content:center;width:100%;text-align:-webkit-center}.date[_ngcontent-%COMP%]{text-align:center}"]}),t})()}];let M=(()=>{class t{}return t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({factory:function(e){return new(e||t)},imports:[[r.j.forChild(y)],r.j]}),t})();var x=n("j1ZV");let k=(()=>{class t{}return t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({factory:function(e){return new(e||t)},imports:[[i.b,o.a,s.ib,M,x.a]]}),t})()}}]);