!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{bPE7:function(n,r,i){"use strict";i.r(r),i.d(r,"MyProfilePageModule",(function(){return I}));var o=i("ofXK"),s=i("3Pt+"),c=i("TEn/"),a=i("tyNb"),u=i("mrSG"),b=i("8xVP"),l=i("U9ZX"),f=i("fXoL"),d=i("y/q6"),h=i("G/jy"),m=i("EbHZ"),p=i("sjK5");function g(e,t){if(1&e){var n=f.Rb();f.Qb(0,"ion-button",8),f.Yb("click",(function(){return f.oc(n),f.ac().chatService.toggle()})),f.Mb(1,"ion-icon",9),f.Pb()}if(2&e){var r=f.ac();f.gc("color",r.chatService.isVisible?"success":"")}}function y(e,t){if(1&e&&(f.Qb(0,"ion-card"),f.Qb(1,"ion-card-content"),f.Qb(2,"div",10),f.Mb(3,"ion-img",11),f.Pb(),f.Pb(),f.Qb(4,"ion-card-header"),f.Qb(5,"ion-card-title"),f.uc(6),f.Pb(),f.Qb(7,"ion-card-subtitle"),f.uc(8),f.Pb(),f.Pb(),f.Pb()),2&e){var n=f.ac();f.yb(3),f.gc("src",n.getPhoto()),f.yb(3),f.xc(" ",n.user.last_name," ",n.user.first_name," "),f.yb(2),f.vc(n.user.email)}}function P(e,t){if(1&e&&(f.Qb(0,"ion-item",13),f.uc(1),f.Pb()),2&e){var n=t.$implicit;f.ic("routerLink","/team/profile/",n.id,""),f.yb(1),f.wc(" ",n.name," ")}}function v(e,t){if(1&e&&(f.Qb(0,"ion-card"),f.Qb(1,"ion-card-header"),f.Qb(2,"ion-card-title"),f.uc(3,"Mis Equipos"),f.Pb(),f.Pb(),f.Qb(4,"ion-card-content"),f.Qb(5,"ion-list"),f.tc(6,P,2,2,"ion-item",12),f.Pb(),f.Pb(),f.Pb()),2&e){var n=f.ac();f.yb(6),f.gc("ngForOf",n.user.teams)}}function w(e,t){if(1&e&&(f.Qb(0,"ion-card"),f.Qb(1,"ion-card-header"),f.Qb(2,"ion-card-title"),f.uc(3,"Mi perfil de Jugador"),f.Pb(),f.Pb(),f.Qb(4,"ion-card-content"),f.Qb(5,"ion-list"),f.Qb(6,"ion-item",13),f.uc(7),f.Pb(),f.Pb(),f.Pb(),f.Pb()),2&e){var n=f.ac();f.yb(6),f.ic("routerLink","/player/profile/",n.user.player.id,""),f.yb(1),f.wc(" ",n.user.player.name," ")}}var Q,k,M,j=[{path:"",component:(Q=function(){function n(t,r,i,o,s){e(this,n),this.authUser=t,this.requestService=r,this.modalController=i,this.transferData=o,this.chatService=s,this.userModel=new b.a("User",r),o.setData("test",{id:"id_lucas_data"}),console.log("set data transfer in My Profile",{id:"id_lucas_data"})}var r,i,o;return r=n,(i=[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.user=this.authUser.user,console.log("authUser user",this.user),this.user&&this.userModel.api_functionModel(this.user.id,"pageMyProfile").subscribe((function(t){console.log("init myProfile",t),"success"==t.status&&(n.user=t.data),e&&e.target.complete()}),(function(t){console.error(t),e&&e.target.complete()}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getPhoto",value:function(){return this.user&&this.user.photo?this.user.photo.urlComplete:"assets/images/profile.jpg"}},{key:"showEdit",value:function(){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:l.a,componentProps:{id:this.user.id}});case 2:return(t=e.sent).onDidDismiss().then((function(e){return Object(u.b)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),!e.data||!e.data.user){t.next=8;break}return n=e.data.user,this.user.first_name=n.first_name,this.user.last_name=n.last_name,this.user.photo=n.photo,this.user.email=n.email,t.next=8,this.authUser.setUser(this.user);case 8:case"end":return t.stop()}}),t,this)})))})),e.next=6,t.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}}])&&t(r.prototype,i),o&&t(r,o),n}(),Q.\u0275fac=function(e){return new(e||Q)(f.Lb(d.a),f.Lb(h.a),f.Lb(c.nb),f.Lb(m.a),f.Lb(p.a))},Q.\u0275cmp=f.Fb({type:Q,selectors:[["app-my-profile"]],decls:16,vars:5,consts:[["slot","start"],["defaultHref","/"],["slot","secondary"],[3,"click"],["name","create"],[3,"color","click",4,"ngIf"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],[3,"color","click"],["name","help-circle-outline"],[1,"ion-justify-content-center","ion-align-items-center"],["title","Foto de Perfil","scheme","dark",2,"width","auto",3,"src"],["routerDirection","forward",3,"routerLink",4,"ngFor","ngForOf"],["routerDirection","forward",3,"routerLink"]],template:function(e,t){1&e&&(f.Qb(0,"ion-header"),f.Qb(1,"ion-toolbar"),f.Qb(2,"ion-title"),f.uc(3),f.Pb(),f.Qb(4,"ion-buttons",0),f.Mb(5,"ion-back-button",1),f.Pb(),f.Qb(6,"ion-buttons",2),f.Qb(7,"ion-button",3),f.Yb("click",(function(){return t.showEdit()})),f.Mb(8,"ion-icon",4),f.Pb(),f.tc(9,g,2,1,"ion-button",5),f.Pb(),f.Pb(),f.Pb(),f.Qb(10,"ion-content"),f.Qb(11,"ion-refresher",6),f.Yb("ionRefresh",(function(e){return t.init(e)})),f.Mb(12,"ion-refresher-content"),f.Pb(),f.tc(13,y,9,4,"ion-card",7),f.tc(14,v,7,1,"ion-card",7),f.tc(15,w,8,2,"ion-card",7),f.Pb()),2&e&&(f.yb(3),f.wc(" ",t.user?t.user.last_name+" "+t.user.first_name:"My Perfil",""),f.yb(6),f.gc("ngIf",t.chatService.isInit),f.yb(4),f.gc("ngIf",t.user),f.yb(1),f.gc("ngIf",t.user&&t.user.teams&&t.user.teams.length>0),f.yb(1),f.gc("ngIf",t.user&&t.user.player))},directives:[c.x,c.jb,c.hb,c.j,c.f,c.g,c.i,c.y,o.l,c.r,c.O,c.P,c.k,c.l,c.z,c.m,c.o,c.n,c.H,o.k,c.D,c.tb,a.h],styles:[""]}),Q)}],_=((k=function t(){e(this,t)}).\u0275mod=f.Jb({type:k}),k.\u0275inj=f.Ib({factory:function(e){return new(e||k)},imports:[[a.j.forChild(j)],a.j]}),k),x=i("6g0+"),I=((M=function t(){e(this,t)}).\u0275mod=f.Jb({type:M}),M.\u0275inj=f.Ib({factory:function(e){return new(e||M)},imports:[[o.b,s.a,c.kb,_,x.b]]}),M)}}])}();