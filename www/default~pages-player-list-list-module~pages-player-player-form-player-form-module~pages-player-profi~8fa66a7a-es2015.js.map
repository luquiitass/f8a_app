{"version":3,"sources":["./src/app/pages/player/player-form/player-form.page.html","./src/app/pages/player/player-form/player-form.page.scss","./src/app/pages/player/player-form/player-form.page.ts"],"names":[],"mappings":"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","file":"default~pages-player-list-list-module~pages-player-player-form-player-form-module~pages-player-profi~8fa66a7a-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Jugador</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"dark\\\" (click)=\\\"close()\\\">\\n          <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n  </ion-buttons>\\n  <ion-buttons slot=\\\"secondary\\\">\\n    <ion-button *ngIf=\\\"chatService.isInit\\\" (click)=\\\"chatService.toggle()\\\" [color]=\\\"chatService.isVisible ? 'success' : ''\\\">\\n      <ion-icon name=\\\"help-circle-outline\\\"></ion-icon>\\n    </ion-button>  \\n  </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <form (ngSubmit)=\\\"submit()\\\"  (keyup)=\\\"servicePlayer.errorsForm.clear()\\\" >\\n\\n\\n    <ion-item *ngIf=\\\"canEditUser\\\">\\n      <ion-label position=\\\"floating\\\" >Usuario</ion-label>\\n      <ion-input type=\\\"text\\\" [value]=\\\"userSelect\\\" name=\\\"email\\\" (click)=\\\"selectUser()\\\"></ion-input>\\n      <ion-input type=\\\"hidden\\\" [(ngModel)]=\\\"player.user_id\\\" name=\\\"user_id\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('user_id') }}</div>\\n\\n    <div class=\\\"ion-text-center\\\">\\n      <img id=\\\"img_photo\\\"  [src]=\\\"photoModel.photo.getPath()\\\" >\\n      <div class=\\\"ion-text-center\\\">\\n        <ion-button   size=\\\"small\\\" color=\\\"tertiary\\\" (click)=\\\"photoModel.addOneNewToGallery()\\\">{{photoModel.isLoadPthoto() ? 'Modificar' : 'Seleccionar Imagen' }}</ion-button>\\n      </div>\\n    </div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Nombre</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"player.name\\\" name=\\\"name\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('name') }}</div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Fecha de nacimiento</ion-label>\\n      <ion-datetime [(ngModel)]=\\\"player.birth_date\\\" name=\\\"birth_date\\\"    displayFormat=\\\"DD-MM-YYYY\\\" ></ion-datetime>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('birth_date') }}</div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Apodo</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"player.nick\\\" name=\\\"nick\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('nick') }}</div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Numero</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"player.number\\\" name=\\\"number\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('number') }}</div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Altura</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"player.height\\\" name=\\\"height\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('height') }}</div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Peso</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"player.weight\\\" name=\\\"weight\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('weight') }}</div>\\n\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Posicion</ion-label>\\n      <ion-select [(ngModel)]=\\\"player.position_id\\\" name=\\\"position_id\\\">\\n        <ion-select-option [value]=\\\"pos.id\\\" *ngFor=\\\"let pos of servicePosition.list\\\">{{ pos.name }}</ion-select-option>\\n      </ion-select>\\n      <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('position_id') }}</div>\\n    </ion-item>\\n\\n    <div class=\\\"ion-text-center ion-margin-top\\\" >\\n      <ion-text color=\\\"danger\\\" *ngIf=\\\"!(isAutor || canEditUser )\\\" >\\n        Este Jugador ya tiene asignado un administrador, solo él puede modificar los datos.\\n      </ion-text>   \\n    </div>\\n   \\n    <ion-button type=\\\"submit\\\"  expand=\\\"block\\\" [disabled]=\\\" !(isAutor || canEditUser ) \\\" class=\\\"ion-margin\\\">\\n      Guardar\\n    </ion-button>\\n   \\n  </form>\\n</ion-content>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BsYXllci9wbGF5ZXItZm9ybS9wbGF5ZXItZm9ybS5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\n\nimport {RequestService} from '../../../api/request.service';\nimport { ModalController, NavParams, AlertController } from '@ionic/angular';\nimport { PhotoService } from 'src/app/services/photo.service';\nimport { Model } from 'src/app/api/models/model';\nimport { DialogService } from 'src/app/api/util/dialog.service';\nimport { ModelImage } from 'src/app/api/models/modelImage';\nimport { SearchPage } from '../../search/search.page';\nimport { AuthUserService } from 'src/app/services/auth-user.service';\nimport { Router } from '@angular/router';\nimport { ModalForm } from 'src/app/models/modal-form';\nimport { ModalFormInterface } from 'src/app/interfaces/modal-form-interface';\nimport { PlatformLocation } from '@angular/common';\nimport { ChatService } from 'src/app/services/chat.service';\nimport { UtilService } from 'src/app/services/util.service';\n\n@Component({\n  selector: 'app-player-form',\n  templateUrl: './player-form.page.html',\n  styleUrls: ['./player-form.page.scss'],\n})\nexport class PlayerFormPage extends ModalForm implements OnInit , ModalFormInterface {\n\n  public servicePlayer : Model;\n  public servicePosition : Model;\n  public player : any;\n  public id : any;\n  public team_id : any;\n  public photoModel : ModelImage;\n  public isUser = false;\n  public canEditUser = true;\n\n  constructor(\n    public request : RequestService,\n    public dialogService : DialogService,\n    public viewCtrl: ModalController,\n    navParams: NavParams,\n    public modalController: ModalController,\n    public authUser : AuthUserService,\n    public alertController: AlertController,\n    public router : Router,\n    location: PlatformLocation,\n    public chatService : ChatService,\n    public util : UtilService\n\n  ) {\n    super(location,viewCtrl);\n    this.servicePosition = new Model('Position',request);\n    this.servicePlayer = new Model('Player',request);\n    console.log('ver');\n    this.id = navParams.get('id');\n    this.team_id = navParams.get('team_id');\n    this.isUser = navParams.get('isUser');\n\n\n    this.photoModel = new ModelImage(request,viewCtrl);\n    this.photoModel.setAspectRatioCrop('1 / 1');\n    this.photoModel.init('images/players/profile/',true,'assets/images/jugador.png');\n    this.photoModel.setElementImg('img_photo');\n\n   }\n\n\n  async initObject(){\n    this.player = {\n       'name' :'',\n        'nick':'',\n        'birth_date':'',\n        'number':1,\n        'height':0,\n        'weight' :0,\n        'position_id':'',\n        'team_id' : this.team_id,\n        'photo_id' : ''\n      };\n\n    this.servicePosition.api_all();\n\n    if(this.id){\n      await this.dialogService.loadingProgres(null);\n      this.servicePlayer.api_find(this.id).subscribe(data => {\n        if(data['status'] == 'success'){\n          this.player = data['Player'];\n          if(this.player.photo)\n            this.photoModel.setImage( this.player.photo)\n\n          this.canEditUser = (this.player && !this.player.user_id);\n          this.dialogService.dimissLoaging();\n        }\n      },\n      error => {\n        this.dialogService.dimissLoaging();\n      })\n    }\n  }\n\n  async submit(){\n\n    if(this.photoModel.isLoadPthoto()){\n      this.savePhoto();\n      return;\n    }\n\n    this.savePlayer()\n  }\n\n  dismiss(player) {\n    this.viewCtrl.dismiss(\n      {\n        player : player,\n      }\n    );\n  }\n\n  close(){\n    this.viewCtrl.dismiss();\n  }\n\n  async savePhoto(){\n    this.dialogService.loadingProgres('Subiendo foto...');\n\n    await this.photoModel.uploadImage().subscribe( \n      data => {\n        if(data['status'] == 'success'){\n          let image = data['Image'];\n          this.player.photo_id = image.id;\n          this.savePlayer()\n          this.dialogService.dimissLoaging();\n        }\n      },\n      error => {\n        this.dialogService.dimissLoaging();\n        this.dialogService.showToast('Error al subir Portada','Error','danger');\n        //this.submit();\n      })\n\n  }\n\n  savePlayer(){\n\n    this.player.birth_date = this.util.setFormatMoment(this.player.birth_date , 'YYYY-MM-DD')\n\n    if(this.player.id){\n      this.dialogService.loadingProgres('Procesando, espere..');\n\n      this.servicePlayer.api_update(this.player).subscribe(data => {\n        if(data['status'] == 'success'){\n          this.dialogService.showToast( data['msjSuccess'] ?? 'Registrado' );\n          this.dismiss(data['Player'])\n          this.dialogService.dimissLoaging();\n\n        }\n      },\n      error => {\n        this.dialogService.dimissLoaging();\n      });\n\n    }else{\n      this.dialogService.loadingProgres('Procesando, espere..');\n\n      this.servicePlayer.api_create(this.player).subscribe(data => {\n        if(data['status'] == 'success'){\n          this.dialogService.showToast( data['msjSuccess'] ?? 'Registrado' );\n          this.dismiss(data['Player'])\n          this.dialogService.dimissLoaging();\n\n        }\n    },\n    error => {\n      this.dialogService.dimissLoaging();\n    })\n    }\n  }\n\n  async selectUser(){\n    //e.preventDefault();\n    console.log('Add admins');\n\n    const modal = await this.modalController.create({\n      component: SearchPage ,\n      componentProps: { \n        cancellable: false,\n        model : 'User',\n        function : 'searchUser',\n        multiple : false\n      }\n    });\n\n    modal.onDidDismiss().then(data=>{\n      const user = data.data ?  data.data['item'] : null;\n      if(user){\n        if(!user.player){\n          this.player.user_id =  user.id;\n          this.player.email = user.text\n        }else{\n          this.userWithPlayer(user);\n        }\n      }\n     \n    })\n\n    return await modal.present();\n  }\n\n  async userWithPlayer(user){\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Atención',\n      message: `<b>${user.text}</b> ya tiene asociado un jugador. Puedes enviarle una solicitud para que se incorpore a este equipo.`,\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Solicitar',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.router.navigateByUrl(`team-request/${this.team_id}/${user.player.id}`);\n            this.close();\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n\n  get isAutor(){\n    return this.player && this.authUser.user.id == this.player.user_id;\n  }\n\n  get isAdminGeneral(){\n    return this.authUser.isAdmin;\n  }\n\n  get userSelect(){\n    return this.player.user_id ? (this.player.user ? this.player.user.email : this.player.email) : '';\n  }\n\n}\n"],"sourceRoot":"webpack:///"}