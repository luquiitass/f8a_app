(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{bPE7:function(t,e,i){"use strict";i.r(e),i.d(e,"MyProfilePageModule",(function(){return w}));var r=i("ofXK"),o=i("3Pt+"),n=i("TEn/"),s=i("tyNb"),c=i("mrSG"),a=i("8xVP"),b=i("U9ZX"),u=i("fXoL"),l=i("y/q6"),d=i("G/jy"),f=i("EbHZ");function h(t,e){if(1&t&&(u.Qb(0,"ion-card"),u.Qb(1,"ion-card-content"),u.Qb(2,"div",7),u.Mb(3,"ion-img",8),u.Pb(),u.Pb(),u.Qb(4,"ion-card-header"),u.Qb(5,"ion-card-title"),u.tc(6),u.Pb(),u.Qb(7,"ion-card-subtitle"),u.tc(8),u.Pb(),u.Pb(),u.Pb()),2&t){const t=u.ac();u.yb(3),u.fc("src",t.getPhoto()),u.yb(3),u.wc(" ",t.user.last_name," ",t.user.first_name," "),u.yb(2),u.uc(t.user.email)}}function m(t,e){if(1&t&&(u.Qb(0,"ion-item",10),u.tc(1),u.Pb()),2&t){const t=e.$implicit;u.hc("routerLink","/team/profile/",t.id,""),u.yb(1),u.vc(" ",t.name," ")}}function p(t,e){if(1&t&&(u.Qb(0,"ion-card"),u.Qb(1,"ion-card-header"),u.Qb(2,"ion-card-title"),u.tc(3,"Mis Equipos"),u.Pb(),u.Pb(),u.Qb(4,"ion-card-content"),u.Qb(5,"ion-list"),u.sc(6,m,2,2,"ion-item",9),u.Pb(),u.Pb(),u.Pb()),2&t){const t=u.ac();u.yb(6),u.fc("ngForOf",t.user.teams)}}function P(t,e){if(1&t&&(u.Qb(0,"ion-card"),u.Qb(1,"ion-card-header"),u.Qb(2,"ion-card-title"),u.tc(3,"Mi perfil de Jugador"),u.Pb(),u.Pb(),u.Qb(4,"ion-card-content"),u.Qb(5,"ion-list"),u.Qb(6,"ion-item",10),u.tc(7),u.Pb(),u.Pb(),u.Pb(),u.Pb()),2&t){const t=u.ac();u.yb(6),u.hc("routerLink","/player/profile/",t.user.player.id,""),u.yb(1),u.vc(" ",t.user.player.name," ")}}const y=[{path:"",component:(()=>{class t{constructor(t,e,i,r){this.authUser=t,this.requestService=e,this.modalController=i,this.transferData=r,this.userModel=new a.a("User",e),r.setData("test",{id:"id_lucas_data"}),console.log("set data transfer in My Profile",{id:"id_lucas_data"})}ngOnInit(){this.init()}init(t=null){return Object(c.b)(this,void 0,void 0,(function*(){this.user=this.authUser.user,console.log("authUser user",this.user),this.user&&this.userModel.api_functionModel(this.user.id,"pageMyProfile").subscribe(e=>{console.log("init myProfile",e),"success"==e.status&&(this.user=e.data),t&&t.target.complete()},e=>{console.error(e),t&&t.target.complete()})}))}getPhoto(){return this.user&&this.user.photo?this.user.photo.urlComplete:"assets/images/profile.jpg"}showEdit(){return Object(c.b)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:b.a,componentProps:{id:this.user.id}});return t.onDidDismiss().then(t=>Object(c.b)(this,void 0,void 0,(function*(){if(console.log(t),t.data&&t.data.user){let e=t.data.user;this.user.first_name=e.first_name,this.user.last_name=e.last_name,this.user.photo=e.photo,this.user.email=e.email,yield this.authUser.setUser(this.user)}}))),yield t.present()}))}}return t.\u0275fac=function(e){return new(e||t)(u.Lb(l.a),u.Lb(d.a),u.Lb(n.lb),u.Lb(f.a))},t.\u0275cmp=u.Fb({type:t,selectors:[["app-my-profile"]],decls:15,vars:4,consts:[["slot","start"],["defaultHref","/"],["slot","secondary"],[3,"click"],["name","create"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],[1,"ion-justify-content-center","ion-align-items-center"],["title","Foto de Perfil","scheme","dark",2,"width","auto",3,"src"],["routerDirection","forward",3,"routerLink",4,"ngFor","ngForOf"],["routerDirection","forward",3,"routerLink"]],template:function(t,e){1&t&&(u.Qb(0,"ion-header"),u.Qb(1,"ion-toolbar"),u.Qb(2,"ion-title"),u.tc(3),u.Pb(),u.Qb(4,"ion-buttons",0),u.Mb(5,"ion-back-button",1),u.Pb(),u.Qb(6,"ion-buttons",2),u.Qb(7,"ion-button",3),u.Yb("click",(function(){return e.showEdit()})),u.Mb(8,"ion-icon",4),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(9,"ion-content"),u.Qb(10,"ion-refresher",5),u.Yb("ionRefresh",(function(t){return e.init(t)})),u.Mb(11,"ion-refresher-content"),u.Pb(),u.sc(12,h,9,4,"ion-card",6),u.sc(13,p,7,1,"ion-card",6),u.sc(14,P,8,2,"ion-card",6),u.Pb()),2&t&&(u.yb(3),u.vc(" ",e.user?e.user.last_name+" "+e.user.first_name:"My Perfil",""),u.yb(9),u.fc("ngIf",e.user),u.yb(1),u.fc("ngIf",e.user&&e.user.teams&&e.user.teams.length>0),u.yb(1),u.fc("ngIf",e.user&&e.user.player))},directives:[n.x,n.hb,n.fb,n.j,n.f,n.g,n.i,n.y,n.r,n.M,n.N,r.k,n.k,n.l,n.z,n.m,n.o,n.n,n.H,r.j,n.D,n.qb,s.h],styles:[""]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(e){return new(e||t)},imports:[[s.j.forChild(y)],s.j]}),t})();var Q=i("6g0+");let w=(()=>{class t{}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(e){return new(e||t)},imports:[[r.b,o.a,n.ib,g,Q.b]]}),t})()}}]);