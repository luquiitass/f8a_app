{"version":3,"sources":["./src/app/pages/player/player-form/player-form.page.html","./src/app/pages/player/player-form/player-form.page.scss","./src/app/pages/player/player-form/player-form.page.ts"],"names":[],"mappings":"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","file":"default~pages-player-list-list-module~pages-player-player-form-player-form-module~pages-player-profi~8fa66a7a.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Jugador</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"dark\\\" (click)=\\\"close()\\\">\\n          <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n  </ion-buttons>\\n  <ion-buttons slot=\\\"secondary\\\">\\n    <ion-button *ngIf=\\\"chatService.isInit\\\" (click)=\\\"chatService.toggle()\\\" [color]=\\\"chatService.isVisible ? 'success' : ''\\\">\\n      <ion-icon name=\\\"help-circle-outline\\\"></ion-icon>\\n    </ion-button>  \\n  </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <form (ngSubmit)=\\\"submit()\\\"  (keyup)=\\\"servicePlayer.errorsForm.clear()\\\" >\\n\\n\\n    <ion-item *ngIf=\\\"canEditUser\\\">\\n      <ion-label position=\\\"floating\\\" >Usuario</ion-label>\\n      <ion-input type=\\\"text\\\" [value]=\\\"userSelect\\\" name=\\\"email\\\" (click)=\\\"selectUser()\\\"></ion-input>\\n      <ion-input type=\\\"hidden\\\" [(ngModel)]=\\\"player.user_id\\\" name=\\\"user_id\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('user_id') }}</div>\\n\\n    <div class=\\\"ion-text-center\\\">\\n      <img id=\\\"img_photo\\\"  [src]=\\\"photoModel.photo.getPath()\\\" >\\n      <div class=\\\"ion-text-center\\\">\\n        <ion-button   size=\\\"small\\\" color=\\\"tertiary\\\" (click)=\\\"photoModel.addOneNewToGallery()\\\">{{photoModel.isLoadPthoto() ? 'Modificar' : 'Seleccionar Imagen' }}</ion-button>\\n      </div>\\n    </div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Nombre</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"player.name\\\" name=\\\"name\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('name') }}</div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Fecha de nacimiento</ion-label>\\n      <ion-datetime [(ngModel)]=\\\"player.birth_date\\\" name=\\\"birth_date\\\"    displayFormat=\\\"DD-MM-YYYY\\\" ></ion-datetime>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('birth_date') }}</div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Apodo</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"player.nick\\\" name=\\\"nick\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('nick') }}</div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Numero</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"player.number\\\" name=\\\"number\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('number') }}</div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Altura</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"player.height\\\" name=\\\"height\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('height') }}</div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Peso</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"player.weight\\\" name=\\\"weight\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('weight') }}</div>\\n\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Posicion</ion-label>\\n      <ion-select [(ngModel)]=\\\"player.position_id\\\" name=\\\"position_id\\\">\\n        <ion-select-option [value]=\\\"pos.id\\\" *ngFor=\\\"let pos of servicePosition.list\\\">{{ pos.name }}</ion-select-option>\\n      </ion-select>\\n      <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ servicePlayer.errorsForm.get('position_id') }}</div>\\n    </ion-item>\\n\\n    <div class=\\\"ion-text-center ion-margin-top\\\" >\\n      <ion-text color=\\\"danger\\\" *ngIf=\\\"!(isAutor || canEditUser )\\\" >\\n        Este Jugador ya tiene asignado un administrador, solo él puede modificar los datos.\\n      </ion-text>   \\n    </div>\\n   \\n    <ion-button type=\\\"submit\\\"  expand=\\\"block\\\" [disabled]=\\\" !(isAutor || canEditUser ) \\\" class=\\\"ion-margin\\\">\\n      Guardar\\n    </ion-button>\\n   \\n  </form>\\n</ion-content>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BsYXllci9wbGF5ZXItZm9ybS9wbGF5ZXItZm9ybS5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\n\nimport {RequestService} from '../../../api/request.service';\nimport { ModalController, NavParams, AlertController } from '@ionic/angular';\nimport { PhotoService } from 'src/app/services/photo.service';\nimport { Model } from 'src/app/api/models/model';\nimport { DialogService } from 'src/app/api/util/dialog.service';\nimport { ModelImage } from 'src/app/api/models/modelImage';\nimport { SearchPage } from '../../search/search.page';\nimport { AuthUserService } from 'src/app/services/auth-user.service';\nimport { Router } from '@angular/router';\nimport { ModalForm } from 'src/app/models/modal-form';\nimport { ModalFormInterface } from 'src/app/interfaces/modal-form-interface';\nimport { PlatformLocation } from '@angular/common';\nimport { ChatService } from 'src/app/services/chat.service';\nimport { UtilService } from 'src/app/services/util.service';\n\n@Component({\n  selector: 'app-player-form',\n  templateUrl: './player-form.page.html',\n  styleUrls: ['./player-form.page.scss'],\n})\nexport class PlayerFormPage extends ModalForm implements OnInit , ModalFormInterface {\n\n  public servicePlayer : Model;\n  public servicePosition : Model;\n  public player : any;\n  public id : any;\n  public team_id : any;\n  public photoModel : ModelImage;\n  public isUser = false;\n  public canEditUser = true;\n\n  constructor(\n    public request : RequestService,\n    public dialogService : DialogService,\n    public viewCtrl: ModalController,\n    navParams: NavParams,\n    public modalController: ModalController,\n    public authUser : AuthUserService,\n    public alertController: AlertController,\n    public router : Router,\n    location: PlatformLocation,\n    public chatService : ChatService,\n    public util : UtilService\n\n  ) {\n    super(location,viewCtrl);\n    this.servicePosition = new Model('Position',request);\n    this.servicePlayer = new Model('Player',request);\n    console.log('ver');\n    this.id = navParams.get('id');\n    this.team_id = navParams.get('team_id');\n    this.isUser = navParams.get('isUser');\n\n\n    this.photoModel = new ModelImage(request,viewCtrl);\n    this.photoModel.setAspectRatioCrop('1 / 1');\n    this.photoModel.init('images/players/profile/',true,'assets/images/jugador.png');\n    this.photoModel.setElementImg('img_photo');\n\n   }\n\n\n  async initObject(){\n    this.player = {\n       'name' :'',\n        'nick':'',\n        'birth_date':'',\n        'number':1,\n        'height':0,\n        'weight' :0,\n        'position_id':'',\n        'team_id' : this.team_id,\n        'photo_id' : ''\n      };\n\n    this.servicePosition.api_all();\n\n    if(this.id){\n      await this.dialogService.loadingProgres(null);\n      this.servicePlayer.api_find(this.id).subscribe(data => {\n        if(data['status'] == 'success'){\n          this.player = data['Player'];\n          if(this.player.photo)\n            this.photoModel.setImage( this.player.photo)\n\n          this.canEditUser = (this.player && !this.player.user_id);\n          this.dialogService.dimissLoaging();\n        }\n      },\n      error => {\n        this.dialogService.dimissLoaging();\n      })\n    }\n  }\n\n  async submit(){\n\n    if(this.photoModel.isLoadPthoto()){\n      this.savePhoto();\n      return;\n    }\n\n    this.savePlayer()\n  }\n\n  dismiss(player) {\n    this.viewCtrl.dismiss(\n      {\n        player : player,\n      }\n    );\n  }\n\n  close(){\n    this.viewCtrl.dismiss();\n  }\n\n  async savePhoto(){\n    this.dialogService.loadingProgres('Subiendo foto...');\n\n    await this.photoModel.uploadImage().subscribe( \n      data => {\n        if(data['status'] == 'success'){\n          let image = data['Image'];\n          this.player.photo_id = image.id;\n          this.savePlayer()\n          this.dialogService.dimissLoaging();\n        }\n      },\n      error => {\n        this.dialogService.dimissLoaging();\n        this.dialogService.showToast('Error al subir Portada','Error','danger');\n        //this.submit();\n      })\n\n  }\n\n  savePlayer(){\n\n    this.player.birth_date = this.util.setFormatMoment(this.player.birth_date , 'YYYY-MM-DD')\n\n    if(this.player.id){\n      this.dialogService.loadingProgres('Procesando, espere..');\n\n      this.servicePlayer.api_update(this.player).subscribe(data => {\n        if(data['status'] == 'success'){\n          this.dialogService.showToast( data['msjSuccess'] ?? 'Registrado' );\n          this.dismiss(data['Player'])\n          this.dialogService.dimissLoaging();\n\n        }\n      },\n      error => {\n        this.dialogService.dimissLoaging();\n      });\n\n    }else{\n      this.dialogService.loadingProgres('Procesando, espere..');\n\n      this.servicePlayer.api_create(this.player).subscribe(data => {\n        if(data['status'] == 'success'){\n          this.dialogService.showToast( data['msjSuccess'] ?? 'Registrado' );\n          this.dismiss(data['Player'])\n          this.dialogService.dimissLoaging();\n\n        }\n    },\n    error => {\n      this.dialogService.dimissLoaging();\n    })\n    }\n  }\n\n  async selectUser(){\n    //e.preventDefault();\n    console.log('Add admins');\n\n    const modal = await this.modalController.create({\n      component: SearchPage ,\n      componentProps: { \n        cancellable: false,\n        model : 'User',\n        function : 'searchUser',\n        multiple : false\n      }\n    });\n\n    modal.onDidDismiss().then(data=>{\n      const user = data.data ?  data.data['item'] : null;\n      if(user){\n        if(!user.player){\n          this.player.user_id =  user.id;\n          this.player.email = user.text\n        }else{\n          this.userWithPlayer(user);\n        }\n      }\n     \n    })\n\n    return await modal.present();\n  }\n\n  async userWithPlayer(user){\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Atención',\n      message: `<b>${user.text}</b> ya tiene asociado un jugador. Puedes enviarle una solicitud para que se incorpore a este equipo.`,\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Solicitar',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.router.navigateByUrl(`team-request/${this.team_id}/${user.player.id}`);\n            this.close();\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n\n  get isAutor(){\n    return this.player && this.authUser.user.id == this.player.user_id;\n  }\n\n  get isAdminGeneral(){\n    return this.authUser.isAdmin;\n  }\n\n  get userSelect(){\n    return this.player.user_id ? (this.player.user ? this.player.user.email : this.player.email) : '';\n  }\n\n}\n"],"sourceRoot":"webpack:///"}