!function(){function t(t,n){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(c)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{cGQY:function(t,e,i){"use strict";i.r(e),i.d(e,"GamesPageModule",(function(){return F}));var o=i("ofXK"),a=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),u=i("mrSG"),l=i("8xVP"),b=i("wd/R"),f=i("z0x6"),d=i("fXoL"),g=i("G/jy"),m=i("2Rin"),h=i("vuFD"),v=i("y/q6"),p=i("rLe3"),y=i("QbbR");function w(t,e){if(1&t&&(d.Qb(0,"ion-segment-button",9),d.tc(1),d.Pb()),2&t){var n=e.$implicit,i=e.index,r=d.ac(2);d.gc("value",i),d.hc("id","sgm_",i,""),d.yb(1),d.vc(" ",r.formatDate(n.date)," ")}}function k(t,e){1&t&&(d.Qb(0,"ion-list-header",10),d.Qb(1,"ion-label"),d.tc(2,"Sin registros"),d.Pb(),d.Pb())}function P(t,e){if(1&t&&d.Mb(0,"app-game-list",11),2&t){var n=e.$implicit;d.hc("routerLink","/games/profile/",n.id,""),d.fc("game",n)}}function x(t,e){if(1&t){var n=d.Rb();d.Qb(0,"ion-item",12),d.Yb("click",(function(){return d.nc(n),d.ac(2).addGame()})),d.Qb(1,"ion-label"),d.tc(2,"Crear nuevo partido"),d.Pb(),d.Mb(3,"ion-icon",13),d.Mb(4,"ion-ripple-effect"),d.Pb()}}function M(t,e){if(1&t){var n=d.Rb();d.Qb(0,"div"),d.Qb(1,"ion-refresher",2),d.Yb("ionRefresh",(function(t){return d.nc(n),d.ac().init(t)})),d.Mb(2,"ion-refresher-content"),d.Pb(),d.Qb(3,"ion-list"),d.Qb(4,"ion-grid"),d.Qb(5,"ion-row"),d.Qb(6,"ion-col",3),d.Qb(7,"ion-segment",4),d.Yb("ngModelChange",(function(t){return d.nc(n),d.ac().tabSelected=t}))("ionChange",(function(t){return d.nc(n),d.ac().selectDate(t)})),d.sc(8,w,2,3,"ion-segment-button",5),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.sc(9,k,3,0,"ion-list-header",6),d.sc(10,P,1,2,"app-game-list",7),d.sc(11,x,5,0,"ion-item",8),d.Pb(),d.Pb()}if(2&t){var i=d.ac();d.yb(7),d.fc("ngModel",i.tabSelected),d.yb(1),d.fc("ngForOf",i.tabs),d.yb(1),d.fc("ngIf",0==i.list.length),d.yb(1),d.fc("ngForOf",i.list),d.yb(1),d.fc("ngIf",i.authUser.isAdminTeam())}}function Q(t,e){1&t&&(d.Qb(0,"ion-card"),d.Qb(1,"div",16),d.Qb(2,"div",17),d.Qb(3,"div",18),d.Qb(4,"div",19),d.Mb(5,"ion-skeleton-text",20),d.Qb(6,"ion-avatar",0),d.Mb(7,"ion-skeleton-text",21),d.Pb(),d.Pb(),d.Qb(8,"div",22),d.Mb(9,"ion-skeleton-text",23),d.Pb(),d.Qb(10,"div",19),d.Mb(11,"ion-skeleton-text",20),d.Qb(12,"ion-avatar",0),d.Mb(13,"ion-skeleton-text",21),d.Pb(),d.Pb(),d.Pb(),d.Qb(14,"div",24),d.Mb(15,"ion-skeleton-text",25),d.Pb(),d.Pb(),d.Pb(),d.Pb())}function O(t,e){if(1&t&&(d.Qb(0,"div"),d.Qb(1,"ion-grid"),d.Qb(2,"ion-row"),d.Qb(3,"ion-col"),d.Mb(4,"ion-skeleton-text",14),d.Pb(),d.Qb(5,"ion-col"),d.Mb(6,"ion-skeleton-text",14),d.Pb(),d.Qb(7,"ion-col"),d.Mb(8,"ion-skeleton-text",14),d.Pb(),d.Pb(),d.Pb(),d.sc(9,Q,16,0,"ion-card",15),d.Pb()),2&t){var n=d.ac();d.yb(9),d.fc("ngForOf",n.listSkeleton)}}var L,S,I,j=[{path:"",component:(L=function(){function t(e,i,r,o,a,s){n(this,t),this.request=e,this.util=i,this.dialogService=r,this.modalCtrl=o,this.authUser=a,this.utilArray=s,this.list=[],this.tabs=[],this.listSkeleton=new Array(3),this.firstLoad=!0,this.modelGame=new l.a("Game",e)}return r(t,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.modelGame.api_function("pageHomeGames").subscribe((function(e){"success"==e.status&&(n.tabs=e.data.dates,n.selectFirst()),t&&t.target.complete(),console.log(e),n.firstLoad=!1}),(function(e){t&&t.target.complete(),console.error(e),n.firstLoad=!1}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"selectFirst",value:function(){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.tabs.length>0,!t.t0){t.next=7;break}return this.list=this.tabs[0].results,this.tabSelected=0,t.next=6,this.delay(1500);case 6:this.focusSegment();case 7:case"end":return t.stop()}}),t,this)})))}},{key:"selectDate",value:function(t){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=parseInt(t.detail.value),!(i=this.tabs[n])||!i.results){e.next=3;break}return e.abrupt("return",(this.list=i.results,void this.focusSegment()));case 3:return e.next=5,this.dialogService.loadingProgres();case 5:this.modelGame.api_function("gamesByDate",{date:i.date}).subscribe((function(t){"success"==t.status&&(r.tabs[n].results=t.data,r.list=r.tabs[n].results,r.focusSegment()),r.dialogService.dimissLoaging(),console.log(t)}),(function(t){console.error(t),r.dialogService.dimissLoaging()}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"focusSegment",value:function(){var t="sgm_"+this.tabSelected;console.log("select segment : ",t),document.getElementById(t).scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},{key:"delay",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}},{key:"formatDate",value:function(t){return b(t).locale("es").format("DD MMMM YYYY")}},{key:"addGame",value:function(){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:f.a});case 2:return(e=t.sent).onDidDismiss().then((function(t){console.log("crate game");var e=t.data.game;if(e){var i=n.util.setFormatMoment(e.date,"YYYY-MM-DD"),r=n.tabs.map((function(t){return t.date})).indexOf(i);r>=0||(r=n.tabs.length,n.tabs[r]={date:i,results:[]}),n.utilArray.listAddFirst(n.tabs[r].results,e)}})),t.next=6,e.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}}]),t}(),L.\u0275fac=function(t){return new(t||L)(d.Lb(g.a),d.Lb(m.a),d.Lb(h.a),d.Lb(s.lb),d.Lb(v.a),d.Lb(p.a))},L.\u0275cmp=d.Fb({type:L,selectors:[["app-games"]],decls:9,vars:2,consts:[["slot","start"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],["size","12"],["scrollable","",3,"ngModel","ngModelChange","ionChange"],[3,"value","id",4,"ngFor","ngForOf"],["color","tertiary",4,"ngIf"],["routerDirection","forward",3,"game","routerLink",4,"ngFor","ngForOf"],["class","ion-activatable",3,"click",4,"ngIf"],[3,"value","id"],["color","tertiary"],["routerDirection","forward",3,"game","routerLink"],[1,"ion-activatable",3,"click"],["name","chevron-forward-outline"],["animated","",2,"width","100%","height","30px"],[4,"ngFor","ngForOf"],[1,"ion-padding","custom-skeleton"],[1,"game"],[1,"team-list","contenedor"],[1,"team"],["animated","",2,"width","80%"],["animated",""],[1,"vs"],["animated","",2,"width","20px"],[1,"date","ion-text-center",2,"width","100%"],["animated","",2,"width","80px","margin","auto"]],template:function(t,e){1&t&&(d.Qb(0,"ion-header"),d.Qb(1,"ion-toolbar"),d.Qb(2,"ion-buttons",0),d.Mb(3,"ion-menu-button"),d.Pb(),d.Qb(4,"ion-title"),d.tc(5,"Partidos"),d.Pb(),d.Pb(),d.Pb(),d.Qb(6,"ion-content"),d.sc(7,M,12,5,"div",1),d.sc(8,O,10,1,"div",1),d.Pb()),2&t&&(d.yb(7),d.fc("ngIf",!e.firstLoad),d.yb(1),d.fc("ngIf",e.firstLoad))},directives:[s.x,s.hb,s.j,s.K,s.fb,s.r,o.k,s.M,s.N,s.H,s.w,s.Q,s.q,s.S,s.rb,a.d,a.g,o.j,s.T,s.I,s.G,y.a,s.qb,c.h,s.D,s.y,s.O,s.W,s.k,s.e],styles:[".team-list[_ngcontent-%COMP%]{display:block}.vs[_ngcontent-%COMP%]{width:6%}.game[_ngcontent-%COMP%]{width:100%;padding:10px;background-repeat:no-repeat;background-size:100%;font-size:small}.team[_ngcontent-%COMP%]{display:flex;align-items:center;width:47%;flex-flow:column-reverse}.team-name[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.img-team[_ngcontent-%COMP%]{border-radius:50%;background-position:50%;width:30px;height:30px}.contenedor[_ngcontent-%COMP%]{margin:10px auto;display:flex;align-items:center;justify-content:center;width:100%;text-align:-webkit-center}.date[_ngcontent-%COMP%]{text-align:center}"]}),L)}],C=((S=function t(){n(this,t)}).\u0275mod=d.Jb({type:S}),S.\u0275inj=d.Ib({factory:function(t){return new(t||S)},imports:[[c.j.forChild(j)],c.j]}),S),D=i("j1ZV"),F=((I=function t(){n(this,t)}).\u0275mod=d.Jb({type:I}),I.\u0275inj=d.Ib({factory:function(t){return new(t||I)},imports:[[o.b,a.a,s.ib,C,D.a]]}),I)},rLe3:function(e,i,o){"use strict";o.d(i,"a",(function(){return s}));var a=o("fXoL"),s=function(){var e=function(){function e(){n(this,e)}return r(e,[{key:"listAddLast",value:function(t,e){t.push(e)}},{key:"listAddFirst",value:function(t,e){t.unshift(e)}},{key:"listUpdate",value:function(t,e,n){var i=this.findIndexList(t,e);i>=0&&(t[i]=n)}},{key:"listDelete",value:function(t,e){var n=this.findIndexList(t,e);n>=0&&t.splice(n,1)}},{key:"findList",value:function(t,e){return t.find((function(t){return t.id===e}))}},{key:"findIndexList",value:function(t,e){return t.findIndex((function(t){return t.id===e}))}},{key:"updateAttribustesObject",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];console.log("update attributes");var r,o=t(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.hasOwnProperty(a)&&(e[a]=n[a])}}catch(s){o.e(s)}finally{o.f()}return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();