(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"6/gD":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("mrSG"),o=i("gcOT"),s=i("8xVP"),a=i("fXoL"),c=i("G/jy");const{Camera:r}=o.c;let b=(()=>{class e{constructor(e){this.photos=[],this.convertBlobToBase64=e=>new Promise((t,i)=>{const n=new FileReader;n.onerror=i,n.onload=()=>{t(n.result)},n.readAsDataURL(e)}),this.serviceImage=new s.a("Image",e)}init(e,t=!0,i="assets/images/pngwing.png"){this.url=null!=e?e:"/images/",this.thumb=null!=t&&t,this.path=i,this.photo=new l(i)}setImage(e){this.image=e,this.photo.image=e}addNewToGallery(){return Object(n.b)(this,void 0,void 0,(function*(){const e=yield r.getPhoto({resultType:o.a.Uri,source:o.b.Camera,quality:100}),t=yield this.readAsBase64(e);this.photos.unshift(new l(null,e.webPath,t,this.url,this.thumb))}))}addOneNewToGallery(){return Object(n.b)(this,void 0,void 0,(function*(){const e=yield r.getPhoto({resultType:o.a.Uri,source:o.b.Camera,quality:100}),t=yield this.readAsBase64(e);this.photo=new l(e.webPath,t,t,this.url,this.thumb,this.image)}))}isLoadPthoto(){return!!this.photo.data}readAsBase64(e){return Object(n.b)(this,void 0,void 0,(function*(){const t=yield fetch(e.webPath),i=yield t.blob();return yield this.convertBlobToBase64(i)}))}uploadImage(){if(this.isLoadPthoto())return this.photo.id?this.serviceImage.api_update(this.photo):this.serviceImage.api_create(this.photo)}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(c.a))},e.\u0275prov=a.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class l{constructor(e="assets/images/pngwing.png",t=null,i="",n="",o=!1,s=null){this.id=s?s.id:"",this.webviewPath=t,this.filepath=e,this.data=i,this.url=n,this.thumb=o,this.image=s}getPath(){return this.webviewPath?this.webviewPath:this.image&&this.image.urlComplete?this.image.urlComplete:this.filepath}}},"6Rhz":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("fXoL"),o=i("ofXK"),s=i("TEn/");let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Fb({type:e,selectors:[["app-preview"]],decls:4,vars:0,consts:[["size","5"]],template:function(e,t){1&e&&(n.Qb(0,"ion-grid"),n.Qb(1,"ion-row"),n.Mb(2,"ion-col",0),n.Mb(3,"ion-col",0),n.Pb(),n.Pb())},directives:[s.w,s.S,s.q],styles:[""]}),e})();function c(e,t){if(1&e&&(n.Qb(0,"ion-text",20),n.Mb(1,"ion-icon",21),n.tc(2),n.Pb()),2&e){const e=n.ac(2);n.yb(2),n.vc(" ",e.game.comments_count," ")}}function r(e,t){if(1&e&&(n.Qb(0,"ion-card",15),n.Qb(1,"div",3),n.Qb(2,"div",4),n.Qb(3,"div",5),n.Qb(4,"ion-avatar",16),n.Mb(5,"ion-img",8),n.Pb(),n.Qb(6,"ion-text",17),n.tc(7),n.Pb(),n.Qb(8,"ion-text",18),n.tc(9),n.Pb(),n.Pb(),n.Qb(10,"div",5),n.Qb(11,"ion-avatar",16),n.Mb(12,"ion-img",8),n.Pb(),n.Qb(13,"ion-text",19),n.tc(14),n.Pb(),n.Qb(15,"ion-text",18),n.tc(16),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(17,"div",13),n.sc(18,c,3,1,"ion-text",14),n.Pb(),n.Mb(19,"app-preview"),n.Pb()),2&e){const e=n.ac();n.yb(5),n.fc("src",e.game.team_l.shield?e.game.team_l.shield.urlComplete:"assets/images/shield_team.png"),n.yb(2),n.uc(e.game.team_l.name),n.yb(2),n.uc(e.game.l_goals),n.yb(3),n.fc("src",e.game.team_v.shield?e.game.team_v.shield.urlComplete:"assets/images/shield_team.png"),n.yb(2),n.uc(e.game.team_v.name),n.yb(2),n.uc(e.game.v_goals),n.yb(2),n.fc("ngIf",e.game.comments_count>=0)}}function b(e,t){if(1&e&&(n.Qb(0,"ion-text",20),n.Mb(1,"ion-icon",21),n.tc(2),n.Pb()),2&e){const e=n.ac();n.yb(2),n.vc(" ",e.game.comments_count," ")}}let l=(()=>{class e{constructor(){this.withEvents=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Fb({type:e,selectors:[["app-result-item"]],inputs:{game:"game",withEvents:"withEvents"},decls:29,vars:8,consts:[["class","item1",4,"ngIf"],[1,"item2"],[1,"ion-padding","custom-skeleton"],[1,"game"],[1,"team-list","contenedor"],[1,"team"],[1,"text-name","fs-team-game"],["slot","start"],[3,"src"],[1,"goals","ion-align-self-center"],[2,"width","100%"],["size","5"],["size","2",1,"ion-text-center"],[1,"comment"],["class","ion-float-right",4,"ngIf"],[1,"item1"],[1,"avatar"],["color","dark",1,"name-team"],["color","dark",1,"goals-team"],["color","dark",1,"name-team","fs-team-game"],[1,"ion-float-right"],["name","chatbubble-ellipses-outline","color","primary"]],template:function(e,t){1&e&&(n.sc(0,r,20,7,"ion-card",0),n.Qb(1,"ion-card",1),n.Qb(2,"div",2),n.Qb(3,"div",3),n.Qb(4,"div",4),n.Qb(5,"div",5),n.Qb(6,"ion-text"),n.Qb(7,"h3",6),n.tc(8),n.Pb(),n.Pb(),n.Qb(9,"ion-avatar",7),n.Mb(10,"ion-img",8),n.Pb(),n.Pb(),n.Qb(11,"div",9),n.Qb(12,"ion-grid",10),n.Qb(13,"ion-row"),n.Qb(14,"ion-col",11),n.tc(15),n.Pb(),n.Qb(16,"ion-col",12),n.Qb(17,"ion-text"),n.tc(18,"-"),n.Pb(),n.Pb(),n.Qb(19,"ion-col",11),n.tc(20),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(21,"div",5),n.Qb(22,"ion-text"),n.Qb(23,"h3",6),n.tc(24),n.Pb(),n.Pb(),n.Qb(25,"ion-avatar",7),n.Mb(26,"ion-img",8),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(27,"div",13),n.sc(28,b,3,1,"ion-text",14),n.Pb(),n.Pb(),n.Pb()),2&e&&(n.fc("ngIf",!1),n.yb(8),n.uc(t.game.team_l.name),n.yb(2),n.fc("src",t.game.team_l.shield?t.game.team_l.shield.urlComplete:"assets/images/esc.png"),n.yb(5),n.vc(" ",t.game.l_goals," "),n.yb(5),n.vc(" ",t.game.v_goals," "),n.yb(4),n.uc(t.game.team_v.name),n.yb(2),n.fc("src",t.game.team_v.shield?t.game.team_v.shield.urlComplete:"assets/images/esc.png"),n.yb(2),n.fc("ngIf",t.game.comments_count>=0))},directives:[o.k,s.k,s.eb,s.e,s.z,s.w,s.S,s.q,a,s.y],styles:[".item1[_ngcontent-%COMP%]   .game[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px}.item1[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{position:relative;background-repeat:no-repeat;background-size:cover;width:100%;padding:15px 10px 10px}.item1[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{display:inline-block;width:45px;height:45px}.item1[_ngcontent-%COMP%]   .name-team[_ngcontent-%COMP%]{padding-left:15px;width:50%}.item1[_ngcontent-%COMP%]   .goals-team[_ngcontent-%COMP%], .item1[_ngcontent-%COMP%]   .name-team[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.item1[_ngcontent-%COMP%]   .goals-team[_ngcontent-%COMP%]{width:30%;text-align:right;padding-right:20px}.item2[_ngcontent-%COMP%]   .team-list[_ngcontent-%COMP%]{display:block}.item2[_ngcontent-%COMP%]   .goals[_ngcontent-%COMP%]{width:30%;min-height:60px;min-width:20px;display:flex;align-items:center;justify-content:center;height:100%;background-size:cover;background-repeat:round}.item2[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{background:#c7402f;border-bottom-left-radius:20px;border-top-right-radius:20px;padding:3px;font-size:large}.item2[_ngcontent-%COMP%]   .game[_ngcontent-%COMP%]{width:100%;background-repeat:no-repeat;background-size:100%;padding:10px}.item2[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{display:flex;align-items:center;width:35%;flex-flow:column-reverse}.item2[_ngcontent-%COMP%]   .team-name[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.item2[_ngcontent-%COMP%]   .img-team[_ngcontent-%COMP%]{border-radius:50%;background-position:50%;width:30px;height:30px}.item2[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;width:100%;text-align:-webkit-center;padding:10px;background:rgba(14,14,14,.43137254901960786);border-radius:20px;color:#fff}.item2[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{text-align:center}.item2[_ngcontent-%COMP%]   .text-name[_ngcontent-%COMP%]{margin-top:15px}"]}),e})()},"74mu":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return n})),i.d(t,"d",(function(){return c}));const n=(e,t)=>null!==t.closest(e),o=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,["ion-color-"+e]:!0},t):t,s=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},a=/^[a-z][a-z0-9+\-.]*:/,c=async(e,t,i,n)=>{if(null!=e&&"#"!==e[0]&&!a.test(e)){const o=document.querySelector("ion-router");if(o)return null!=t&&t.preventDefault(),o.push(e,i,n)}return!1}},Alqj:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("fXoL"),o=i("vuFD"),s=i("TEn/"),a=i("ofXK");function c(e,t){1&e&&(n.Qb(0,"ion-list-header",2),n.Qb(1,"ion-label"),n.tc(2,"Sin Opciones"),n.Pb(),n.Pb())}function r(e,t){if(1&e){const e=n.Rb();n.Qb(0,"ion-item",3),n.Yb("click",(function(){n.nc(e);const i=t.$implicit;return n.ac().goTo(i)})),n.Qb(1,"span"),n.Mb(2,"ion-icon",4),n.Pb(),n.Qb(3,"ion-label"),n.Qb(4,"h3"),n.tc(5),n.Pb(),n.Pb(),n.Pb()}if(2&e){const e=t.$implicit;n.yb(5),n.uc(e.name)}}let b=(()=>{class e{constructor(e,t,i,n){var o,s;this.dialogService=e,this.viewCtrl=t,this.navParams=i,this.navCtrl=n,this.list=null!==(o=i.get("list"))&&void 0!==o?o:[],this.title=null!==(s=i.get("title"))&&void 0!==s?s:"Opciones"}ngOnInit(){}dimiss(){this.viewCtrl.dismiss()}goTo(e){console.log("goTo"),this.navCtrl.navigateForward(e.route),this.viewCtrl.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(o.a),n.Lb(s.nb),n.Lb(s.pb),n.Lb(s.ob))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-list-redirect"]],decls:8,vars:3,consts:[["color","tertiary",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["color","tertiary"],[3,"click"],["name","log-out-outline"]],template:function(e,t){1&e&&(n.Qb(0,"ion-header"),n.Qb(1,"ion-toolbar"),n.Qb(2,"ion-title"),n.tc(3),n.Pb(),n.Pb(),n.Pb(),n.Qb(4,"ion-content"),n.Qb(5,"ion-list"),n.sc(6,c,3,0,"ion-list-header",0),n.sc(7,r,6,1,"ion-item",1),n.Pb(),n.Pb()),2&e&&(n.yb(3),n.uc(t.title),n.yb(3),n.fc("ngIf",0==t.list.length),n.yb(1),n.fc("ngForOf",t.list))},directives:[s.x,s.jb,s.hb,s.r,s.H,a.k,a.j,s.I,s.G,s.D,s.y],styles:[""]}),e})()},ChyW:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL"),o=i("zYHx");let s=(()=>{class e{constructor(e){this.pathImages=e}getPhotoPlayer(e,t=!1){return e&&e.photo?t?e.photo.urlCompleteThumb:e.photo.urlComplete:this.pathImages.images.player}getPhotoUser(e,t=!1){return e&&e.photo?t?e.photo.urlCompleteThumb:e.photo.urlComplete:this.pathImages.images.profile_user}showImage(e){}}return e.\u0275fac=function(t){return new(t||e)(n.Ub(o.a))},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},GSQ0:function(e,t,i){"use strict";i.d(t,"a",(function(){return M}));var n=i("8xVP"),o=i("e4Bz"),s=i("9suA"),a=i("fXoL"),c=i("G/jy"),r=i("vuFD"),b=i("TEn/"),l=i("6/gD"),d=i("y/q6"),u=i("zYHx"),m=i("ofXK"),g=i("sjK5"),h=i("3Pt+");const p=["form_c"],f=["img_publication"];function v(e,t){if(1&e){const e=a.Rb();a.Qb(0,"ion-button",17),a.Yb("click",(function(){return a.nc(e),a.ac().chatService.toggle()})),a.Mb(1,"ion-icon",18),a.Pb()}if(2&e){const e=a.ac();a.fc("color",e.chatService.isVisible?"success":"")}}function P(e,t){if(1&e&&(a.Qb(0,"ion-avatar"),a.Mb(1,"ion-img",19),a.Pb()),2&e){const e=a.ac();a.yb(1),a.fc("src",e.user.photo?e.user.photo.urlCompleteThumb:e.pathImages.images.profile_user)}}function y(e,t){if(1&e&&(a.Qb(0,"ion-item"),a.Mb(1,"img",20),a.Pb()),2&e){const e=a.ac();a.yb(1),a.fc("src",e.photoModel.photo.getPath(),a.oc)}}function Q(e,t){1&e&&a.Mb(0,"ion-spinner",21)}let M=(()=>{class e extends s.a{constructor(e,t,i,s,a,c,r,b,l){super(b,i),this.request=e,this.dialogService=t,this.viewCtrl=i,this.photoService=s,this.authUser=c,this.pathImages=r,this.chatService=l,this.posting=!1,this.myDateFilter=e=>6==e.getDay(),this.photoModel=new o.a(e,i),this.photoModel.init("images/publications/",!1),this.photoModel.setAspectRatioCrop("none"),this.servicePublication=new n.a("Publication",e),console.log("user auth",c.user),this.id=a.get("id")}initObject(){this.photoModel.setElementImg("img_publication"),this.user=this.authUser.user,console.log("user",this.user),this.publication={text:"",user_id:this.user.id},this.id&&this.servicePublication.api_find(this.id).subscribe(e=>{"success"==e.status&&(this.publication=e.Publication,this.publication.image&&this.photoModel.setImage(this.publication.image))})}submit(){try{this.validSend()}catch(e){return void this.dialogService.showToast(e.message,null,"danger")}this.photoModel.isLoadPthoto()&&(this.publication.image=this.photoModel.getImageUpload()),this.posting=!0,this.publication.id?this.servicePublication.api_update(this.publication).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),console.log(e),this.dismiss(e.Publication)),this.posting=!1},e=>{this.posting=!1}):this.servicePublication.api_create(this.publication).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.Publication)),this.posting=!1},e=>{this.posting=!1})}validSend(){if(console.log("valid"),!this.photoModel.isLoadPthoto()&&0==this.publication.text.length)throw new Error("Debe escribir algo en la publicaci\xf3n o a\xf1adir una imagen.")}dismiss(e){this.viewCtrl.dismiss({publication:e})}close(){this.viewCtrl.dismiss()}print(){console.log(this.publication)}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(c.a),a.Lb(r.a),a.Lb(b.nb),a.Lb(l.a),a.Lb(b.pb),a.Lb(d.a),a.Lb(u.a),a.Lb(m.m),a.Lb(g.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-form-publication"]],viewQuery:function(e,t){var i;1&e&&(a.xc(p,!0),a.xc(f,!0)),2&e&&(a.jc(i=a.Zb())&&(t.form_c=i.first),a.jc(i=a.Zb())&&(t.img_publication=i.first))},features:[a.vb],decls:31,vars:8,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],["slot","secondary"],[3,"color","click",4,"ngIf"],["form_c",""],[3,"ngSubmit","keyup"],[4,"ngIf"],[1,"name-user"],[1,"separador"],["position","floating"],["name","text",1,"editor-text",3,"ngModel","ngModelChange"],[2,"color","red","padding-top","0.2rem"],["expand","block","fill","outline",3,"click"],["name","image","slot","start"],["type","submit","expand","block",3,"disabled"],["name","lines",4,"ngIf"],[3,"color","click"],["name","help-circle-outline"],[3,"src"],["id","img_publication",3,"src"],["name","lines"]],template:function(e,t){1&e&&(a.Qb(0,"ion-header"),a.Qb(1,"ion-toolbar"),a.Qb(2,"ion-buttons",0),a.Qb(3,"ion-button",1),a.Yb("click",(function(){return t.close()})),a.Mb(4,"ion-icon",2),a.Pb(),a.Pb(),a.Qb(5,"ion-title"),a.tc(6,"Nueva Publicaci\xf3n"),a.Pb(),a.Qb(7,"ion-buttons",3),a.sc(8,v,2,1,"ion-button",4),a.Pb(),a.Pb(),a.Pb(),a.Qb(9,"ion-content",null,5),a.Qb(11,"form",6),a.Yb("ngSubmit",(function(){return t.submit()}))("keyup",(function(){return t.servicePublication.errorsForm.clear()})),a.Qb(12,"ion-item"),a.sc(13,P,2,1,"ion-avatar",7),a.Qb(14,"label",8),a.tc(15),a.Pb(),a.Pb(),a.Mb(16,"div",9),a.Qb(17,"ion-item"),a.Qb(18,"ion-label",10),a.tc(19,"Escribe aqui..."),a.Pb(),a.Qb(20,"ion-textarea",11),a.Yb("ngModelChange",(function(e){return t.publication.text=e})),a.Pb(),a.Pb(),a.Qb(21,"div",12),a.tc(22),a.Pb(),a.sc(23,y,2,1,"ion-item",7),a.Mb(24,"br"),a.Qb(25,"ion-button",13),a.Yb("click",(function(){return t.photoModel.addOneNewToGallery()})),a.Mb(26,"ion-icon",14),a.tc(27," Foto "),a.Pb(),a.Qb(28,"ion-button",15),a.sc(29,Q,1,0,"ion-spinner",16),a.tc(30," Publicar "),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(8),a.fc("ngIf",t.chatService.isInit),a.yb(5),a.fc("ngIf",t.user),a.yb(2),a.uc(t.user.completeName),a.yb(5),a.fc("ngModel",t.publication.text),a.yb(2),a.uc(t.servicePublication.errorsForm.get("text")),a.yb(1),a.fc("ngIf",t.photoModel.isLoadPthoto()||t.photoModel.hasImage()),a.yb(5),a.fc("disabled",t.posting),a.yb(1),a.fc("ngIf",t.posting))},directives:[b.x,b.jb,b.j,b.i,b.y,b.hb,m.k,b.r,h.i,h.e,h.f,b.D,b.G,b.fb,b.vb,h.d,h.g,b.e,b.z,b.ab],styles:[".name-user[_ngcontent-%COMP%]{margin-left:10px}"]}),e})()},JTEZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return Q}));var n=i("mrSG"),o=i("8xVP"),s=i("e4Bz"),a=i("Dwri"),c=i("9suA"),r=i("fXoL"),b=i("G/jy"),l=i("vuFD"),d=i("TEn/"),u=i("y/q6"),m=i("tyNb"),g=i("ofXK"),h=i("sjK5"),p=i("3Pt+");function f(e,t){if(1&e){const e=r.Rb();r.Qb(0,"ion-button",23),r.Yb("click",(function(){return r.nc(e),r.ac().chatService.toggle()})),r.Mb(1,"ion-icon",24),r.Pb()}if(2&e){const e=r.ac();r.fc("color",e.chatService.isVisible?"success":"")}}function v(e,t){if(1&e){const e=r.Rb();r.Qb(0,"ion-item"),r.Qb(1,"ion-label",11),r.tc(2,"Usuario"),r.Pb(),r.Qb(3,"ion-input",25),r.Yb("click",(function(){return r.nc(e),r.ac().selectUser()})),r.Pb(),r.Qb(4,"ion-input",26),r.Yb("ngModelChange",(function(t){return r.nc(e),r.ac().player.user_id=t})),r.Pb(),r.Pb()}if(2&e){const e=r.ac();r.yb(3),r.fc("value",e.userSelect),r.yb(1),r.fc("ngModel",e.player.user_id)}}function P(e,t){if(1&e&&(r.Qb(0,"ion-select-option",27),r.tc(1),r.Pb()),2&e){const e=t.$implicit;r.fc("value",e.id),r.yb(1),r.uc(e.name)}}function y(e,t){1&e&&(r.Qb(0,"ion-text",28),r.tc(1," Este Jugador ya tiene asignado un administrador, solo \xe9l puede modificar los datos. "),r.Pb())}let Q=(()=>{class e extends c.a{constructor(e,t,i,n,a,c,r,b,l,d){super(l,i),this.request=e,this.dialogService=t,this.viewCtrl=i,this.modalController=a,this.authUser=c,this.alertController=r,this.router=b,this.chatService=d,this.isUser=!1,this.canEditUser=!0,this.servicePosition=new o.a("Position",e),this.servicePlayer=new o.a("Player",e),console.log("ver"),this.id=n.get("id"),this.team_id=n.get("team_id"),this.isUser=n.get("isUser"),this.photoModel=new s.a(e,i),this.photoModel.setAspectRatioCrop("1 / 1"),this.photoModel.init("images/players/profile/",!0,"assets/images/jugador.png"),this.photoModel.setElementImg("img_photo")}initObject(){return Object(n.b)(this,void 0,void 0,(function*(){this.player={name:"",nick:"",birth_date:"",number:1,height:0,weight:0,position_id:"",team_id:this.team_id,photo_id:""},this.servicePosition.api_all(),this.id&&(yield this.dialogService.loadingProgres(null),this.servicePlayer.api_find(this.id).subscribe(e=>{"success"==e.status&&(this.player=e.Player,this.player.photo&&this.photoModel.setImage(this.player.photo),this.canEditUser=this.player&&!this.player.user_id,this.dialogService.dimissLoaging())},e=>{this.dialogService.dimissLoaging()}))}))}submit(){return Object(n.b)(this,void 0,void 0,(function*(){this.photoModel.isLoadPthoto()?this.savePhoto():this.savePlayer()}))}dismiss(e){this.viewCtrl.dismiss({player:e})}close(){this.viewCtrl.dismiss()}savePhoto(){return Object(n.b)(this,void 0,void 0,(function*(){this.dialogService.loadingProgres("Subiendo foto..."),yield this.photoModel.uploadImage().subscribe(e=>{"success"==e.status&&(this.player.photo_id=e.Image.id,this.savePlayer(),this.dialogService.dimissLoaging())},e=>{this.dialogService.dimissLoaging(),this.dialogService.showToast("Error al subir Portada","Error","danger")})}))}savePlayer(){this.player.id?(this.dialogService.loadingProgres("Procesando, espere.."),this.servicePlayer.api_update(this.player).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.Player),this.dialogService.dimissLoaging())},e=>{this.dialogService.dimissLoaging()})):(this.dialogService.loadingProgres("Procesando, espere.."),this.servicePlayer.api_create(this.player).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.Player),this.dialogService.dimissLoaging())},e=>{this.dialogService.dimissLoaging()}))}selectUser(){return Object(n.b)(this,void 0,void 0,(function*(){console.log("Add admins");const e=yield this.modalController.create({component:a.a,componentProps:{cancellable:!1,model:"User",function:"searchUser",multiple:!1}});return e.onDidDismiss().then(e=>{const t=e.data?e.data.item:null;t&&(t.player?this.userWithPlayer(t):(this.player.user_id=t.id,this.player.email=t.text))}),yield e.present()}))}userWithPlayer(e){return Object(n.b)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Atenci\xf3n",message:`<b>${e.text}</b> ya tiene asociado un jugador. Puedes enviarle una solicitud para que se incorpore a este equipo.`,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:e=>{console.log("Confirm Cancel: blah")}},{text:"Solicitar",handler:()=>{console.log("Confirm Okay"),this.router.navigateByUrl(`team-request/${this.team_id}/${e.player.id}`),this.close()}}]});yield t.present()}))}get isAutor(){return this.player&&this.authUser.user.id==this.player.user_id}get isAdminGeneral(){return this.authUser.isAdmin}get userSelect(){return this.player.user_id?this.player.user?this.player.user.email:this.player.email:""}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(b.a),r.Lb(l.a),r.Lb(d.nb),r.Lb(d.pb),r.Lb(d.nb),r.Lb(u.a),r.Lb(d.b),r.Lb(m.g),r.Lb(g.m),r.Lb(h.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-player-form"]],features:[r.vb],decls:66,vars:22,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],["slot","secondary"],[3,"color","click",4,"ngIf"],[3,"ngSubmit","keyup"],[4,"ngIf"],[2,"color","red","padding-top","0.2rem"],[1,"ion-text-center"],["id","img_photo",3,"src"],["size","small","color","tertiary",3,"click"],["position","floating"],["type","text","name","name",3,"ngModel","ngModelChange"],["name","birth_date","displayFormat","YYYY-MM-DD",3,"ngModel","ngModelChange"],["type","text","name","nick",3,"ngModel","ngModelChange"],["type","text","name","number",3,"ngModel","ngModelChange"],["type","text","name","height",3,"ngModel","ngModelChange"],["type","text","name","weight",3,"ngModel","ngModelChange"],["name","position_id",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"ion-text-center","ion-margin-top"],["color","danger",4,"ngIf"],["type","submit","expand","block",1,"ion-margin",3,"disabled"],[3,"color","click"],["name","help-circle-outline"],["type","text","name","email",3,"value","click"],["type","hidden","name","user_id",3,"ngModel","ngModelChange"],[3,"value"],["color","danger"]],template:function(e,t){1&e&&(r.Qb(0,"ion-header"),r.Qb(1,"ion-toolbar"),r.Qb(2,"ion-title"),r.tc(3,"Jugador"),r.Pb(),r.Qb(4,"ion-buttons",0),r.Qb(5,"ion-button",1),r.Yb("click",(function(){return t.close()})),r.Mb(6,"ion-icon",2),r.Pb(),r.Pb(),r.Qb(7,"ion-buttons",3),r.sc(8,f,2,1,"ion-button",4),r.Pb(),r.Pb(),r.Pb(),r.Qb(9,"ion-content"),r.Qb(10,"form",5),r.Yb("ngSubmit",(function(){return t.submit()}))("keyup",(function(){return t.servicePlayer.errorsForm.clear()})),r.sc(11,v,5,2,"ion-item",6),r.Qb(12,"div",7),r.tc(13),r.Pb(),r.Qb(14,"div",8),r.Mb(15,"img",9),r.Qb(16,"div",8),r.Qb(17,"ion-button",10),r.Yb("click",(function(){return t.photoModel.addOneNewToGallery()})),r.tc(18),r.Pb(),r.Pb(),r.Pb(),r.Qb(19,"ion-item"),r.Qb(20,"ion-label",11),r.tc(21,"Nombre"),r.Pb(),r.Qb(22,"ion-input",12),r.Yb("ngModelChange",(function(e){return t.player.name=e})),r.Pb(),r.Pb(),r.Qb(23,"div",7),r.tc(24),r.Pb(),r.Qb(25,"ion-item"),r.Qb(26,"ion-label",11),r.tc(27,"Fecha de nacimiento"),r.Pb(),r.Qb(28,"ion-datetime",13),r.Yb("ngModelChange",(function(e){return t.player.birth_date=e})),r.Pb(),r.Pb(),r.Qb(29,"div",7),r.tc(30),r.Pb(),r.Qb(31,"ion-item"),r.Qb(32,"ion-label",11),r.tc(33,"Apodo"),r.Pb(),r.Qb(34,"ion-input",14),r.Yb("ngModelChange",(function(e){return t.player.nick=e})),r.Pb(),r.Pb(),r.Qb(35,"div",7),r.tc(36),r.Pb(),r.Qb(37,"ion-item"),r.Qb(38,"ion-label",11),r.tc(39,"Numero"),r.Pb(),r.Qb(40,"ion-input",15),r.Yb("ngModelChange",(function(e){return t.player.number=e})),r.Pb(),r.Pb(),r.Qb(41,"div",7),r.tc(42),r.Pb(),r.Qb(43,"ion-item"),r.Qb(44,"ion-label",11),r.tc(45,"Altura"),r.Pb(),r.Qb(46,"ion-input",16),r.Yb("ngModelChange",(function(e){return t.player.height=e})),r.Pb(),r.Pb(),r.Qb(47,"div",7),r.tc(48),r.Pb(),r.Qb(49,"ion-item"),r.Qb(50,"ion-label",11),r.tc(51,"Peso"),r.Pb(),r.Qb(52,"ion-input",17),r.Yb("ngModelChange",(function(e){return t.player.weight=e})),r.Pb(),r.Pb(),r.Qb(53,"div",7),r.tc(54),r.Pb(),r.Qb(55,"ion-item"),r.Qb(56,"ion-label",11),r.tc(57,"Posicion"),r.Pb(),r.Qb(58,"ion-select",18),r.Yb("ngModelChange",(function(e){return t.player.position_id=e})),r.sc(59,P,2,2,"ion-select-option",19),r.Pb(),r.Qb(60,"div",7),r.tc(61),r.Pb(),r.Pb(),r.Qb(62,"div",20),r.sc(63,y,2,0,"ion-text",21),r.Pb(),r.Qb(64,"ion-button",22),r.tc(65," Guardar "),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.yb(8),r.fc("ngIf",t.chatService.isInit),r.yb(3),r.fc("ngIf",t.canEditUser),r.yb(2),r.uc(t.servicePlayer.errorsForm.get("user_id")),r.yb(2),r.fc("src",t.photoModel.photo.getPath(),r.oc),r.yb(3),r.uc(t.photoModel.isLoadPthoto()?"Modificar":"Seleccionar Imagen"),r.yb(4),r.fc("ngModel",t.player.name),r.yb(2),r.uc(t.servicePlayer.errorsForm.get("name")),r.yb(4),r.fc("ngModel",t.player.birth_date),r.yb(2),r.uc(t.servicePlayer.errorsForm.get("birth_date")),r.yb(4),r.fc("ngModel",t.player.nick),r.yb(2),r.uc(t.servicePlayer.errorsForm.get("nick")),r.yb(4),r.fc("ngModel",t.player.number),r.yb(2),r.uc(t.servicePlayer.errorsForm.get("number")),r.yb(4),r.fc("ngModel",t.player.height),r.yb(2),r.uc(t.servicePlayer.errorsForm.get("height")),r.yb(4),r.fc("ngModel",t.player.weight),r.yb(2),r.uc(t.servicePlayer.errorsForm.get("weight")),r.yb(4),r.fc("ngModel",t.player.position_id),r.yb(1),r.fc("ngForOf",t.servicePosition.list),r.yb(2),r.uc(t.servicePlayer.errorsForm.get("position_id")),r.yb(2),r.fc("ngIf",!(t.isAutor||t.canEditUser)),r.yb(1),r.fc("disabled",!(t.isAutor||t.canEditUser)))},directives:[d.x,d.jb,d.hb,d.j,d.i,d.y,g.k,d.r,p.i,p.e,p.f,d.D,d.G,d.C,d.vb,p.d,p.g,d.s,d.ub,d.W,g.j,d.X,d.eb],styles:[""]}),e})()},JbSX:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("wEJo"),o=i("qULd"),s=i("iWo5");const a=(e,t)=>{let i,a;const c=(e,n,o)=>{if("undefined"==typeof document)return;const s=document.elementFromPoint(e,n);s&&t(s)?s!==i&&(b(),r(s,o)):b()},r=(e,t)=>{i=e,a||(a=i);const o=i;Object(n.f)(()=>o.classList.add("ion-activated")),t()},b=(e=!1)=>{if(!i)return;const t=i;Object(n.f)(()=>t.classList.remove("ion-activated")),e&&a!==i&&i.click(),i=void 0};return Object(s.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>c(e.currentX,e.currentY,o.a),onMove:e=>c(e.currentX,e.currentY,o.b),onEnd:()=>{b(!0),Object(o.e)(),a=void 0}})}},PEpV:function(e,t,i){"use strict";i.d(t,"a",(function(){return P}));var n=i("mrSG"),o=i("8xVP"),s=i("rBWs"),a=i("fXoL"),c=i("G/jy"),r=i("vuFD"),b=i("TEn/"),l=i("6/gD"),d=i("3Pt+"),u=i("ofXK");function m(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.tc(1),a.Pb()),2&e){const e=t.$implicit;a.fc("value",e.id),a.yb(1),a.uc(e.name)}}function g(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.tc(1),a.Pb()),2&e){const e=t.$implicit;a.fc("value",e.id),a.yb(1),a.uc(e.name)}}function h(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div"),a.Qb(1,"ion-item"),a.Qb(2,"ion-label",4),a.tc(3,"Otro Equipo"),a.Pb(),a.Qb(4,"ion-input",20),a.Yb("ngModelChange",(function(t){return a.nc(e),a.ac().game.other_team=t})),a.Pb(),a.Pb(),a.Qb(5,"div",7),a.tc(6),a.Pb(),a.Qb(7,"ion-button",21),a.Yb("click",(function(){return a.nc(e),a.ac().newTeam()})),a.tc(8,"Nuevo equipo"),a.Pb(),a.Pb()}if(2&e){const e=a.ac();a.yb(4),a.fc("ngModel",e.game.other_team),a.yb(2),a.uc(e.serviceGame.errorsForm.get("other_team"))}}function p(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.tc(1),a.Pb()),2&e){const e=t.$implicit;a.fc("value",e),a.yb(1),a.uc(e)}}function f(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.tc(1),a.Pb()),2&e){const e=t.$implicit;a.fc("value",e),a.yb(1),a.uc(e)}}function v(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.tc(1),a.Pb()),2&e){const e=t.$implicit;a.fc("value",e),a.yb(1),a.uc(e)}}let P=(()=>{class e{constructor(e,t,i,n,s,a){var c;this.request=e,this.dialogService=t,this.viewCtrl=i,this.photoService=n,this.modalController=a,this.teams=[],this.numbGoals=[],this.customDayShortNames=["s\xf8n"],this.status=["Pendiente","Suspendido","Jugado","Created"],this.myDateFilter=e=>6==e.getDay(),this.serviceGame=new o.a("Game",e),this.serviceTeam=new o.a("Team",e),this.id=s.get("id"),this.toDate=null!==(c=s.get("date"))&&void 0!==c?c:new Date,console.log("date",this.toDate)}ngOnInit(){this.serviceTeam.api_function("getAllTeamsSelect").subscribe(e=>{e.data&&(this.teams=e.data,console.log("teams -> ",this.teams))});for(var e=0;e<=30;e++)this.numbGoals.push(e);this.initObject()}initObject(){this.game={l_team:"",v_team:"",l_goals:0,v_goals:0,time:"15:00",date:this.toDate,location:"",description:"",status:"Pendiente"},this.id&&this.serviceGame.api_find(this.id).subscribe(e=>{"success"==e.status&&(this.game=e.Game)})}submit(){this.game.id?this.serviceGame.api_update(this.game).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),console.log(e),this.dismiss(e.Game))}):this.serviceGame.api_create(this.game).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.Game))})}dismiss(e){this.viewCtrl.dismiss({game:e})}close(){this.viewCtrl.dismiss()}print(){console.log(this.game)}newTeam(){return Object(n.b)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:s.a});return e.onDidDismiss().then(e=>{e.data.team&&this.teams.push(e.data.team)}),yield e.present()}))}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(c.a),a.Lb(r.a),a.Lb(b.nb),a.Lb(l.a),a.Lb(b.pb),a.Lb(b.nb))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-game-form"]],decls:69,vars:22,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],[3,"ngSubmit","keyup"],["position","floating"],["name","l_team",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","padding-top","0.2rem"],["name","v_team",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"goals"],["name","l_goals",3,"ngModel","ngModelChange"],["name","v_goals",3,"ngModel","ngModelChange"],["displayFormat","HH:mm ","name","time",3,"ngModel","ngModelChange"],["type","text","name","location",3,"ngModel","ngModelChange"],["type","text","name","description",3,"ngModel","ngModelChange"],["name","date","displayFormat","YYYY-MM-DD",3,"ngModel","ngModelChange"],["name","status",3,"ngModel","ngModelChange"],["type","submit","expand","block"],[3,"value"],["type","text","name","other_team",3,"ngModel","ngModelChange"],["size","sm",3,"click"]],template:function(e,t){1&e&&(a.Qb(0,"ion-header"),a.Qb(1,"ion-toolbar"),a.Qb(2,"ion-title"),a.tc(3,"Partido"),a.Pb(),a.Qb(4,"ion-buttons",0),a.Qb(5,"ion-button",1),a.Yb("click",(function(){return t.close()})),a.Mb(6,"ion-icon",2),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(7,"ion-content"),a.Qb(8,"form",3),a.Yb("ngSubmit",(function(){return t.submit()}))("keyup",(function(){return t.serviceGame.errorsForm.clear()})),a.Qb(9,"ion-item"),a.Qb(10,"ion-label",4),a.tc(11,"Equipo local"),a.Pb(),a.Qb(12,"ion-select",5),a.Yb("ngModelChange",(function(e){return t.game.l_team=e})),a.sc(13,m,2,2,"ion-select-option",6),a.Pb(),a.Qb(14,"div",7),a.tc(15),a.Pb(),a.Pb(),a.Qb(16,"ion-item"),a.Qb(17,"ion-label",4),a.tc(18,"Equipo Vicitante"),a.Pb(),a.Qb(19,"ion-select",8),a.Yb("ngModelChange",(function(e){return t.game.v_team=e})),a.sc(20,g,2,2,"ion-select-option",6),a.Pb(),a.Qb(21,"div",7),a.tc(22),a.Pb(),a.Pb(),a.sc(23,h,9,2,"div",9),a.Mb(24,"br"),a.Qb(25,"div",10),a.Qb(26,"ion-item"),a.Qb(27,"ion-label",4),a.tc(28,"Goles L"),a.Pb(),a.Qb(29,"ion-select",11),a.Yb("ngModelChange",(function(e){return t.game.l_goals=e})),a.sc(30,p,2,2,"ion-select-option",6),a.Pb(),a.Qb(31,"div",7),a.tc(32),a.Pb(),a.Pb(),a.Qb(33,"ion-item"),a.Qb(34,"ion-label",4),a.tc(35,"Goles V"),a.Pb(),a.Qb(36,"ion-select",12),a.Yb("ngModelChange",(function(e){return t.game.v_goals=e})),a.sc(37,f,2,2,"ion-select-option",6),a.Pb(),a.Qb(38,"div",7),a.tc(39),a.Pb(),a.Pb(),a.Pb(),a.Qb(40,"ion-item"),a.Qb(41,"ion-label"),a.tc(42,"HH:mm"),a.Pb(),a.Qb(43,"ion-datetime",13),a.Yb("ngModelChange",(function(e){return t.game.time=e})),a.Pb(),a.Pb(),a.Qb(44,"ion-item"),a.Qb(45,"ion-label",4),a.tc(46,"Lugar"),a.Pb(),a.Qb(47,"ion-input",14),a.Yb("ngModelChange",(function(e){return t.game.location=e})),a.Pb(),a.Pb(),a.Qb(48,"div",7),a.tc(49),a.Pb(),a.Qb(50,"ion-item"),a.Qb(51,"ion-label",4),a.tc(52,"Comentario"),a.Pb(),a.Qb(53,"ion-input",15),a.Yb("ngModelChange",(function(e){return t.game.description=e})),a.Pb(),a.Pb(),a.Qb(54,"div",7),a.tc(55),a.Pb(),a.Qb(56,"ion-item"),a.Qb(57,"ion-label"),a.tc(58,"Fecha"),a.Pb(),a.Qb(59,"ion-datetime",16),a.Yb("ngModelChange",(function(e){return t.game.date=e})),a.Pb(),a.Pb(),a.Qb(60,"ion-item"),a.Qb(61,"ion-label",4),a.tc(62,"Estado"),a.Pb(),a.Qb(63,"ion-select",17),a.Yb("ngModelChange",(function(e){return t.game.status=e})),a.sc(64,v,2,2,"ion-select-option",6),a.Pb(),a.Qb(65,"div",7),a.tc(66),a.Pb(),a.Pb(),a.Qb(67,"ion-button",18),a.tc(68,"Guardar"),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(12),a.fc("ngModel",t.game.l_team),a.yb(1),a.fc("ngForOf",t.teams),a.yb(2),a.uc(t.serviceGame.errorsForm.get("l_team")),a.yb(4),a.fc("ngModel",t.game.v_team),a.yb(1),a.fc("ngForOf",t.teams),a.yb(2),a.uc(t.serviceGame.errorsForm.get("v_team")),a.yb(1),a.fc("ngIf",t.game.other_team),a.yb(6),a.fc("ngModel",t.game.l_goals),a.yb(1),a.fc("ngForOf",t.numbGoals),a.yb(2),a.uc(t.serviceGame.errorsForm.get("l_goals")),a.yb(4),a.fc("ngModel",t.game.v_goals),a.yb(1),a.fc("ngForOf",t.numbGoals),a.yb(2),a.uc(t.serviceGame.errorsForm.get("v_goals")),a.yb(4),a.fc("ngModel",t.game.time),a.yb(4),a.fc("ngModel",t.game.location),a.yb(2),a.uc(t.serviceGame.errorsForm.get("location")),a.yb(4),a.fc("ngModel",t.game.description),a.yb(2),a.uc(t.serviceGame.errorsForm.get("description")),a.yb(4),a.fc("ngModel",t.game.date),a.yb(4),a.fc("ngModel",t.game.status),a.yb(1),a.fc("ngForOf",t.status),a.yb(2),a.uc(t.serviceGame.errorsForm.get("status")))},directives:[b.x,b.jb,b.hb,b.j,b.i,b.y,b.r,d.i,d.e,d.f,b.D,b.G,b.W,b.ub,d.d,d.g,u.j,u.k,b.s,b.C,b.vb,b.X],styles:[""]}),e})()},PNDZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return Q}));var n=i("mrSG"),o=i("8xVP"),s=i("Dwri"),a=i("9suA"),c=i("fXoL"),r=i("G/jy"),b=i("TEn/"),l=i("vuFD"),d=i("y/q6"),u=i("tyNb"),m=i("ofXK"),g=i("sjK5"),h=i("3Pt+");function p(e,t){if(1&e){const e=c.Rb();c.Qb(0,"ion-button",10),c.Yb("click",(function(){return c.nc(e),c.ac().chatService.toggle()})),c.Mb(1,"ion-icon",11),c.Pb()}if(2&e){const e=c.ac();c.fc("color",e.chatService.isVisible?"success":"")}}function f(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div"),c.Qb(1,"ion-card"),c.Qb(2,"ion-card-content"),c.Qb(3,"div",12),c.tc(4," Verif\xedca el nombre del equipo "),c.Pb(),c.Qb(5,"ion-list"),c.Qb(6,"ion-item"),c.Qb(7,"ion-label",13),c.tc(8,"Nombre"),c.Pb(),c.Qb(9,"ion-input",14),c.Yb("ngModelChange",(function(t){return c.nc(e),c.ac().team.name=t})),c.Pb(),c.Pb(),c.Qb(10,"ion-text",15),c.tc(11),c.Pb(),c.Pb(),c.Qb(12,"ion-grid"),c.Qb(13,"ion-row"),c.Mb(14,"ion-col"),c.Qb(15,"ion-col"),c.Qb(16,"ion-button",16),c.Yb("click",(function(){return c.nc(e),c.ac().changedSegment("2")})),c.tc(17," Siguiente "),c.Mb(18,"ion-icon",17),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=c.ac();c.yb(9),c.fc("ngModel",e.team.name),c.yb(2),c.uc(e.errorName)}}function v(e,t){if(1&e&&(c.Qb(0,"ion-list"),c.Qb(1,"ion-item"),c.tc(2),c.Pb(),c.Pb()),2&e){const e=t.$implicit;c.yb(2),c.vc(" ",e.text?e.text:e.last_name+" "+e.first_name,"")}}function P(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div"),c.Qb(1,"ion-card"),c.Qb(2,"ion-card-content"),c.Qb(3,"div",12),c.tc(4," Seleccionar administradores "),c.Pb(),c.Qb(5,"ion-list"),c.Qb(6,"div",18),c.Qb(7,"ion-list-header",19),c.Qb(8,"ion-label"),c.tc(9,"A\xf1adir administradores"),c.Pb(),c.Qb(10,"button",20),c.Yb("click",(function(t){return c.nc(e),c.ac().addAdmins(t)})),c.Mb(11,"ion-icon",21),c.Pb(),c.Pb(),c.Qb(12,"ion-text",15),c.tc(13),c.Pb(),c.sc(14,v,3,1,"ion-list",22),c.Pb(),c.Pb(),c.Qb(15,"ion-grid"),c.Qb(16,"ion-row"),c.Qb(17,"ion-col"),c.Qb(18,"ion-button",16),c.Yb("click",(function(){return c.nc(e),c.ac().changedSegment("1",!0)})),c.Mb(19,"ion-icon",23),c.tc(20," Atras "),c.Pb(),c.Pb(),c.Qb(21,"ion-col"),c.Qb(22,"ion-button",16),c.Yb("click",(function(){return c.nc(e),c.ac().changedSegment("3")})),c.tc(23," Siguiente "),c.Mb(24,"ion-icon",17),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=c.ac();c.yb(13),c.uc(e.errorAdmins),c.yb(1),c.fc("ngForOf",e.team.admins)}}function y(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div"),c.Qb(1,"ion-card"),c.Qb(2,"ion-card-content"),c.Qb(3,"div",12),c.tc(4," Informacion sobre el registro "),c.Pb(),c.Qb(5,"div",24),c.tc(6," Una vez registrado el equipo los administradores recibir\xe1n una notificaci\xf3n y podr\xe1n modificar los dem\xe1s datos. "),c.Pb(),c.Qb(7,"div",24),c.tc(8," Te recordamos que para que los administradores puedan realizar modificaciones, primero deben abonar la suscripci\xf3n del equipo. "),c.Pb(),c.Qb(9,"ion-grid"),c.Qb(10,"ion-row"),c.Qb(11,"ion-col"),c.Qb(12,"ion-button",16),c.Yb("click",(function(){return c.nc(e),c.ac().changedSegment("2",!0)})),c.Mb(13,"ion-icon",23),c.tc(14," Atras "),c.Pb(),c.Pb(),c.Qb(15,"ion-col"),c.Qb(16,"ion-button",16),c.Yb("click",(function(){return c.nc(e),c.ac().saveTeam()})),c.tc(17," Finalizar "),c.Mb(18,"ion-icon",25),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()}}let Q=(()=>{class e extends a.a{constructor(e,t,i,n,s,a,c,r){super(c,t),this.reqest=e,this.viewCtrl=t,this.modalController=i,this.dialogService=n,this.authUser=s,this.router=a,this.chatService=r,this.team={id:"",name:"",admins:[]},this.tabsEnables={info:!0,name:!0,admins:!1,payment:!1},this.segmentSelect="1",this.errorName="",this.errorAdmins="",this.modelMercadoPago=new o.a("MercadoPagoService",e),this.modelTeam=new o.a("Team",e),this.team.admins.push({text:`${s.user.completeName} (${s.user.email})`,id:s.user.id})}initObject(){}segmentChanged(e){}changedSegment(e,t=!1){if(console.log(e),t)this.segmentSelect=e;else switch(e){case"2":return void this.verifyNameSelect();case"3":return void this.verifyAdmins();default:this.segmentSelect=e}}preferenceApi(){console.log("preference api"),this.modelMercadoPago.api_function("createPreference",{}).subscribe(e=>{if(console.log(e),"success"==e.status){var t=e.data;console.log("pref",t),this.mp.checkout({preference:{id:t},render:{container:".cho-container",label:"Pagar"}})}},e=>{console.error(e)})}verifyNameSelect(){return Object(n.b)(this,void 0,void 0,(function*(){if(""==this.team.name)return this.errorName="El campo nombre es Obligario.",void(this.tabsEnables.admins=!1);yield this.dialogService.loadingProgres("verificando nombre"),console.log("team",this.team),this.modelTeam.api_function("exist",this.team).subscribe(e=>{if(this.dialogService.dimissLoaging(),e.data)return this.errorName=`El equipo ${this.team.name} ya se encuentra Registrado.`,void(this.tabsEnables.admins=!1);this.errorName="",this.segmentSelect="2",this.tabsEnables.admins=!0,console.log(e)},e=>{console.log(e),this.dialogService.dimissLoaging()})}))}verifyAdmins(){this.errorAdmins="",this.team.admins.length>0?(this.segmentSelect="3",this.tabsEnables.payment=!0):(this.errorAdmins="Debe a\xf1adir como minimo un Administrador",this.tabsEnables.payment=!1)}dismiss(e){this.viewCtrl.dismiss({team:e})}close(){this.viewCtrl.dismiss()}addAdmins(e){return Object(n.b)(this,void 0,void 0,(function*(){this.errorAdmins="",e.preventDefault(),console.log("Add admins");let t=this.team.admins;const i=yield this.modalController.create({component:s.a,componentProps:{cancellable:!1,model:"User",function:"searchUser",multiple:!0,textSearch:"Nombre o email",listSelect:t}});return i.onDidDismiss().then(e=>{e.data&&e.data.items&&(this.team.admins=e.data.items)}),yield i.present()}))}saveTeam(){return Object(n.b)(this,void 0,void 0,(function*(){yield this.dialogService.loadingProgres("Registrando"),this.modelTeam.api_create(this.team).subscribe(e=>{if(this.dialogService.dimissLoaging(),"success"==e.status){this.dialogService.showToast("Equipo registrado",null,"success");let t=e.Team;this.authUser.user.teams.push(t),this.authUser.saveUser(),this.dismiss(t)}})}))}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(r.a),c.Lb(b.nb),c.Lb(b.nb),c.Lb(l.a),c.Lb(d.a),c.Lb(u.g),c.Lb(m.m),c.Lb(g.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-payment-team"]],features:[c.vb],decls:23,vars:8,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],["slot","secondary"],[3,"color","click",4,"ngIf"],[3,"ngModel","ionChange","ngModelChange"],["value","1",3,"disabled"],["value","2",3,"disabled"],["value","3",3,"disabled"],[4,"ngIf"],[3,"color","click"],["name","help-circle-outline"],[1,"title","msj"],["position","floating"],["type","text","name","name",3,"ngModel","ngModelChange"],["color","danger"],["expand","full",3,"click"],["name","chevron-forward-outline"],[1,"admins"],[1,"bg-l1"],["item-end","","ion-button","","color","danger",3,"click"],["name","person-add-outline"],[4,"ngFor","ngForOf"],["name","chevron-back-outline"],[1,"cho-container","msj-xs","text"],["name","checkmark-done-outline"]],template:function(e,t){1&e&&(c.Qb(0,"ion-header"),c.Qb(1,"ion-toolbar"),c.Qb(2,"ion-buttons",0),c.Qb(3,"ion-button",1),c.Yb("click",(function(){return t.close()})),c.Mb(4,"ion-icon",2),c.Pb(),c.Pb(),c.Qb(5,"ion-title"),c.tc(6,"Registrar mi equipo"),c.Pb(),c.Qb(7,"ion-buttons",3),c.sc(8,p,2,1,"ion-button",4),c.Pb(),c.Pb(),c.Pb(),c.Qb(9,"ion-content"),c.Qb(10,"ion-segment",5),c.Yb("ionChange",(function(e){return t.segmentChanged(e)}))("ngModelChange",(function(e){return t.segmentSelect=e})),c.Qb(11,"ion-segment-button",6),c.Qb(12,"ion-label"),c.tc(13,"1"),c.Pb(),c.Pb(),c.Qb(14,"ion-segment-button",7),c.Qb(15,"ion-label"),c.tc(16,"2"),c.Pb(),c.Pb(),c.Qb(17,"ion-segment-button",8),c.Qb(18,"ion-label"),c.tc(19,"3"),c.Pb(),c.Pb(),c.Pb(),c.sc(20,f,19,2,"div",9),c.sc(21,P,25,2,"div",9),c.sc(22,y,19,0,"div",9),c.Pb()),2&e&&(c.yb(8),c.fc("ngIf",t.chatService.isInit),c.yb(2),c.fc("ngModel",t.segmentSelect),c.yb(1),c.fc("disabled",!t.tabsEnables.name),c.yb(3),c.fc("disabled",!t.tabsEnables.admins),c.yb(3),c.fc("disabled",!t.tabsEnables.payment),c.yb(3),c.fc("ngIf","1"==t.segmentSelect),c.yb(1),c.fc("ngIf","2"==t.segmentSelect),c.yb(1),c.fc("ngIf","3"==t.segmentSelect))},directives:[b.x,b.jb,b.j,b.i,b.y,b.hb,m.k,b.r,b.U,b.ub,h.d,h.g,b.V,b.G,b.k,b.l,b.H,b.D,b.C,b.vb,b.eb,b.w,b.S,b.q,b.I,m.j],styles:[".title[_ngcontent-%COMP%]{color:#fff;margin:10px;background:rgba(86,86,86,.4117647058823529);padding:10px;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom:1px solid #797575}.text[_ngcontent-%COMP%]{padding:13px}"]}),e})()},PqZ3:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("AytR"),o=i("fXoL");let s=(()=>{class e{constructor(){}ngOnInit(){let e=document.createElement("script");e.type="text/javascript",e.src="https://sdk.mercadopago.com/js/v2",e.onload=()=>{this.initMP()},document.body.appendChild(e)}initMP(){this.mp=new window.MercadoPago(n.a.mp_public_key),this.checkStatusPayment()}checkStatusPayment(){this.mp.checkout({preference:{id:this.preference_id},render:{container:".cho-container",label:"Pagar"}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Fb({type:e,selectors:[["app-btn-paid"]],inputs:{preference_id:"preference_id"},decls:2,vars:0,consts:[[2,"margin","10px"],[1,"cho-container","ion-float-right"]],template:function(e,t){1&e&&(o.Qb(0,"div",0),o.Mb(1,"div",1),o.Pb())},styles:[""]}),e})()},QbbR:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("fXoL"),o=i("2Rin"),s=i("TEn/"),a=i("ofXK");function c(e,t){if(1&e&&(n.Qb(0,"ion-text",13),n.Mb(1,"ion-icon",14),n.tc(2),n.Pb()),2&e){const e=n.ac();n.yb(2),n.vc(" ",e.game.comments_count," ")}}let r=(()=>{class e{constructor(e){this.util=e,this.withDate=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(o.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-game-list"]],inputs:{game:"game",withDate:"withDate"},decls:25,vars:7,consts:[[1,"ion-padding","custom-skeleton"],[1,"game"],[1,"team-list","contenedor"],[1,"team"],[1,"text-name","fs-team-game"],["slot","start"],[3,"src"],[1,"vs","ion-align-items-center"],["color","ligth"],[1,"date","ion-text-center",2,"width","100%"],["color","dark",1,"io-float-left"],["name","timer-outline","color","primary"],["class","ion-float-right",4,"ngIf"],[1,"ion-float-right"],["name","chatbubble-ellipses-outline","color","primary"]],template:function(e,t){1&e&&(n.Qb(0,"ion-card"),n.Qb(1,"div",0),n.Qb(2,"div",1),n.Qb(3,"div",2),n.Qb(4,"div",3),n.Qb(5,"ion-text"),n.Qb(6,"h3",4),n.tc(7),n.Pb(),n.Pb(),n.Qb(8,"ion-avatar",5),n.Mb(9,"ion-img",6),n.Pb(),n.Pb(),n.Qb(10,"div",7),n.Qb(11,"div"),n.Qb(12,"ion-text",8),n.tc(13,"Vs"),n.Pb(),n.Pb(),n.Pb(),n.Qb(14,"div",3),n.Qb(15,"ion-text"),n.Qb(16,"h3",4),n.tc(17),n.Pb(),n.Pb(),n.Qb(18,"ion-avatar",5),n.Mb(19,"ion-img",6),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(20,"div",9),n.Qb(21,"ion-text",10),n.Mb(22,"ion-icon",11),n.tc(23),n.Pb(),n.sc(24,c,3,1,"ion-text",12),n.Pb(),n.Pb(),n.Pb()),2&e&&(n.yb(7),n.uc(t.game.team_l.name),n.yb(2),n.fc("src",t.game.team_l.shield?t.game.team_l.shield.urlComplete:"assets/images/esc.png"),n.yb(8),n.uc(t.game.team_v.name),n.yb(2),n.fc("src",t.game.team_v.shield?t.game.team_v.shield.urlComplete:"assets/images/esc.png"),n.yb(4),n.wc(" ",t.withDate?t.util.setFormatMoment(t.game.date,"ddd DD MMM"):""," ",t.util.formatHours(t.game.time)," "),n.yb(1),n.fc("ngIf",t.game.comments_count>=0))},directives:[s.k,s.eb,s.e,s.z,s.y,a.k],styles:[".team-list[_ngcontent-%COMP%]{display:block}.vs[_ngcontent-%COMP%]{width:6%;min-height:100px;min-width:20px;display:flex;align-items:center;justify-content:center;height:100%}.game[_ngcontent-%COMP%]{width:100%;background-repeat:no-repeat;background-size:100%;padding:10px}.team[_ngcontent-%COMP%]{display:flex;align-items:center;width:47%;flex-flow:column-reverse}.team-name[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.img-team[_ngcontent-%COMP%]{border-radius:50%;background-position:50%;width:30px;height:30px}.contenedor[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;width:100%;text-align:-webkit-center;padding:10px;background:rgba(14,14,14,.43137254901960786);border-radius:20px;color:#fff}.date[_ngcontent-%COMP%]{text-align:center}.text-name[_ngcontent-%COMP%]{margin-top:15px}"]}),e})()},U6ZO:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("8xVP"),o=i("fXoL"),s=i("G/jy"),a=i("vuFD"),c=i("TEn/"),r=i("6/gD"),b=i("3Pt+");let l=(()=>{class e{constructor(e,t,i,o,s){this.request=e,this.dialogService=t,this.viewCtrl=i,this.photoService=o,this.servicePosition=new n.a("Position",e),this.id=s.get("id")}ngOnInit(){this.initObject()}initObject(){this.posicion={name:""},this.id&&this.servicePosition.api_find(this.id).subscribe(e=>{"success"==e.status&&(this.posicion=e.Position)})}submit(){this.posicion.id?this.servicePosition.api_update(this.posicion).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.Position))}):this.servicePosition.api_create(this.posicion).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.Position))})}dismiss(e){this.viewCtrl.dismiss({posicion:e})}close(){this.viewCtrl.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(o.Lb(s.a),o.Lb(a.a),o.Lb(c.nb),o.Lb(r.a),o.Lb(c.pb))},e.\u0275cmp=o.Fb({type:e,selectors:[["app-position-form"]],decls:17,vars:2,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],[3,"ngSubmit","keyup"],["position","floating"],["type","text","name","name",3,"ngModel","ngModelChange"],[2,"color","red","padding-top","0.2rem"],["type","submit","expand","block"]],template:function(e,t){1&e&&(o.Qb(0,"ion-header"),o.Qb(1,"ion-toolbar"),o.Qb(2,"ion-title"),o.tc(3,"Posici\xf3n"),o.Pb(),o.Qb(4,"ion-buttons",0),o.Qb(5,"ion-button",1),o.Yb("click",(function(){return t.close()})),o.Mb(6,"ion-icon",2),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(7,"ion-content"),o.Qb(8,"form",3),o.Yb("ngSubmit",(function(){return t.submit()}))("keyup",(function(){return t.servicePosition.errorsForm.clear()})),o.Qb(9,"ion-item"),o.Qb(10,"ion-label",4),o.tc(11,"Nombre"),o.Pb(),o.Qb(12,"ion-input",5),o.Yb("ngModelChange",(function(e){return t.posicion.name=e})),o.Pb(),o.Pb(),o.Qb(13,"div",6),o.tc(14),o.Pb(),o.Qb(15,"ion-button",7),o.tc(16,"Guardar"),o.Pb(),o.Pb(),o.Pb()),2&e&&(o.yb(12),o.fc("ngModel",t.posicion.name),o.yb(2),o.uc(t.servicePosition.errorsForm.get("name")))},directives:[c.x,c.jb,c.hb,c.j,c.i,c.y,c.r,b.i,b.e,b.f,c.D,c.G,c.C,c.vb,b.d,b.g],styles:[""]}),e})()},U9ZX:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i("8xVP"),o=i("e4Bz"),s=i("9suA"),a=i("fXoL"),c=i("G/jy"),r=i("vuFD"),b=i("TEn/"),l=i("ofXK"),d=i("sjK5"),u=i("3Pt+");function m(e,t){if(1&e){const e=a.Rb();a.Qb(0,"ion-button",17),a.Yb("click",(function(){return a.nc(e),a.ac().chatService.toggle()})),a.Mb(1,"ion-icon",18),a.Pb()}if(2&e){const e=a.ac();a.fc("color",e.chatService.isVisible?"success":"")}}function g(e,t){if(1&e){const e=a.Rb();a.Qb(0,"ion-item"),a.Qb(1,"ion-label",10),a.tc(2,"Contrase\xf1a"),a.Pb(),a.Qb(3,"ion-input",19),a.Yb("ngModelChange",(function(t){return a.nc(e),a.ac().user.password=t})),a.Pb(),a.Pb()}if(2&e){const e=a.ac();a.yb(3),a.fc("ngModel",e.user.password)}}function h(e,t){if(1&e){const e=a.Rb();a.Qb(0,"ion-item"),a.Qb(1,"ion-label",10),a.tc(2,"Confirmar Contrase\xf1a"),a.Pb(),a.Qb(3,"ion-input",20),a.Yb("ngModelChange",(function(t){return a.nc(e),a.ac().user.password_confirmation=t})),a.Pb(),a.Pb()}if(2&e){const e=a.ac();a.yb(3),a.fc("ngModel",e.user.password_confirmation)}}function p(e,t){1&e&&a.Mb(0,"ion-spinner",21)}let f=(()=>{class e extends s.a{constructor(e,t,i,s,a,c,r,b){super(r,i),this.request=e,this.dialogService=t,this.viewCtrl=i,this.platform=a,this.utilDialog=c,this.chatService=b,this.saving=!1,this.serviceUser=new n.a("User",e),this.photoService=new o.a(e,i),this.photoService.init("images/users/profile/",!0,"assets/images/profile.jpg"),this.photoService.setElementImg("img_user",700),this.id=s.get("id")}initObject(){this.user={first_name:"",last_name:"",email:"",password:"",password_confirmation:"",role:"user"},this.id&&this.serviceUser.api_find(this.id).subscribe(e=>{"success"==e.status&&(this.user=e.User,this.photoService.setImage(this.user.photo),console.log(this.photoService.photo.getPath()))})}submit(){this.saving=!0,this.photoService.isLoadPthoto()&&(this.user.photo=this.photoService.getImageUpload()),this.user.id?this.serviceUser.api_update(this.user).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.User)),this.saving=!1},e=>{this.saving=!1}):this.serviceUser.api_create(this.user).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.User)),this.saving=!1},e=>{this.saving=!1})}dismiss(e){this.viewCtrl.dismiss({user:e})}close(){this.viewCtrl.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(c.a),a.Lb(r.a),a.Lb(b.nb),a.Lb(b.pb),a.Lb(b.rb),a.Lb(r.a),a.Lb(l.m),a.Lb(d.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-user-form"]],features:[a.vb],decls:47,vars:17,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],["slot","secondary"],[3,"color","click",4,"ngIf"],[3,"ngSubmit","keyup"],["id","img_user",3,"src"],[1,"ion-text-center"],[2,"color","red","padding-top","0.2rem"],["size","small","color","tertiary",3,"click"],["position","floating"],["type","text","name","first_name",3,"ngModel","ngModelChange"],["type","text","name","last_name",3,"ngModel","ngModelChange"],["type","email","name","email",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","submit","expand","block",1,"ion-margin-top",3,"disabled"],["name","lines",4,"ngIf"],[3,"color","click"],["name","help-circle-outline"],["type","password","name","password",3,"ngModel","ngModelChange"],["type","password","name","password_confirmation",3,"ngModel","ngModelChange"],["name","lines"]],template:function(e,t){1&e&&(a.Qb(0,"ion-header"),a.Qb(1,"ion-toolbar"),a.Qb(2,"ion-title"),a.tc(3),a.Pb(),a.Qb(4,"ion-buttons",0),a.Qb(5,"ion-button",1),a.Yb("click",(function(){return t.close()})),a.Mb(6,"ion-icon",2),a.Pb(),a.Pb(),a.Qb(7,"ion-buttons",3),a.sc(8,m,2,1,"ion-button",4),a.Pb(),a.Pb(),a.Pb(),a.Qb(9,"ion-content"),a.Qb(10,"ion-card"),a.Qb(11,"ion-card-content"),a.Qb(12,"form",5),a.Yb("ngSubmit",(function(){return t.submit()}))("keyup",(function(){return t.serviceUser.errorsForm.clear()})),a.Qb(13,"div"),a.Mb(14,"img",6),a.Qb(15,"div",7),a.Qb(16,"div",8),a.tc(17),a.Pb(),a.Qb(18,"ion-button",9),a.Yb("click",(function(){return t.photoService.addOneNewToGallery()})),a.tc(19),a.Pb(),a.Pb(),a.Pb(),a.Qb(20,"ion-item"),a.Qb(21,"ion-label",10),a.tc(22,"Nombre"),a.Pb(),a.Qb(23,"ion-input",11),a.Yb("ngModelChange",(function(e){return t.user.first_name=e})),a.Pb(),a.Pb(),a.Qb(24,"div",8),a.tc(25),a.Pb(),a.Qb(26,"ion-item"),a.Qb(27,"ion-label",10),a.tc(28,"Apellido"),a.Pb(),a.Qb(29,"ion-input",12),a.Yb("ngModelChange",(function(e){return t.user.last_name=e})),a.Pb(),a.Pb(),a.Qb(30,"div",8),a.tc(31),a.Pb(),a.Qb(32,"ion-item"),a.Qb(33,"ion-label",10),a.tc(34,"Email"),a.Pb(),a.Qb(35,"ion-input",13),a.Yb("ngModelChange",(function(e){return t.user.email=e})),a.Pb(),a.Pb(),a.Qb(36,"div",8),a.tc(37),a.Pb(),a.sc(38,g,4,1,"ion-item",14),a.Qb(39,"div",8),a.tc(40),a.Pb(),a.sc(41,h,4,1,"ion-item",14),a.Qb(42,"div",8),a.tc(43),a.Pb(),a.Qb(44,"ion-button",15),a.sc(45,p,1,0,"ion-spinner",16),a.tc(46," Guardar "),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(3),a.uc(t.user.id?"Modificar":"Nuevo Usuario"),a.yb(5),a.fc("ngIf",t.chatService.isInit),a.yb(6),a.fc("src",t.photoService.photo.getPath(),a.oc),a.yb(3),a.uc(t.serviceUser.errorsForm.get("photo")),a.yb(2),a.uc(t.photoService.isLoadPthoto()?"Modificar Foto":"Seleccionar Foto"),a.yb(4),a.fc("ngModel",t.user.first_name),a.yb(2),a.uc(t.serviceUser.errorsForm.get("first_name")),a.yb(4),a.fc("ngModel",t.user.last_name),a.yb(2),a.uc(t.serviceUser.errorsForm.get("last_name")),a.yb(4),a.fc("ngModel",t.user.email),a.yb(2),a.uc(t.serviceUser.errorsForm.get("email")),a.yb(1),a.fc("ngIf",!t.id),a.yb(2),a.uc(t.serviceUser.errorsForm.get("password")),a.yb(1),a.fc("ngIf",!t.id),a.yb(2),a.uc(t.serviceUser.errorsForm.get("password_confirmation")),a.yb(1),a.fc("disabled",t.saving),a.yb(1),a.fc("ngIf",t.saving))},directives:[b.x,b.jb,b.hb,b.j,b.i,b.y,l.k,b.r,b.k,b.l,u.i,u.e,u.f,b.D,b.G,b.C,b.vb,u.d,u.g,b.ab],styles:[""]}),e})()},XNCR:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i("mrSG"),o=i("9suA"),s=i("8xVP"),a=i("fXoL"),c=i("TEn/"),r=i("ofXK"),b=i("G/jy"),l=i("vuFD"),d=i("sjK5"),u=i("3Pt+");function m(e,t){if(1&e){const e=a.Rb();a.Qb(0,"ion-button",17),a.Yb("click",(function(){return a.nc(e),a.ac().chatService.toggle()})),a.Mb(1,"ion-icon",18),a.Pb()}if(2&e){const e=a.ac();a.fc("color",e.chatService.isVisible?"success":"")}}function g(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.tc(1),a.Pb()),2&e){const e=t.$implicit;a.fc("value",e),a.yb(1),a.uc(e)}}function h(e,t){if(1&e&&(a.Qb(0,"ion-select-option",19),a.tc(1),a.Pb()),2&e){const e=t.$implicit;a.fc("value",e),a.yb(1),a.uc(e)}}function p(e,t){if(1&e){const e=a.Rb();a.Qb(0,"ion-item"),a.Qb(1,"ion-label",20),a.tc(2,"Motivo"),a.Pb(),a.Qb(3,"ion-input",21),a.Yb("ngModelChange",(function(t){return a.nc(e),a.ac().game.description=t})),a.Pb(),a.Pb()}if(2&e){const e=a.ac();a.yb(3),a.fc("ngModel",e.game.description)}}let f=(()=>{class e extends o.a{constructor(e,t,i,n,o,a){super(i,t),this.navParms=e,this.modalController=t,this.requestService=n,this.dialogService=o,this.chatService=a,this.numGoals=[],this.status="Jugado",this.serviceGame=new s.a("Game",n),this.game=Object.assign({},e.get("game"));for(var c=0;c<=30;c++)this.numGoals.push(c);console.log(this.game)}initObject(){}confirm(){return Object(n.b)(this,void 0,void 0,(function*(){this.dialogService.presentAlertConfirm("Confirmar",`Ten presente que al ${this.status} este partido ya no podr\xe1s modificar los datos, solo el administrador general podr\xe1 hacerlo.`,()=>{this.submit()})}))}submit(){return Object(n.b)(this,void 0,void 0,(function*(){this.game.status=this.status,yield this.dialogService.loadingProgres(),console.log("submit"),this.serviceGame.api_update(this.game).subscribe(e=>{this.dialogService.dimissLoaging(),"success"==e.status&&this.dimiss(this.game)},e=>{this.dialogService.dimissLoaging()},()=>{this.dialogService.dimissLoaging()})}))}dimiss(e){this.modalController.dismiss({game:e})}close(){this.modalController.dismiss()}log(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(c.pb),a.Lb(c.nb),a.Lb(r.m),a.Lb(b.a),a.Lb(l.a),a.Lb(d.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-add-result"]],features:[a.vb],decls:47,vars:10,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],["slot","secondary"],[3,"color","click",4,"ngIf"],[3,"ngSubmit","keyup"],["size","10"],["size","2"],["name","l_goals",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","v_goals",3,"ngModel","ngModelChange"],["name","status",3,"ngModel","ngModelChange","ionChange"],["value","Jugado"],["value","Suspendido"],[4,"ngIf"],[2,"color","red","padding-top","0.2rem"],["type","submit","expand","block"],[3,"color","click"],["name","help-circle-outline"],[3,"value"],["position","floating"],["type","text","name","description",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(a.Qb(0,"ion-header"),a.Qb(1,"ion-toolbar"),a.Qb(2,"ion-buttons",0),a.Qb(3,"ion-button",1),a.Yb("click",(function(){return t.close()})),a.Mb(4,"ion-icon",2),a.Pb(),a.Pb(),a.Qb(5,"ion-title"),a.tc(6,"A\xf1adir resultado"),a.Pb(),a.Qb(7,"ion-buttons",3),a.sc(8,m,2,1,"ion-button",4),a.Pb(),a.Pb(),a.Pb(),a.Qb(9,"ion-content"),a.Qb(10,"ion-card"),a.Qb(11,"ion-card-content"),a.Qb(12,"form",5),a.Yb("ngSubmit",(function(){return t.confirm()}))("keyup",(function(){return t.serviceGame.errorsForm.clear()})),a.Qb(13,"ion-grid"),a.Qb(14,"ion-row"),a.Qb(15,"ion-col",6),a.tc(16),a.Pb(),a.Qb(17,"ion-col",7),a.Qb(18,"ion-select",8),a.Yb("ngModelChange",(function(e){return t.game.l_goals=e})),a.sc(19,g,2,2,"ion-select-option",9),a.Pb(),a.Pb(),a.Pb(),a.Mb(20,"br"),a.Qb(21,"ion-row"),a.Qb(22,"ion-col",6),a.tc(23),a.Pb(),a.Qb(24,"ion-col",7),a.Qb(25,"ion-select",10),a.Yb("ngModelChange",(function(e){return t.game.v_goals=e})),a.sc(26,h,2,2,"ion-select-option",9),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Mb(27,"br"),a.Qb(28,"ion-list"),a.Qb(29,"ion-radio-group",11),a.Yb("ngModelChange",(function(e){return t.status=e}))("ionChange",(function(e){return t.log(e)})),a.Qb(30,"ion-list-header"),a.tc(31," Estado del partido "),a.Pb(),a.Qb(32,"ion-item"),a.Qb(33,"ion-label"),a.tc(34,"Finalizado"),a.Pb(),a.Mb(35,"ion-radio",12),a.Pb(),a.Qb(36,"ion-item"),a.Qb(37,"ion-label"),a.tc(38,"Suspendido"),a.Pb(),a.Mb(39,"ion-radio",13),a.Pb(),a.Pb(),a.Pb(),a.Mb(40,"br"),a.sc(41,p,4,1,"ion-item",14),a.Qb(42,"div",15),a.tc(43),a.Pb(),a.Mb(44,"br"),a.Qb(45,"ion-button",16),a.tc(46,"Guardar"),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(8),a.fc("ngIf",t.chatService.isInit),a.yb(8),a.uc(t.game.team_l.name),a.yb(2),a.fc("ngModel",t.game.l_goals),a.yb(1),a.fc("ngForOf",t.numGoals),a.yb(4),a.uc(t.game.team_v.name),a.yb(2),a.fc("ngModel",t.game.v_goals),a.yb(1),a.fc("ngForOf",t.numGoals),a.yb(3),a.fc("ngModel",t.status),a.yb(12),a.fc("ngIf","Suspendido"==t.status),a.yb(2),a.uc(t.serviceGame.errorsForm.get("description")))},directives:[c.x,c.jb,c.j,c.i,c.y,c.hb,r.k,c.r,c.k,c.l,u.i,u.e,u.f,c.w,c.S,c.q,c.W,c.ub,u.d,u.g,r.j,c.H,c.N,c.I,c.D,c.G,c.M,c.sb,c.X,c.C,c.vb],styles:[""]}),e})()},acej:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return s}));var n=i("1vRN");const o=async(e,t,i,o,s)=>{if(e)return e.attachViewToDom(t,i,s,o);if("string"!=typeof i&&!(i instanceof HTMLElement))throw new Error("framework delegate is missing");const a="string"==typeof i?t.ownerDocument&&t.ownerDocument.createElement(i):i;return o&&o.forEach(e=>a.classList.add(e)),s&&Object.assign(a,s),t.appendChild(a),await new Promise(e=>Object(n.c)(a,e)),a},s=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},h3R7:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n={bubbles:{dur:1e3,circles:9,fn:(e,t,i)=>{const n=e*t/i-e+"ms",o=2*Math.PI*t/i;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(e,t,i)=>{const n=t/i,o=e*n-e+"ms",s=2*Math.PI*n;return{r:5,style:{top:9*Math.sin(s)+"px",left:9*Math.cos(s)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})}}},mzSd:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var n=i("8xVP"),o=i("fXoL"),s=i("G/jy"),a=i("vuFD"),c=i("TEn/"),r=i("3Pt+");let b=(()=>{class e{constructor(e,t,i,o){this.request=e,this.dialogService=t,this.viewCtrl=i,this.serviceTypeEvent=new n.a("TypeEvent",e),console.log("ver"),this.id=o.get("id")}ngOnInit(){this.initObject()}initObject(){this.typeEvent={name:"",icon:""},this.id&&this.serviceTypeEvent.api_find(this.id).subscribe(e=>{"success"==e.status&&(this.typeEvent=e.TypeEvent)})}submit(){this.typeEvent.id?this.serviceTypeEvent.api_update(this.typeEvent).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.TypeEvent))}):this.serviceTypeEvent.api_create(this.typeEvent).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.TypeEvent))})}dismiss(e){this.viewCtrl.dismiss({typeEvent:e})}close(){this.viewCtrl.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(o.Lb(s.a),o.Lb(a.a),o.Lb(c.nb),o.Lb(c.pb))},e.\u0275cmp=o.Fb({type:e,selectors:[["app-type-event-form"]],decls:23,vars:4,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],[3,"ngSubmit","keyup"],["position","floating"],["type","text","name","name",3,"ngModel","ngModelChange"],[2,"color","red","padding-top","0.2rem"],["type","text","name","icon",3,"ngModel","ngModelChange"],["type","submit","expand","block"]],template:function(e,t){1&e&&(o.Qb(0,"ion-header"),o.Qb(1,"ion-toolbar"),o.Qb(2,"ion-title"),o.tc(3,"Tipo de evento"),o.Pb(),o.Qb(4,"ion-buttons",0),o.Qb(5,"ion-button",1),o.Yb("click",(function(){return t.close()})),o.Mb(6,"ion-icon",2),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(7,"ion-content"),o.Qb(8,"form",3),o.Yb("ngSubmit",(function(){return t.submit()}))("keyup",(function(){return t.serviceTypeEvent.errorsForm.clear()})),o.Qb(9,"ion-item"),o.Qb(10,"ion-label",4),o.tc(11,"Nombre"),o.Pb(),o.Qb(12,"ion-input",5),o.Yb("ngModelChange",(function(e){return t.typeEvent.name=e})),o.Pb(),o.Pb(),o.Qb(13,"div",6),o.tc(14),o.Pb(),o.Qb(15,"ion-item"),o.Qb(16,"ion-label",4),o.tc(17,"Path icono local"),o.Pb(),o.Qb(18,"ion-input",7),o.Yb("ngModelChange",(function(e){return t.typeEvent.icon=e})),o.Pb(),o.Pb(),o.Qb(19,"div",6),o.tc(20),o.Pb(),o.Qb(21,"ion-button",8),o.tc(22,"Guardar"),o.Pb(),o.Pb(),o.Pb()),2&e&&(o.yb(12),o.fc("ngModel",t.typeEvent.name),o.yb(2),o.uc(t.serviceTypeEvent.errorsForm.get("name")),o.yb(4),o.fc("ngModel",t.typeEvent.icon),o.yb(2),o.uc(t.serviceTypeEvent.errorsForm.get("icon")))},directives:[c.x,c.jb,c.hb,c.j,c.i,c.y,c.r,r.i,r.e,r.f,c.D,c.G,c.C,c.vb,r.d,r.g],styles:[""]}),e})()},pa2R:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("fXoL"),o=i("U3FU"),s=i("ofXK"),a=i("TEn/");function c(e,t){1&e&&(n.Qb(0,"ion-row"),n.Qb(1,"ion-col"),n.tc(2," No ha encontrado Jugadores "),n.Pb(),n.Pb())}function r(e,t){if(1&e){const e=n.Rb();n.Qb(0,"ion-col",3),n.Qb(1,"div",4),n.Yb("click",(function(){n.nc(e);const i=t.$implicit;return n.ac(3).selectItem(i)})),n.Mb(2,"img",5),n.Qb(3,"ion-text",6),n.Qb(4,"h4",7),n.tc(5),n.Pb(),n.Pb(),n.Pb(),n.Pb()}if(2&e){const e=t.$implicit,i=n.ac(3);n.yb(2),n.fc("src",i.getPhoto(e),n.oc),n.yb(3),n.uc(e.name)}}function b(e,t){if(1&e&&(n.Qb(0,"ion-grid"),n.Qb(1,"ion-row"),n.Qb(2,"ion-col"),n.dc(3),n.Pb(),n.Pb(),n.sc(4,c,3,0,"ion-row",0),n.Qb(5,"ion-row"),n.sc(6,r,6,2,"ion-col",2),n.Pb(),n.Pb()),2&e){const e=n.ac(2);n.yb(4),n.fc("ngIf",e.items.length<1),n.yb(2),n.fc("ngForOf",e.items)}}function l(e,t){if(1&e){const e=n.Rb();n.Qb(0,"div",8),n.Yb("clcik",(function(t){return n.nc(e),n.ac(2).load(t)})),n.tc(1," Volver a Intentar "),n.Pb()}}function d(e,t){if(1&e&&(n.Qb(0,"div"),n.sc(1,b,7,2,"ion-grid",0),n.sc(2,l,2,0,"div",1),n.Pb()),2&e){const e=n.ac();n.yb(1),n.fc("ngIf",!e.errorLoading),n.yb(1),n.fc("ngIf",e.errorLoading)}}function u(e,t){1&e&&(n.Qb(0,"ion-col",10),n.Qb(1,"div",11),n.Mb(2,"ion-skeleton-text",12),n.Qb(3,"h4",13),n.Mb(4,"ion-skeleton-text",14),n.Pb(),n.Pb(),n.Pb())}function m(e,t){if(1&e&&(n.Qb(0,"div"),n.Qb(1,"ion-row"),n.sc(2,u,5,0,"ion-col",9),n.Pb(),n.Pb()),2&e){const e=n.ac();n.yb(2),n.fc("ngForOf",e.listSkeleton)}}const g=[[["","searchPlayer",""]]],h=["[searchPlayer]"];let p=(()=>{class e{constructor(e){var t;this.photoViewer=e,this.loading=!1,this.eventLoad=new n.n,this.eventSelect=new n.n,this.listSkeleton=new Array(5),this.items=null!==(t=this.items)&&void 0!==t?t:[]}ngOnInit(){console.log("items comp",this.items)}load(e){console.log("emit comp"),this.eventLoad&&this.eventLoad.emit(e)}selectItem(e){this.eventSelect&&this.eventSelect.emit(e)}getPhoto(e){return e.photo?this.getPhotoServer(e.photo):"assets/images/play.png"}getPhotoOr(e){return e.photo?e.photo.urlComplete:"assets/images/jugador.png"}getPhotoServer(e){return e.urlCompleteThumb}showPhoto(e){this.photoViewer.show(e.urlComplete)}ngOnChanges(e){console.log("changes")}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(o.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-player-list"]],inputs:{items:"items",loading:"loading",errorLoading:["errorLoad","errorLoading"],firstLoading:"firstLoading"},outputs:{eventLoad:"eventLoad",eventSelect:"eventSelect"},features:[n.wb],ngContentSelectors:h,decls:3,vars:2,consts:[[4,"ngIf"],[3,"clcik",4,"ngIf"],["sizeXs","4","sizeMd","3",4,"ngFor","ngForOf"],["sizeXs","4","sizeMd","3"],[1,"player-list",3,"click"],["alt","Foto",1,"player-list-photo",3,"src"],["color","dark"],[1,"fs-player","name"],[3,"clcik"],["size","4",4,"ngFor","ngForOf"],["size","4"],[1,"player-list"],["animated","",1,"player-list-photo",2,"height","100px"],[1,"fs-player"],["animated","",2,"width","80%","height","20px"]],template:function(e,t){1&e&&(n.ec(g),n.Qb(0,"div"),n.sc(1,d,3,2,"div",0),n.sc(2,m,3,1,"div",0),n.Pb()),2&e&&(n.yb(1),n.fc("ngIf",!t.firstLoading),n.yb(1),n.fc("ngIf",t.firstLoading))},directives:[s.k,a.w,a.S,a.q,s.j,a.eb,a.Y],styles:[".player-list[_ngcontent-%COMP%]{margin:5px}.player-list-photo[_ngcontent-%COMP%]{width:100%;vertical-align:middle;border-radius:5px}.name[_ngcontent-%COMP%]{text-overflow:inherit;overflow:inherit}"]}),e})()},qULd:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return c}));const n={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:i})},notification(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:i})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},o=()=>{n.selection()},s=()=>{n.selectionStart()},a=()=>{n.selectionChanged()},c=()=>{n.selectionEnd()},r=e=>{n.impact(e)}},qq2r:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("9suA"),o=i("fXoL"),s=i("TEn/"),a=i("ofXK"),c=i("EbHZ");function r(e,t){1&e&&(o.Qb(0,"ion-list-header",6),o.Qb(1,"ion-label"),o.tc(2,"No se ha encontrado equipos"),o.Pb(),o.Pb())}function b(e,t){if(1&e){const e=o.Rb();o.Qb(0,"ion-item",7),o.Yb("click",(function(){o.nc(e);const i=t.$implicit;return o.ac().dismiss(i)})),o.Qb(1,"ion-avatar",0),o.Mb(2,"ion-img",8),o.Pb(),o.Qb(3,"ion-label"),o.Qb(4,"h3",9),o.tc(5),o.Pb(),o.Pb(),o.Mb(6,"ion-icon",10),o.Pb()}if(2&e){const e=t.$implicit;o.yb(2),o.fc("src",e.shield?e.shield.urlCompleteThumb:"assets/images/esc.png"),o.yb(3),o.uc(e.name)}}let l=(()=>{class e extends n.a{constructor(e,t,i){super(t,e),this.viewCtrl=e,this.location=t,this.dataTranfer=i,this.teams=[],this.oldTeams=[],this.textSearch="",this.teams=i.getData("teams"),this.oldTeams=[...this.teams]}initObject(){}dismiss(e){this.viewCtrl.dismiss({team:e})}close(){this.viewCtrl.dismiss()}filterTeams(e){e.length<=0?this.teams=this.oldTeams:(this.teams=[...this.oldTeams],this.teams=this.teams.filter(t=>t.name.toUpperCase().includes(e.toUpperCase())))}getFilter(){return this.teams.filter(e=>e.name.toUpperCase().includes(this.textSearch.toUpperCase()))}cancelFilter(e){this.teams=this.oldTeams}filterChangue(e){this.textSearch=e.detail.value}log(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Lb(s.nb),o.Lb(a.m),o.Lb(c.a))},e.\u0275cmp=o.Fb({type:e,selectors:[["app-modal-filter"]],features:[o.vb],decls:12,vars:2,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],["placeholder","Filtrar equipos",3,"ionClear","ionChange"],["color","tertiary",4,"ngIf"],["class","team-list",3,"click",4,"ngFor","ngForOf"],["color","tertiary"],[1,"team-list",3,"click"],[3,"src"],[1,"fs-team"],["name","chevron-forward-outline"]],template:function(e,t){1&e&&(o.Qb(0,"ion-header"),o.Qb(1,"ion-toolbar"),o.Qb(2,"ion-buttons",0),o.Qb(3,"ion-button",1),o.Yb("click",(function(){return t.close()})),o.Mb(4,"ion-icon",2),o.Pb(),o.Pb(),o.Qb(5,"ion-title"),o.tc(6,"Buscar Equipo"),o.Pb(),o.Pb(),o.Pb(),o.Qb(7,"ion-content"),o.Qb(8,"ion-searchbar",3),o.Yb("ionClear",(function(e){return t.cancelFilter(e)}))("ionChange",(function(e){return t.filterChangue(e)})),o.Pb(),o.Qb(9,"ion-list"),o.sc(10,r,3,0,"ion-list-header",4),o.sc(11,b,7,2,"ion-item",5),o.Pb(),o.Pb()),2&e&&(o.yb(10),o.fc("ngIf",0==t.getFilter().length),o.yb(1),o.fc("ngForOf",t.getFilter()))},directives:[s.x,s.jb,s.j,s.i,s.y,s.hb,s.r,s.T,s.vb,s.H,a.k,a.j,s.I,s.G,s.D,s.e,s.z],styles:[""]}),e})()},qtYk:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("ofXK"),o=i("3Pt+"),s=i("TEn/"),a=i("fXoL");let c=(()=>{class e{}return e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({factory:function(t){return new(t||e)},imports:[[n.b,o.a,s.kb]]}),e})()},xj5e:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("fXoL"),o=i("2Rin"),s=i("ofXK"),a=i("TEn/");function c(e,t){if(1&e&&(n.Qb(0,"ion-text",11),n.tc(1),n.Pb()),2&e){const e=n.ac(2);n.yb(1),n.uc(e.game.v_goals)}}function r(e,t){if(1&e&&(n.Qb(0,"ion-text",11),n.tc(1),n.Pb()),2&e){const e=n.ac(2);n.yb(1),n.uc(e.game.v_goals)}}function b(e,t){if(1&e&&(n.Qb(0,"div",1),n.Qb(1,"ion-text",2),n.tc(2),n.Pb(),n.Qb(3,"div",3),n.Qb(4,"div",4),n.Qb(5,"div"),n.Qb(6,"ion-item"),n.Qb(7,"ion-avatar",5),n.Mb(8,"ion-img",6),n.Pb(),n.Qb(9,"ion-label"),n.tc(10),n.Pb(),n.sc(11,c,2,1,"ion-text",7),n.Pb(),n.Pb(),n.Qb(12,"div"),n.Qb(13,"ion-item"),n.Qb(14,"ion-avatar",5),n.Mb(15,"ion-img",6),n.Pb(),n.Qb(16,"ion-label"),n.tc(17),n.Pb(),n.sc(18,r,2,1,"ion-text",7),n.Pb(),n.Pb(),n.Pb(),n.Qb(19,"div",8),n.Qb(20,"ion-badge",9),n.tc(21),n.Pb(),n.Qb(22,"div"),n.tc(23),n.Pb(),n.Qb(24,"div",10),n.tc(25),n.Pb(),n.Pb(),n.Pb(),n.Pb()),2&e){const e=n.ac();n.yb(2),n.uc("Pendiente"==e.game.status?"Pr\xf3ximo partido":"Ultimo partido"),n.yb(6),n.fc("src",e.game.team_l.shield?e.game.team_l.shield.urlCompleteThumb:"assets/images/esc.png"),n.yb(2),n.uc(e.game.team_l.name),n.yb(1),n.fc("ngIf","Pendiente"!=e.game.status),n.yb(4),n.fc("src",e.game.team_v.shield?e.game.team_v.shield.urlCompleteThumb:"assets/images/esc.png"),n.yb(2),n.uc(e.game.team_v.name),n.yb(1),n.fc("ngIf","Pendiente"!=e.game.status),n.yb(2),n.fc("color",e.colorStatus),n.yb(1),n.uc(e.game.status),n.yb(2),n.uc(e.util.setFormatMoment(e.game.date,"DD/M/YYYY")),n.yb(2),n.uc(e.util.formatHours(e.game.time))}}let l=(()=>{class e{constructor(e){this.util=e}ngOnInit(){}get colorStatus(){if(this.game)switch(this.game.status){case"Pendiente":return"secondary";case"Jugado":return"success";case"Suspendido":return"danger"}return"default"}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(o.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-old-next-game"]],inputs:{game:"game"},decls:1,vars:1,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"desc"],[1,"content-temas","bg-l2"],[1,"teams"],["slot","start",1,"esc"],[1,"esc",3,"src"],["slot","end",4,"ngIf"],[1,"center","ion-text-center","date"],[1,"status",3,"color"],[1,"hs"],["slot","end"]],template:function(e,t){1&e&&n.sc(0,b,26,11,"div",0),2&e&&n.fc("ngIf",t.game)},directives:[s.k,a.eb,a.D,a.e,a.z,a.G,a.h],styles:[".content[_ngcontent-%COMP%]{padding:10px}.content-temas[_ngcontent-%COMP%]{display:flex;border-bottom-right-radius:20px;border-top-right-radius:20px}.teams[_ngcontent-%COMP%]{width:80%}.esc[_ngcontent-%COMP%]{width:20px;height:20px}.date[_ngcontent-%COMP%]{width:20%;font-size:small;color:rgba(244,243,243,.7686274509803922)}.hs[_ngcontent-%COMP%]{margin-top:5px}.desc[_ngcontent-%COMP%]{font-size:small;background:#171717;color:rgba(241,246,245,.6784313725490196);padding:6px 15px 3px 13px;border-top-left-radius:25px;border-top-right-radius:10px}.status[_ngcontent-%COMP%]{font-size:xx-small;margin-bottom:10px}"]}),e})()},z0x6:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var n=i("mrSG"),o=i("8xVP"),s=i("qq2r"),a=i("fXoL"),c=i("G/jy"),r=i("vuFD"),b=i("TEn/"),l=i("6/gD"),d=i("y/q6"),u=i("2Rin"),m=i("sjK5"),g=i("EbHZ"),h=i("ofXK"),p=i("3Pt+");function f(e,t){if(1&e){const e=a.Rb();a.Qb(0,"ion-button",18),a.Yb("click",(function(){return a.nc(e),a.ac().chatService.toggle()})),a.Mb(1,"ion-icon",19),a.Pb()}if(2&e){const e=a.ac();a.fc("color",e.chatService.isVisible?"success":"")}}function v(e,t){if(1&e){const e=a.Rb();a.Qb(0,"ion-item"),a.Qb(1,"ion-label",13),a.tc(2,"Nombre de equipo nuevo"),a.Pb(),a.Qb(3,"ion-input",20),a.Yb("ngModelChange",(function(t){return a.nc(e),a.ac().game.other_team=t})),a.Pb(),a.Pb()}if(2&e){const e=a.ac();a.yb(3),a.fc("ngModel",e.game.other_team)}}function P(e,t){if(1&e){const e=a.Rb();a.Qb(0,"ion-item"),a.Qb(1,"ion-label",13),a.tc(2,"Equipo Local"),a.Pb(),a.Qb(3,"ion-select",21),a.Yb("ngModelChange",(function(t){return a.nc(e),a.ac().teamLocal=t}))("ionChange",(function(t){return a.nc(e),a.ac().selectLocal(t)})),a.Qb(4,"ion-select-option",22),a.tc(5),a.Pb(),a.Qb(6,"ion-select-option",23),a.tc(7),a.Pb(),a.Pb(),a.Qb(8,"div",10),a.tc(9),a.Pb(),a.Pb()}if(2&e){const e=a.ac();a.yb(3),a.fc("ngModel",e.teamLocal)("interfaceOptions",e.customActionSheetOptions),a.yb(2),a.uc(e.teamsSelect.v.name),a.yb(2),a.uc(e.teamsSelect.l.name),a.yb(2),a.uc(e.serviceGame.errorsForm.get("v_team"))}}let y=(()=>{class e{constructor(e,t,i,n,s,a,c,r,b){var l;this.request=e,this.dialogService=t,this.viewCtrl=i,this.photoService=n,this.authUser=a,this.util=c,this.chatService=r,this.transfData=b,this.myTeams=[],this.teams=[],this.teamsSelect={v:"",l:""},this.numbGoals=[],this.customDayShortNames=["s\xf8n"],this.status=["Pendiente","Suspendido","Jugado","Created"],this.customActionSheetOptions={header:"Equipo Local"},this.myDateFilter=e=>6==e.getDay(),this.serviceGame=new o.a("Game",e),this.serviceTeam=new o.a("Team",e),this.id=s.get("id"),this.toDate=null!==(l=s.get("date"))&&void 0!==l?l:c.setFormatMoment(new Date,"YYYY-MM-DD"),console.log("date",this.toDate)}ngOnInit(){this.myTeams=this.authUser.user.teams,this.teamsSelect.v=this.myTeams[0],this.serviceTeam.api_function("getAllTeamsSelect").subscribe(e=>{e.data&&(this.teams=e.data,console.log("teams -> ",this.teams),this.teams.push({id:-1,name:"Equipo nuevo"}),console.log("add Otro"))});for(var e=0;e<=30;e++)this.numbGoals.push(e);this.initObject()}initObject(){this.game={l_team:"",v_team:"",l_goals:0,v_goals:0,time:"15:00",date:this.toDate,location:"",description:"",status:"Pendiente"},this.id&&this.serviceGame.api_find(this.id).subscribe(e=>{"success"==e.status&&(this.game=e.Game)}),this.chatService.show()}submit(){return Object(n.b)(this,void 0,void 0,(function*(){try{this.valid()}catch(e){return void this.dialogService.showToast(e.message,"Error","danger")}yield this.dialogService.loadingProgres(),this.game.team_creator=this.teamsSelect.v.id,this.serviceGame.api_function("createGameAdmin",this.game).subscribe(e=>{"success"==e.status?(this.dialogService.showToast("Partido registrado"),this.dismiss(e.data)):"error"==e.status&&this.dialogService.showToast(e.mensaje,"","danger",5e3),this.dialogService.dimissLoaging()},e=>{console.log(e),this.dialogService.dimissLoaging(),this.dialogService.showToast(e.error.mensaje,"","danger",7e3)},()=>{this.dialogService.dimissLoaging()})}))}dismiss(e){this.chatService.hide(),this.viewCtrl.dismiss({game:e})}close(){this.chatService.hide(),this.viewCtrl.dismiss()}print(){console.log(this.game)}selectLocal(e){let t=e.detail.value;this.game.l_team=this.teamsSelect[t].id,this.game.v_team=this.teamsSelect["v"==t?"l":"v"].id,console.log(this.game)}clearLocal(){this.teamLocal=null,this.game.l_team="",this.game.v_team=""}valid(){if(console.log("valid Game"),!this.teamsSelect.l)throw new Error("No ha seleccionado el equipo contrario");if(this.teamsSelect.v.id==this.teamsSelect.l.id)throw new Error("Los equipos enfrentados deben ser diferentes");if(-1==this.teamsSelect.l.id&&!this.game.other_team)throw new Error("Debes a\xf1adir el nombre del Equipo Nuevo.");if(!this.teamLocal)throw new Error("Debe seleccionar el equipo local");if(!this.game.date)throw new Error("Debe seleccionar la fecha.")}selectTeam(e,t){return Object(n.b)(this,void 0,void 0,(function*(){this.transfData.setData("teams",e);const i=yield this.viewCtrl.create({component:s.a});i.onDidDismiss().then(e=>{const i=e.data.team;i&&(this.teamsSelect[t]=i,this.clearLocal())}),yield i.present()}))}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(c.a),a.Lb(r.a),a.Lb(b.nb),a.Lb(l.a),a.Lb(b.pb),a.Lb(d.a),a.Lb(u.a),a.Lb(m.a),a.Lb(g.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-create-game-admin"]],decls:50,vars:12,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],["slot","secondary"],[3,"color","click",4,"ngIf"],[3,"ngSubmit","keyup"],[3,"click"],["position","stacked"],["type","text","readonly",""],["name","chevron-forward-outline",1,"fle"],[2,"color","red","padding-top","0.2rem"],["type","text","readonly","",3,"click"],[4,"ngIf"],["position","floating"],["type","text","name","location",3,"ngModel","ngModelChange"],["displayFormat","HH:mm ","name","time",3,"ngModel","ngModelChange"],["name","date","displayFormat","YYYY-MM-DD",3,"ngModel","ngModelChange"],["type","submit","expand","block"],[3,"color","click"],["name","help-circle-outline"],["type","text","name","other_team",3,"ngModel","ngModelChange"],["name","v_team","interface","action-sheet",3,"ngModel","interfaceOptions","ngModelChange","ionChange"],["value","v"],["value","l"]],template:function(e,t){1&e&&(a.Qb(0,"ion-header"),a.Qb(1,"ion-toolbar"),a.Qb(2,"ion-title"),a.tc(3,"Nuevo Partido"),a.Pb(),a.Qb(4,"ion-buttons",0),a.Qb(5,"ion-button",1),a.Yb("click",(function(){return t.close()})),a.Mb(6,"ion-icon",2),a.Pb(),a.Pb(),a.Qb(7,"ion-buttons",3),a.sc(8,f,2,1,"ion-button",4),a.Pb(),a.Pb(),a.Pb(),a.Qb(9,"ion-content"),a.Qb(10,"form",5),a.Yb("ngSubmit",(function(){return t.submit()}))("keyup",(function(){return t.serviceGame.errorsForm.clear()})),a.Qb(11,"ion-item",6),a.Yb("click",(function(){return t.selectTeam(t.myTeams,"v")})),a.Qb(12,"ion-label",7),a.tc(13,"Mi Equipo"),a.Pb(),a.Qb(14,"ion-input",8),a.tc(15),a.Pb(),a.Mb(16,"ion-icon",9),a.Qb(17,"div",10),a.tc(18),a.Pb(),a.Pb(),a.Qb(19,"ion-item"),a.Qb(20,"ion-label",7),a.tc(21,"Contrario"),a.Pb(),a.Qb(22,"ion-input",11),a.Yb("click",(function(){return t.selectTeam(t.teams,"l")})),a.tc(23),a.Pb(),a.Mb(24,"ion-icon",9),a.Qb(25,"div",10),a.tc(26),a.Pb(),a.Pb(),a.sc(27,v,4,1,"ion-item",12),a.Qb(28,"div",10),a.tc(29),a.Pb(),a.Mb(30,"br"),a.sc(31,P,10,5,"ion-item",12),a.Mb(32,"br"),a.Qb(33,"ion-item"),a.Qb(34,"ion-label",13),a.tc(35,"Lugar"),a.Pb(),a.Qb(36,"ion-input",14),a.Yb("ngModelChange",(function(e){return t.game.location=e})),a.Pb(),a.Pb(),a.Qb(37,"div",10),a.tc(38),a.Pb(),a.Mb(39,"br"),a.Qb(40,"ion-item"),a.Qb(41,"ion-label"),a.tc(42,"HH:mm"),a.Pb(),a.Qb(43,"ion-datetime",15),a.Yb("ngModelChange",(function(e){return t.game.time=e})),a.Pb(),a.Pb(),a.Qb(44,"ion-item"),a.Qb(45,"ion-label"),a.tc(46,"Fecha"),a.Pb(),a.Qb(47,"ion-datetime",16),a.Yb("ngModelChange",(function(e){return t.game.date=e})),a.Pb(),a.Pb(),a.Qb(48,"ion-button",17),a.tc(49,"Guardar"),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(8),a.fc("ngIf",t.chatService.isInit),a.yb(7),a.uc(t.teamsSelect.v?t.teamsSelect.v.name:""),a.yb(3),a.uc(t.serviceGame.errorsForm.get("l_team")),a.yb(5),a.uc(t.teamsSelect.l?t.teamsSelect.l.name:""),a.yb(3),a.uc(t.serviceGame.errorsForm.get("v_team")),a.yb(1),a.fc("ngIf",t.teamsSelect.l&&"Equipo nuevo"==t.teamsSelect.l.name),a.yb(2),a.uc(t.serviceGame.errorsForm.get("other_team")),a.yb(2),a.fc("ngIf",t.teamsSelect.v&&t.teamsSelect.l),a.yb(5),a.fc("ngModel",t.game.location),a.yb(2),a.uc(t.serviceGame.errorsForm.get("location")),a.yb(5),a.fc("ngModel",t.game.time),a.yb(4),a.fc("ngModel",t.game.date))},directives:[b.x,b.jb,b.hb,b.j,b.i,b.y,h.k,b.r,p.i,p.e,p.f,b.D,b.G,b.C,b.vb,p.d,p.g,b.s,b.ub,b.W,b.X],styles:[".fle[_ngcontent-%COMP%]{position:absolute;right:3px;top:45%}"]}),e})()},zYHx:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fXoL");let o=(()=>{class e{constructor(){this.images={profile_user:"assets/images/profile.jpg",escudo:"assets/images/escudo.png",team:"assets/images/shield_team.png",player:"assets/images/jugador.png"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);