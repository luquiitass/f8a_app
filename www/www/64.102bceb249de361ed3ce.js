(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"0huz":function(t,e,o){"use strict";o.r(e),o.d(e,"ListPageModule",(function(){return h}));var i=o("ofXK"),n=o("3Pt+"),r=o("TEn/"),c=o("tyNb"),s=o("mrSG"),a=o("8xVP"),b=o("9suA"),u=o("fXoL"),l=o("G/jy"),d=o("vuFD"),f=function(t){function e(e,o,i,n,r){var c=t.call(this,r,o)||this;return c.request=e,c.viewCtrl=o,c.dialogService=n,c.modelCategory=new a.a("Category",e),c.id=i.get("id"),c}return Object(s.c)(e,t),e.prototype.initObject=function(){var t=this;console.log("initObject"),this.category={name:""},this.id&&this.modelCategory.api_find(this.id).subscribe((function(e){console.log("load category",e),"success"==e.status&&(t.category=e.Category)}))},e.prototype.submit=function(){var t=this;this.category.id?this.modelCategory.api_update(this.category).subscribe((function(e){var o;"success"==e.status&&(t.dialogService.showToast(null!==(o=e.msjSuccess)&&void 0!==o?o:"Registrado"),t.dismiss(e.Category))})):this.modelCategory.api_create(this.category).subscribe((function(e){var o;"success"==e.status&&(t.dialogService.showToast(null!==(o=e.msjSuccess)&&void 0!==o?o:"Registrado"),t.dismiss(e.Category))}))},e.prototype.dismiss=function(t){this.viewCtrl.dismiss({category:t})},e.prototype.close=function(){this.viewCtrl.dismiss()},e.\u0275fac=function(t){return new(t||e)(u.Lb(l.a),u.Lb(r.nb),u.Lb(r.pb),u.Lb(d.a),u.Lb(i.n))},e.\u0275cmp=u.Fb({type:e,selectors:[["app-category-form"]],features:[u.vb],decls:17,vars:2,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],[3,"ngSubmit","keyup"],["position","floating"],["type","text","name","name",3,"value","input"],[2,"color","red","padding-top","0.2rem"],["expand","block",3,"click"]],template:function(t,e){1&t&&(u.Qb(0,"ion-header"),u.Qb(1,"ion-toolbar"),u.Qb(2,"ion-title"),u.vc(3,"Categor\xeda"),u.Pb(),u.Qb(4,"ion-buttons",0),u.Qb(5,"ion-button",1),u.Yb("click",(function(){return e.close()})),u.Mb(6,"ion-icon",2),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(7,"ion-content"),u.Qb(8,"form",3),u.Yb("ngSubmit",(function(){return e.submit()}))("keyup",(function(){return e.modelCategory.errorsForm.clear()})),u.Qb(9,"ion-item"),u.Qb(10,"ion-label",4),u.vc(11,"Nombre"),u.Pb(),u.Qb(12,"ion-input",5),u.Yb("input",(function(t){return e.category.name=t.target.value})),u.Pb(),u.Pb(),u.Qb(13,"div",6),u.vc(14),u.Pb(),u.Qb(15,"ion-button",7),u.Yb("click",(function(){return e.submit()})),u.vc(16,"Guardar"),u.Pb(),u.Pb(),u.Pb()),2&t&&(u.yb(12),u.gc("value",e.category.name),u.yb(2),u.wc(e.modelCategory.errorsForm.get("name")))},directives:[r.x,r.jb,r.hb,r.j,r.i,r.y,r.r,n.i,n.e,n.f,r.D,r.G,r.C,r.vb],styles:[""]}),e}(b.a);function p(t,e){1&t&&(u.Qb(0,"ion-list-header",8),u.Qb(1,"ion-label"),u.vc(2,"Sin registros"),u.Pb(),u.Pb())}function g(t,e){if(1&t){var o=u.Rb();u.Qb(0,"ion-item"),u.Qb(1,"ion-label"),u.Qb(2,"h3"),u.vc(3),u.Pb(),u.Pb(),u.Qb(4,"ion-buttons",9),u.Qb(5,"ion-button",3),u.Yb("click",(function(){u.oc(o);var t=e.$implicit;return u.ac().showEdit(t)})),u.Mb(6,"ion-icon",10),u.Pb(),u.Qb(7,"ion-button",3),u.Yb("click",(function(){u.oc(o);var t=e.$implicit;return u.ac().confirmDelete(t)})),u.Mb(8,"ion-icon",11),u.Pb(),u.Pb(),u.Pb()}if(2&t){var i=e.$implicit;u.yb(3),u.wc(i.name)}}var m=[{path:"",component:function(){function t(t,e,o){this.request=t,this.modalController=e,this.dialog=o,this.categoryService=new a.a("Category",t)}return t.prototype.ngOnInit=function(){this.categoryService.api_all()},t.prototype.openModal=function(){return Object(s.b)(this,void 0,void 0,(function(){var t,e=this;return Object(s.d)(this,(function(o){switch(o.label){case 0:return[4,this.modalController.create({component:f})];case 1:return(t=o.sent()).onDidDismiss().then((function(t){e.categoryService.listAddLast(t.data.category)})),[4,t.present()];case 2:return[2,o.sent()]}}))}))},t.prototype.showEdit=function(t){return Object(s.b)(this,void 0,void 0,(function(){var e,o=this;return Object(s.d)(this,(function(i){switch(i.label){case 0:return[4,this.modalController.create({component:f,componentProps:{id:t.id}})];case 1:return(e=i.sent()).onDidDismiss().then((function(e){console.log(e),o.categoryService.listUpdate(t.id,t)})),[4,e.present()];case 2:return[2,i.sent()]}}))}))},t.prototype.confirmDelete=function(t){var e=this;this.dialog.presentAlertConfirm("Confirmar","Estas seguro de eliminar este Categor\xeda",(function(o){e.delete(t)}))},t.prototype.delete=function(t){var e=this;this.categoryService.api_delete(t.id).subscribe((function(o){console.log(o),"success"==o.status&&(e.dialog.showToast("Categor\xeda Eliminado",null,"success"),e.categoryService.listDelete(t.id))}))},t.\u0275fac=function(e){return new(e||t)(u.Lb(l.a),u.Lb(r.nb),u.Lb(d.a))},t.\u0275cmp=u.Fb({type:t,selectors:[["app-list"]],decls:15,vars:2,consts:[["slot","start"],["defaultHref","admin_home"],["slot","secondary"],[3,"click"],["name","add-outline"],["slot","fixed",3,"ionRefresh"],["color","tertiary",4,"ngIf"],[4,"ngFor","ngForOf"],["color","tertiary"],["slot","end"],["slot","icon-only","name","create-outline"],["name","trash-outline"]],template:function(t,e){1&t&&(u.Qb(0,"ion-header"),u.Qb(1,"ion-toolbar"),u.Qb(2,"ion-buttons",0),u.Mb(3,"ion-back-button",1),u.Pb(),u.Qb(4,"ion-title"),u.vc(5,"Categoria"),u.Pb(),u.Qb(6,"ion-buttons",2),u.Qb(7,"ion-button",3),u.Yb("click",(function(){return e.openModal()})),u.Mb(8,"ion-icon",4),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(9,"ion-content"),u.Qb(10,"ion-refresher",5),u.Yb("ionRefresh",(function(t){return e.categoryService.api_all(t)})),u.Mb(11,"ion-refresher-content"),u.Pb(),u.Qb(12,"ion-list"),u.uc(13,p,3,0,"ion-list-header",6),u.uc(14,g,9,1,"ion-item",7),u.Pb(),u.Pb()),2&t&&(u.yb(13),u.gc("ngIf",0==e.categoryService.list.length),u.yb(1),u.gc("ngForOf",e.categoryService.list))},directives:[r.x,r.jb,r.j,r.f,r.g,r.hb,r.i,r.y,r.r,r.O,r.P,r.H,i.l,i.k,r.I,r.G,r.D],styles:[""]}),t}()}],y=function(){function t(){}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(e){return new(e||t)},imports:[[c.j.forChild(m)],c.j]}),t}(),h=function(){function t(){}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(e){return new(e||t)},imports:[[i.b,n.a,r.kb,y]]}),t}()}}]);