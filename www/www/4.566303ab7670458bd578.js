(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{PEpV:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var o=n("mrSG"),i=n("8xVP"),a=n("rBWs"),s=n("fXoL"),c=n("G/jy"),r=n("vuFD"),b=n("TEn/"),l=n("6/gD"),g=n("3Pt+"),m=n("ofXK");function u(e,t){if(1&e&&(s.Qb(0,"ion-select-option",19),s.vc(1),s.Pb()),2&e){var n=t.$implicit;s.gc("value",n.id),s.yb(1),s.wc(n.name)}}function d(e,t){if(1&e&&(s.Qb(0,"ion-select-option",19),s.vc(1),s.Pb()),2&e){var n=t.$implicit;s.gc("value",n.id),s.yb(1),s.wc(n.name)}}function v(e,t){if(1&e){var n=s.Rb();s.Qb(0,"div"),s.Qb(1,"ion-item"),s.Qb(2,"ion-label",4),s.vc(3,"Otro Equipo"),s.Pb(),s.Qb(4,"ion-input",20),s.Yb("ngModelChange",(function(e){return s.oc(n),s.ac().game.other_team=e})),s.Pb(),s.Pb(),s.Qb(5,"div",7),s.vc(6),s.Pb(),s.Qb(7,"ion-button",21),s.Yb("click",(function(){return s.oc(n),s.ac().newTeam()})),s.vc(8,"Nuevo equipo"),s.Pb(),s.Pb()}if(2&e){var o=s.ac();s.yb(4),s.gc("ngModel",o.game.other_team),s.yb(2),s.wc(o.serviceGame.errorsForm.get("other_team"))}}function p(e,t){if(1&e&&(s.Qb(0,"ion-select-option",19),s.vc(1),s.Pb()),2&e){var n=t.$implicit;s.gc("value",n),s.yb(1),s.wc(n)}}function f(e,t){if(1&e&&(s.Qb(0,"ion-select-option",19),s.vc(1),s.Pb()),2&e){var n=t.$implicit;s.gc("value",n),s.yb(1),s.wc(n)}}function h(e,t){if(1&e&&(s.Qb(0,"ion-select-option",19),s.vc(1),s.Pb()),2&e){var n=t.$implicit;s.gc("value",n),s.yb(1),s.wc(n)}}var P=function(){function e(e,t,n,o,a,s){var c;this.request=e,this.dialogService=t,this.viewCtrl=n,this.photoService=o,this.modalController=s,this.teams=[],this.numbGoals=[],this.customDayShortNames=["s\xf8n"],this.status=["Pendiente","Suspendido","Jugado","Created"],this.myDateFilter=function(e){return 6==e.getDay()},this.serviceGame=new i.a("Game",e),this.serviceTeam=new i.a("Team",e),this.id=a.get("id"),this.toDate=null!==(c=a.get("date"))&&void 0!==c?c:new Date,console.log("date",this.toDate)}return e.prototype.ngOnInit=function(){var e=this;this.serviceTeam.api_function("getAllTeamsSelect").subscribe((function(t){t.data&&(e.teams=t.data,console.log("teams -> ",e.teams))}));for(var t=0;t<=30;t++)this.numbGoals.push(t);this.initObject()},e.prototype.initObject=function(){var e=this;this.game={l_team:"",v_team:"",l_goals:0,v_goals:0,time:"15:00",date:this.toDate,location:"",description:"",status:"Pendiente"},this.id&&this.serviceGame.api_find(this.id).subscribe((function(t){"success"==t.status&&(e.game=t.Game)}))},e.prototype.submit=function(){var e=this;this.game.id?this.serviceGame.api_update(this.game).subscribe((function(t){var n;"success"==t.status&&(e.dialogService.showToast(null!==(n=t.msjSuccess)&&void 0!==n?n:"Registrado"),console.log(t),e.dismiss(t.Game))})):this.serviceGame.api_create(this.game).subscribe((function(t){var n;"success"==t.status&&(e.dialogService.showToast(null!==(n=t.msjSuccess)&&void 0!==n?n:"Registrado"),e.dismiss(t.Game))}))},e.prototype.dismiss=function(e){this.viewCtrl.dismiss({game:e})},e.prototype.close=function(){this.viewCtrl.dismiss()},e.prototype.print=function(){console.log(this.game)},e.prototype.newTeam=function(){return Object(o.b)(this,void 0,void 0,(function(){var e,t=this;return Object(o.d)(this,(function(n){switch(n.label){case 0:return[4,this.modalController.create({component:a.a})];case 1:return(e=n.sent()).onDidDismiss().then((function(e){e.data.team&&t.teams.push(e.data.team)})),[4,e.present()];case 2:return[2,n.sent()]}}))}))},e.\u0275fac=function(t){return new(t||e)(s.Lb(c.a),s.Lb(r.a),s.Lb(b.nb),s.Lb(l.a),s.Lb(b.pb),s.Lb(b.nb))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-game-form"]],decls:69,vars:22,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],[3,"ngSubmit","keyup"],["position","floating"],["name","l_team",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","padding-top","0.2rem"],["name","v_team",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"goals"],["name","l_goals",3,"ngModel","ngModelChange"],["name","v_goals",3,"ngModel","ngModelChange"],["displayFormat","HH:mm ","name","time",3,"ngModel","ngModelChange"],["type","text","name","location",3,"ngModel","ngModelChange"],["type","text","name","description",3,"ngModel","ngModelChange"],["name","date","displayFormat","YYYY-MM-DD",3,"ngModel","ngModelChange"],["name","status",3,"ngModel","ngModelChange"],["type","submit","expand","block"],[3,"value"],["type","text","name","other_team",3,"ngModel","ngModelChange"],["size","sm",3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"ion-header"),s.Qb(1,"ion-toolbar"),s.Qb(2,"ion-title"),s.vc(3,"Partido"),s.Pb(),s.Qb(4,"ion-buttons",0),s.Qb(5,"ion-button",1),s.Yb("click",(function(){return t.close()})),s.Mb(6,"ion-icon",2),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(7,"ion-content"),s.Qb(8,"form",3),s.Yb("ngSubmit",(function(){return t.submit()}))("keyup",(function(){return t.serviceGame.errorsForm.clear()})),s.Qb(9,"ion-item"),s.Qb(10,"ion-label",4),s.vc(11,"Equipo local"),s.Pb(),s.Qb(12,"ion-select",5),s.Yb("ngModelChange",(function(e){return t.game.l_team=e})),s.uc(13,u,2,2,"ion-select-option",6),s.Pb(),s.Qb(14,"div",7),s.vc(15),s.Pb(),s.Pb(),s.Qb(16,"ion-item"),s.Qb(17,"ion-label",4),s.vc(18,"Equipo Vicitante"),s.Pb(),s.Qb(19,"ion-select",8),s.Yb("ngModelChange",(function(e){return t.game.v_team=e})),s.uc(20,d,2,2,"ion-select-option",6),s.Pb(),s.Qb(21,"div",7),s.vc(22),s.Pb(),s.Pb(),s.uc(23,v,9,2,"div",9),s.Mb(24,"br"),s.Qb(25,"div",10),s.Qb(26,"ion-item"),s.Qb(27,"ion-label",4),s.vc(28,"Goles L"),s.Pb(),s.Qb(29,"ion-select",11),s.Yb("ngModelChange",(function(e){return t.game.l_goals=e})),s.uc(30,p,2,2,"ion-select-option",6),s.Pb(),s.Qb(31,"div",7),s.vc(32),s.Pb(),s.Pb(),s.Qb(33,"ion-item"),s.Qb(34,"ion-label",4),s.vc(35,"Goles V"),s.Pb(),s.Qb(36,"ion-select",12),s.Yb("ngModelChange",(function(e){return t.game.v_goals=e})),s.uc(37,f,2,2,"ion-select-option",6),s.Pb(),s.Qb(38,"div",7),s.vc(39),s.Pb(),s.Pb(),s.Pb(),s.Qb(40,"ion-item"),s.Qb(41,"ion-label"),s.vc(42,"HH:mm"),s.Pb(),s.Qb(43,"ion-datetime",13),s.Yb("ngModelChange",(function(e){return t.game.time=e})),s.Pb(),s.Pb(),s.Qb(44,"ion-item"),s.Qb(45,"ion-label",4),s.vc(46,"Lugar"),s.Pb(),s.Qb(47,"ion-input",14),s.Yb("ngModelChange",(function(e){return t.game.location=e})),s.Pb(),s.Pb(),s.Qb(48,"div",7),s.vc(49),s.Pb(),s.Qb(50,"ion-item"),s.Qb(51,"ion-label",4),s.vc(52,"Comentario"),s.Pb(),s.Qb(53,"ion-input",15),s.Yb("ngModelChange",(function(e){return t.game.description=e})),s.Pb(),s.Pb(),s.Qb(54,"div",7),s.vc(55),s.Pb(),s.Qb(56,"ion-item"),s.Qb(57,"ion-label"),s.vc(58,"Fecha"),s.Pb(),s.Qb(59,"ion-datetime",16),s.Yb("ngModelChange",(function(e){return t.game.date=e})),s.Pb(),s.Pb(),s.Qb(60,"ion-item"),s.Qb(61,"ion-label",4),s.vc(62,"Estado"),s.Pb(),s.Qb(63,"ion-select",17),s.Yb("ngModelChange",(function(e){return t.game.status=e})),s.uc(64,h,2,2,"ion-select-option",6),s.Pb(),s.Qb(65,"div",7),s.vc(66),s.Pb(),s.Pb(),s.Qb(67,"ion-button",18),s.vc(68,"Guardar"),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.yb(12),s.gc("ngModel",t.game.l_team),s.yb(1),s.gc("ngForOf",t.teams),s.yb(2),s.wc(t.serviceGame.errorsForm.get("l_team")),s.yb(4),s.gc("ngModel",t.game.v_team),s.yb(1),s.gc("ngForOf",t.teams),s.yb(2),s.wc(t.serviceGame.errorsForm.get("v_team")),s.yb(1),s.gc("ngIf",t.game.other_team),s.yb(6),s.gc("ngModel",t.game.l_goals),s.yb(1),s.gc("ngForOf",t.numbGoals),s.yb(2),s.wc(t.serviceGame.errorsForm.get("l_goals")),s.yb(4),s.gc("ngModel",t.game.v_goals),s.yb(1),s.gc("ngForOf",t.numbGoals),s.yb(2),s.wc(t.serviceGame.errorsForm.get("v_goals")),s.yb(4),s.gc("ngModel",t.game.time),s.yb(4),s.gc("ngModel",t.game.location),s.yb(2),s.wc(t.serviceGame.errorsForm.get("location")),s.yb(4),s.gc("ngModel",t.game.description),s.yb(2),s.wc(t.serviceGame.errorsForm.get("description")),s.yb(4),s.gc("ngModel",t.game.date),s.yb(4),s.gc("ngModel",t.game.status),s.yb(1),s.gc("ngForOf",t.status),s.yb(2),s.wc(t.serviceGame.errorsForm.get("status")))},directives:[b.x,b.jb,b.hb,b.j,b.i,b.y,b.r,g.i,g.e,g.f,b.D,b.G,b.W,b.ub,g.d,g.g,m.k,m.l,b.s,b.C,b.vb,b.X],styles:[""]}),e}()},j1ZV:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n("ofXK"),i=n("TEn/"),a=n("tyNb"),s=n("6g0+"),c=n("3Pt+"),r=n("fXoL"),b=function(){function e(){}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},imports:[[o.b,i.kb.forRoot(),c.a,a.j,s.b]]}),e}()},xj5e:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var o=n("mrSG"),i=n("fXoL"),a=n("PEpV"),s=n("8xVP"),c=n("tyNb"),r=n("y/q6"),b=n("vuFD"),l=n("TEn/"),g=n("2Rin"),m=n("rLe3"),u=n("G/jy"),d=n("ofXK");function v(e,t){if(1&e&&(i.Qb(0,"ion-text",13),i.vc(1),i.Pb()),2&e){var n=i.ac(2);i.yb(1),i.wc("Pendiente"==n.game.status?"Pr\xf3ximo partido":"Ultimo partido")}}function p(e,t){if(1&e&&(i.Qb(0,"ion-text",14),i.vc(1),i.Pb()),2&e){var n=i.ac(2);i.yb(1),i.wc(n.game.l_goals)}}function f(e,t){if(1&e&&(i.Qb(0,"ion-text",14),i.vc(1),i.Pb()),2&e){var n=i.ac(2);i.yb(1),i.wc(n.game.v_goals)}}function h(e,t){if(1&e&&(i.Qb(0,"div",15),i.Qb(1,"b"),i.vc(2,"Motivo: "),i.Pb(),i.vc(3),i.Pb()),2&e){var n=i.ac(2);i.yb(3),i.xc(" ",n.game.description," ")}}function P(e,t){if(1&e){var n=i.Rb();i.Qb(0,"div",16),i.Qb(1,"ion-buttons",14),i.Qb(2,"ion-button",17),i.Yb("click",(function(){i.oc(n);var e=i.ac(2);return e.showEdit(e.game)})),i.Mb(3,"ion-icon",18),i.Pb(),i.Qb(4,"ion-button",17),i.Yb("click",(function(){i.oc(n);var e=i.ac(2);return e.confirmDelete(e.game)})),i.Mb(5,"ion-icon",19),i.Pb(),i.Pb(),i.Pb()}}function y(e,t){if(1&e&&(i.Qb(0,"div",1),i.uc(1,v,2,1,"ion-text",2),i.Qb(2,"div",3),i.Qb(3,"div",4),i.Qb(4,"div"),i.Qb(5,"ion-item"),i.Qb(6,"ion-avatar",5),i.Mb(7,"ion-img",6),i.Pb(),i.Qb(8,"ion-label"),i.vc(9),i.Pb(),i.uc(10,p,2,1,"ion-text",7),i.Pb(),i.Pb(),i.Qb(11,"div"),i.Qb(12,"ion-item"),i.Qb(13,"ion-avatar",5),i.Mb(14,"ion-img",6),i.Pb(),i.Qb(15,"ion-label"),i.vc(16),i.Pb(),i.uc(17,f,2,1,"ion-text",7),i.Pb(),i.Pb(),i.Pb(),i.Qb(18,"div",8),i.Qb(19,"ion-badge",9),i.vc(20),i.Pb(),i.Qb(21,"div"),i.vc(22),i.Pb(),i.Qb(23,"div",10),i.vc(24),i.Pb(),i.Pb(),i.Mb(25,"ion-ripple-effect"),i.Pb(),i.uc(26,h,4,1,"div",11),i.uc(27,P,6,0,"div",12),i.Pb()),2&e){var n=i.ac();i.yb(1),i.gc("ngIf",n.withTitle),i.yb(1),i.gc("routerLink",n.routerGoTo(n.game)),i.yb(5),i.gc("src",n.game.team_l.shield?n.game.team_l.shield.urlCompleteThumb:"assets/images/esc.png"),i.yb(2),i.wc(n.game.team_l.name),i.yb(1),i.gc("ngIf","Pendiente"!=n.game.status),i.yb(4),i.gc("src",n.game.team_v.shield?n.game.team_v.shield.urlCompleteThumb:"assets/images/esc.png"),i.yb(2),i.wc(n.game.team_v.name),i.yb(1),i.gc("ngIf","Pendiente"!=n.game.status),i.yb(2),i.gc("color",n.colorStatus),i.yb(1),i.wc(n.game.status),i.yb(2),i.wc(n.util.setFormatMoment(n.game.date,"DD/M/YYYY")),i.yb(2),i.wc(n.util.formatHours(n.game.time)),i.yb(2),i.gc("ngIf","Suspendido"==n.game.status&&""!=n.game.description),i.yb(1),i.gc("ngIf",n.userAuth.isAdmin())}}var Q=function(){function e(e,t,n,o,a,s,c,r){this.router=e,this.userAuth=t,this.dialogService=n,this.modalController=o,this.dialog=a,this.util=s,this.utilArray=c,this.request=r,this.withTitle=!0,this.onDeleteGame=new i.n,this.onUpdateGame=new i.n}return e.prototype.ngOnInit=function(){console.log("withTitle",this.withTitle),this.modelGame=new s.a("Game",this.request)},Object.defineProperty(e.prototype,"colorStatus",{get:function(){if(this.game)switch(this.game.status){case"Pendiente":return"secondary";case"Jugado":return"success";case"Suspendido":return"danger"}return"default"},enumerable:!1,configurable:!0}),e.prototype.routerGoTo=function(e){return"Pendiente"==e.status?"/games/profile/"+e.id:"/results/profile/"+e.id},e.prototype.showEdit=function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n=this;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,this.modalController.create({component:a.a,componentProps:{id:e.id}})];case 1:return(t=o.sent()).onDidDismiss().then((function(e){var t=e.data.game;t&&(n.game=t)})),[4,t.present()];case 2:return[2,o.sent()]}}))}))},e.prototype.confirmDelete=function(e){var t=this;this.dialog.presentAlertConfirm("Confirmar","Estas seguro de eliminar este partido",(function(n){t.delete(e)}))},e.prototype.delete=function(e){var t=this;this.modelGame.api_delete(e.id).subscribe((function(n){console.log(n),"success"==n.status&&(t.dialog.showToast("Partido Eliminado",null,"success"),t.onDeleteGame&&t.onDeleteGame.emit(e))}))},e.\u0275fac=function(t){return new(t||e)(i.Lb(c.g),i.Lb(r.a),i.Lb(b.a),i.Lb(l.nb),i.Lb(b.a),i.Lb(g.a),i.Lb(m.a),i.Lb(u.a))},e.\u0275cmp=i.Fb({type:e,selectors:[["app-old-next-game"]],inputs:{game:"game",withTitle:"withTitle"},outputs:{onDeleteGame:"onDeleteGame",onUpdateGame:"onUpdateGame"},decls:1,vars:1,consts:[["class","content ",4,"ngIf"],[1,"content"],["class","desc",4,"ngIf"],[1,"content-temas","bg-l2","ion-activatable","ripple-parent",3,"routerLink"],[1,"teams"],["slot","start",1,"esc"],[1,"esc",3,"src"],["slot","end",4,"ngIf"],[1,"center","ion-text-center","date"],[1,"status",3,"color"],[1,"hs"],["class","det",4,"ngIf"],["class","ion-text-right",4,"ngIf"],[1,"desc"],["slot","end"],[1,"det"],[1,"ion-text-right"],[3,"click"],["slot","icon-only","name","create-outline"],["name","trash-outline"]],template:function(e,t){1&e&&i.uc(0,y,28,14,"div",0),2&e&&i.gc("ngIf",t.game)},directives:[d.l,l.tb,c.h,l.D,l.e,l.z,l.G,l.h,l.Q,l.eb,l.j,l.i,l.y],styles:[".content[_ngcontent-%COMP%]{padding:10px}.content-temas[_ngcontent-%COMP%]{display:flex;border-bottom-right-radius:20px;border-top-right-radius:20px}.teams[_ngcontent-%COMP%]{width:80%}.esc[_ngcontent-%COMP%]{width:20px;height:20px}.date[_ngcontent-%COMP%]{width:20%;font-size:small;color:rgba(244,243,243,.7686274509803922)}.hs[_ngcontent-%COMP%]{margin-top:5px}.desc[_ngcontent-%COMP%]{font-size:small;background:#171717;color:rgba(241,246,245,.6784313725490196);padding:6px 15px 3px 13px;border-top-left-radius:25px;border-top-right-radius:10px}.status[_ngcontent-%COMP%]{font-size:xx-small;margin-bottom:10px}.det[_ngcontent-%COMP%]{font-size:small;background:rgba(199,104,104,.4196078431372549);padding:5px;border-bottom-left-radius:10px;border-bottom-right-radius:10px}"]}),e}()}}]);