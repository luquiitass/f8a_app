{"version":3,"sources":["./src/app/pages/payment-team/payment-team.page.html","./src/app/pages/payment-team/payment-team.page.scss","./src/app/pages/payment-team/payment-team.page.ts"],"names":[],"mappings":"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","file":"default~pages-payment-team-payment-team-module~teams-teams-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-button color=\\\"dark\\\" (click)=\\\"close()\\\">\\n            <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n        </ion-button>\\n    </ion-buttons>\\n    <ion-title>Registrar mi equipo</ion-title>\\n    <ion-buttons slot=\\\"secondary\\\">\\n      <ion-button *ngIf=\\\"chatService.isInit\\\" (click)=\\\"chatService.toggle()\\\" [color]=\\\"chatService.isVisible ? 'success' : ''\\\">\\n        <ion-icon name=\\\"help-circle-outline\\\"></ion-icon>\\n      </ion-button>  \\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-segment (ionChange)=\\\"segmentChanged($event)\\\" [(ngModel)]=\\\"segmentSelect\\\" >\\n    \\n    <ion-segment-button value=\\\"1\\\" [disabled]=\\\"!tabsEnables.name\\\">\\n      <ion-label>1</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"2\\\" [disabled]=\\\"!tabsEnables.admins\\\">\\n      <ion-label>2</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"3\\\" [disabled]=\\\"!tabsEnables.payment\\\">\\n      <ion-label>3</ion-label>\\n    </ion-segment-button>\\n\\n  </ion-segment>\\n\\n  \\n\\n\\n    <div *ngIf=\\\"segmentSelect == '1'\\\">\\n\\n      <ion-card>\\n        <ion-card-content>\\n          <div class=\\\"title msj\\\">\\n            Verifíca el nombre del equipo\\n          </div>\\n\\n          <ion-list>\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\" >Nombre</ion-label>\\n              <ion-input type=\\\"text\\\" [(ngModel)]=\\\"team.name\\\" name=\\\"name\\\"></ion-input>\\n            </ion-item>\\n\\n            <ion-text color=\\\"danger\\\">{{errorName}}</ion-text>\\n\\n          </ion-list>\\n\\n          <ion-grid>\\n            <ion-row>\\n              <ion-col>\\n              </ion-col>\\n              <ion-col>\\n                <ion-button expand=\\\"full\\\" (click)=\\\"changedSegment('2')\\\">\\n                  Siguiente\\n                  <ion-icon name=\\\"chevron-forward-outline\\\"></ion-icon>\\n                </ion-button>\\n              </ion-col>\\n            </ion-row>\\n          </ion-grid>\\n\\n        </ion-card-content>\\n      </ion-card>\\n\\n\\n     \\n\\n    </div>\\n\\n\\n    <div *ngIf=\\\"segmentSelect == '2'\\\">\\n\\n      \\n\\n      <ion-card>\\n        <ion-card-content>\\n          <div class=\\\"title msj\\\">\\n            Seleccionar administradores \\n          </div>\\n\\n          <ion-list>\\n            <div class=\\\"admins\\\" >\\n              <ion-list-header  class=\\\"bg-l1\\\" >\\n                <ion-label>Añadir administradores</ion-label>\\n                <button item-end ion-button color=\\\"danger\\\" (click)=\\\"addAdmins($event)\\\">\\n                  <ion-icon name=\\\"person-add-outline\\\"></ion-icon>\\n                </button>\\n              </ion-list-header>\\n\\n              <ion-text color=\\\"danger\\\">{{errorAdmins}}</ion-text>\\n        \\n              <ion-list  *ngFor=\\\"let item of team.admins\\\"  >\\n                <ion-item>  {{item.text ? item.text : item.last_name +' '+ item.first_name}}</ion-item>\\n              </ion-list>\\n            </div>\\n\\n          </ion-list>\\n\\n          <ion-grid>\\n            <ion-row>\\n              <ion-col>\\n                <ion-button expand=\\\"full\\\" (click)=\\\"changedSegment('1',true)\\\" >\\n                  <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n                  Atras\\n                </ion-button>\\n              </ion-col>\\n              <ion-col>\\n                <ion-button expand=\\\"full\\\" (click)=\\\"changedSegment('3')\\\">\\n                  Siguiente\\n                  <ion-icon name=\\\"chevron-forward-outline\\\"></ion-icon>\\n                </ion-button>\\n              </ion-col>\\n            </ion-row>\\n          </ion-grid>\\n\\n\\n        </ion-card-content>\\n      </ion-card>\\n\\n    </div>\\n\\n    <div *ngIf=\\\"segmentSelect == '3'\\\">\\n\\n      <ion-card>\\n        <ion-card-content>\\n          <div class=\\\"title msj\\\">\\n            Informacion sobre el registro\\n          </div>\\n\\n          <div class=\\\"cho-container msj-xs text\\\">\\n            Una vez registrado el equipo los administradores recibirán una notificación y podrán modificar los demás datos. \\n          </div>\\n\\n          <div class=\\\"cho-container msj-xs text\\\">\\n            Te recordamos que para que los administradores puedan realizar modificaciones, primero deben abonar la suscripción del equipo. \\n          </div>\\n\\n\\n          <ion-grid>\\n            <ion-row>\\n              <ion-col>\\n                <ion-button expand=\\\"full\\\" (click)=\\\"changedSegment('2',true)\\\">\\n                  <ion-icon name=\\\"chevron-back-outline\\\"></ion-icon>\\n                  Atras\\n                </ion-button>\\n              </ion-col>\\n              <ion-col>\\n                <ion-button expand=\\\"full\\\" (click)=\\\"saveTeam()\\\">\\n                  Finalizar\\n                  <ion-icon name=\\\"checkmark-done-outline\\\"></ion-icon>\\n                </ion-button>\\n              </ion-col>\\n            </ion-row>\\n          </ion-grid>\\n\\n        </ion-card-content>\\n      </ion-card>\\n\\n\\n      \\n\\n    </div>\\n\\n\\n\\n\\n</ion-content>\\n\";","export default \".title {\\n  color: white;\\n  margin: 10px;\\n  background: #56565669;\\n  padding: 10px;\\n  border-top-left-radius: 10px;\\n  border-top-right-radius: 10px;\\n  border-bottom: 1px solid #797575;\\n}\\n\\n.text {\\n  padding: 13px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGF5bWVudC10ZWFtL3BheW1lbnQtdGVhbS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxZQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0VBQ0EsYUFBQTtFQUNBLDRCQUFBO0VBQ0EsNkJBQUE7RUFDQSxnQ0FBQTtBQUFKOztBQUdBO0VBQ0ksYUFBQTtBQUFKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcGF5bWVudC10ZWFtL3BheW1lbnQtdGVhbS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGl0bGV7XG4gICAgLy9mb250LXNpemU6IHgtbGFyZ2U7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIG1hcmdpbjogMTBweDtcbiAgICBiYWNrZ3JvdW5kOiAjNTY1NjU2Njk7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAxMHB4O1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAxMHB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNzk3NTc1O1xufVxuXG4udGV4dHtcbiAgICBwYWRkaW5nOiAxM3B4Oztcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { Model } from 'src/app/api/models/model';\nimport { RequestService } from 'src/app/api/request.service';\nimport { ModalController } from '@ionic/angular';\nimport { SearchPage } from '../search/search.page';\nimport { ModalForm } from 'src/app/models/modal-form';\nimport { ModalFormInterface } from 'src/app/interfaces/modal-form-interface';\nimport { DialogService } from 'src/app/api/util/dialog.service';\nimport { AuthUserService } from 'src/app/services/auth-user.service';\nimport {environment} from 'src/environments/environment';\nimport { Router } from '@angular/router';\nimport { PlatformLocation } from '@angular/common';\nimport { ChatService } from 'src/app/services/chat.service';\n\n\n\n\n@Component({\n  selector: 'app-payment-team',\n  templateUrl: './payment-team.page.html',\n  styleUrls: ['./payment-team.page.scss'],\n})\nexport class PaymentTeamPage extends ModalForm implements OnInit , ModalFormInterface {\n  \n  \n  public modelTeam : Model;\n  public modelMercadoPago : Model;\n  \n  public team = {\n    id : '',\n    name : '',\n    admins : []\n  }\n\n  public tabsEnables = {\n    info : true,\n    name : true,\n    admins : false,\n    payment : false\n  }\n\n  public segmentSelect = '1';\n  public errorName = '';\n  public errorAdmins = '';\n  public mp : any;\n\n  constructor(\n    public reqest : RequestService,\n    public viewCtrl: ModalController,\n    public modalController: ModalController,\n    public dialogService : DialogService,\n    public authUser : AuthUserService,\n    public router : Router,\n    location: PlatformLocation,\n    public chatService : ChatService\n\n\n  ) {\n    super(location,viewCtrl);\n    this.modelMercadoPago = new Model('MercadoPagoService',reqest);\n    this.modelTeam = new Model('Team',reqest);\n    this.team.admins.push({\n      text : `${authUser.user.completeName} (${authUser.user.email})`,\n      id : authUser.user.id\n    });\n\n    \n\n  \n\n    //Mercadopago.setPublishableKey(environment.mp_public_key); \n   \n   }\n\n\n  initObject() {\n  }\n\n\n  segmentChanged($event){\n    //this.segmentSelect = $event.detail.value;\n    //this.changedSegment($event.detail.value , this.segmentSelect < $event.detail.value)\n  }\n\n\n  changedSegment( segment , isBack = false){\n    console.log(segment);\n\n    if(isBack){\n      this.segmentSelect = segment;\n      return;\n    }\n\n    switch (segment) {\n      case '2':\n        this.verifyNameSelect()\n        return;\n      \n      case '3':\n          this.verifyAdmins();\n          return;\n\n      default :\n        this.segmentSelect = segment \n    }\n    \n  }\n\n  preferenceApi(){\n    console.log('preference api')\n      this.modelMercadoPago.api_function('createPreference',{}).subscribe(\n        response => {\n          console.log(response);\n          if(response['status'] == 'success'){\n            var preference_id = response['data'];\n            console.log('pref' , preference_id)\n\n            this.mp.checkout({\n              preference: {\n                  id: preference_id\n              },\n              render: {\n                    container: '.cho-container', // Indica el nombre de la clase donde se mostrará el botón de pago\n                    label: 'Pagar', // Cambia el texto del botón de pago (opcional)\n              }\n            })\n          }\n\n\n        },\n        error => {\n          console.error(error)\n        }  \n      )\n  }\n\n\n  async verifyNameSelect(){\n\n    if(this.team.name == ''){\n      this.errorName = 'El campo nombre es Obligario.';\n      this.tabsEnables.admins = false;\n      return;\n    }\n\n\n    await this.dialogService.loadingProgres('verificando nombre');\n    console.log('team' , this.team);\n    this.modelTeam.api_function('exist',this.team).subscribe(\n      response => {\n        this.dialogService.dimissLoaging();\n        if(response['data']){\n          this.errorName = `El equipo ${this.team.name} ya se encuentra Registrado.`;\n          this.tabsEnables.admins = false;\n          return;\n        }\n\n        this.errorName = '';\n        this.segmentSelect = '2';\n        this.tabsEnables.admins = true;\n        console.log(response)  \n      },\n      error => {\n        console.log(error)\n        this.dialogService.dimissLoaging();\n      }\n    )\n  }\n\n  verifyAdmins(){\n    this.errorAdmins = '';\n    if(this.team.admins.length > 0){\n      this.segmentSelect = '3';\n      this.tabsEnables.payment = true\n      //this.preferenceApi();\n    }else{\n      this.errorAdmins = 'Debe añadir como minimo un Administrador';\n      this.tabsEnables.payment = false;\n\n    }\n  }\n\n\n\n  dismiss( team ) {\n    this.viewCtrl.dismiss(\n      {\n        team : team,\n      }\n    );\n  }\n\n  close(){\n    this.viewCtrl.dismiss();\n  }\n\n  async addAdmins(e){\n    this.errorAdmins = '';\n    e.preventDefault();\n    console.log('Add admins');\n\n\n    \n    let adminsDefault = this.team.admins;\n\n    const modal = await this.modalController.create({\n      component: SearchPage ,\n      componentProps: { \n        cancellable: false,\n        model : 'User',\n        function : 'searchUser',\n        multiple : true,\n        textSearch : 'Nombre o email',\n        listSelect : adminsDefault\n      }\n    });\n\n    modal.onDidDismiss().then(data=>{\n      if(data.data && data.data.items){\n        const list = data.data['items'];\n      //console.log('users_select' , list);\n        this.team.admins = list;\n      }\n    })\n\n    return await modal.present();\n  }\n\n  async saveTeam(){\n\n    await this.dialogService.loadingProgres('Registrando');\n\n    this.modelTeam.api_create(this.team).subscribe(\n      response => {\n        this.dialogService.dimissLoaging();\n        if(response['status'] == 'success'){\n          this.dialogService.showToast('Equipo registrado',null,'success');\n          let team = response['Team'];\n          this.authUser.user.teams.push(team);\n          this.authUser.saveUser();\n          this.dismiss(team);\n          //this.router.navigateByUrl('/team/profile/'  + team.id);\n        }\n      }\n    ),\n    error => {\n      console.error(error);\n      this.dialogService.dimissLoaging();\n    }\n\n  }\n\n}\n"],"sourceRoot":"webpack:///"}