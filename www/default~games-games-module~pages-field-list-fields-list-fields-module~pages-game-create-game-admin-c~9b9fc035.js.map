{"version":3,"sources":["./src/app/pages/field/field-form/field-form.page.html","./src/app/pages/field/list-fields/list-fields.page.html","./src/app/pages/field/field-form/field-form.page.scss","./src/app/pages/field/field-form/field-form.page.ts","./src/app/pages/field/list-fields/list-fields.page.scss","./src/app/pages/field/list-fields/list-fields.page.ts"],"names":[],"mappings":"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","file":"default~games-games-module~pages-field-list-fields-list-fields-module~pages-game-create-game-admin-c~9b9fc035.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Cancha</ion-title>\\n\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"dark\\\" (click)=\\\"close()\\\">\\n          <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n  </ion-buttons>\\n  \\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <form (ngSubmit)=\\\"submit()\\\"    (keyup)=\\\"modelField.errorsForm.clear()\\\" >\\n\\n    <div class=\\\"info\\\">\\n      Ingrese un nombre para identificar la cancha <span class=\\\"sug\\\"> (Recomendamos el NOMBRE DEL EQUIPO que utiliza la cancha o el NOMBRE DEL LUGAR donde se encuentra ubicado)</span>, después seleccione la ubicación en el mapa.\\n    </div>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" >Nombre</ion-label>\\n      <ion-input type=\\\"text\\\" [value]=\\\"field.name\\\" name=\\\"name\\\" (input)=\\\"inputVal($event.target.value ) \\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ modelField.errorsForm.get('name') }}</div>\\n\\n    <br>\\n    \\n    <div id=\\\"mapId2\\\" style=\\\"min-width: 100%; min-height: 400px !important;\\\">\\n    </div>\\n    <div class=\\\"desc\\\" >\\n      Mantén presionado la ubicación en el mapa para añadir la ubicación.\\n    </div>\\n\\n    <ion-button (click)=\\\"submit()\\\" expand=\\\"block\\\">Guardar</ion-button>\\n\\n  </form>\\n\\n</ion-content>\\n\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Canchas</ion-title>\\n\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/home/teams\\\" (click)=\\\"close()\\\"></ion-back-button>\\n    </ion-buttons>\\n\\n    <ion-buttons slot=\\\"secondary\\\" >\\n      \\n      <ion-button  (click)=\\\"canEdit = !canEdit\\\" *ngIf=\\\"segment_select == 'list'\\\">\\n        <ion-icon name=\\\"create-outline\\\"></ion-icon>\\n      </ion-button>\\n     \\n      <ion-button  (click)=\\\"add()\\\">\\n        <ion-icon name=\\\"add-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n\\n  <ion-segment (ionChange)=\\\"segmentChanged($event)\\\" [value]=\\\"segment_select\\\"  *ngIf=\\\"!isSelect\\\">\\n    <ion-segment-button value=\\\"list\\\">\\n      <ion-label>Lista</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"map\\\">\\n      <ion-label>Mapa</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n\\n  <ion-searchbar \\n    placeholder=\\\"Filtrar Canchas\\\"   \\n    (keyup)=\\\"filterField($event)\\\" \\n    debounce=\\\"500\\\"\\n    (ionClear)=\\\"cancelFilter($event)\\\"\\n  ></ion-searchbar>\\n\\n  <ion-item *ngIf=\\\"fields.length == 0\\\">\\n    <label>No se han encontrado registros</label>\\n  </ion-item>\\n\\n  <div [style.display]=\\\" segment_select =='list' ?  'block' : 'none'\\\" >\\n\\n    <ion-list>\\n      <ion-item *ngFor=\\\"let field of fields\\\" (click)=\\\"dismiss(field)\\\">\\n        <label (click)=\\\"show(field,$event)\\\">{{field.name}}</label>\\n  \\n        <ion-buttons slot=\\\"end\\\" *ngIf=\\\"canEdit\\\">\\n          <ion-button (click)=\\\"showEdit(field,$event)\\\" *ngIf=\\\"!field.team_id\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"create-outline\\\"></ion-icon>\\n          </ion-button>\\n          <ion-button (click)=\\\"confirmDelete(field,$event)\\\" *ngIf=\\\"authUser.isAdmin()\\\">\\n            <ion-icon name=\\\"trash-outline\\\"></ion-icon>\\n          </ion-button>\\n        </ion-buttons>\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n\\n  <div [style.display]=\\\" segment_select =='map' && !isSelect ?  'block' : 'none'\\\" >\\n  <div id=\\\"mapId3\\\" style=\\\"min-width: 100%; min-height: 400px !important;\\\" >\\n    </div>\\n  </div>\\n\\n \\n</ion-content>\\n\";","export default \"#mapId {\\n  min-width: 100% !important;\\n  min-height: 300px !important;\\n}\\n\\n#mapId2 {\\n  min-width: 100% !important;\\n  min-height: 300px !important;\\n}\\n\\n.desc {\\n  margin: 10px;\\n}\\n\\n.info {\\n  color: #babdbf;\\n  margin: 15px;\\n}\\n\\n.sug {\\n  color: #727475;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZmllbGQvZmllbGQtZm9ybS9maWVsZC1mb3JtLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDBCQUFBO0VBQ0EsNEJBQUE7QUFDSjs7QUFFQTtFQUNJLDBCQUFBO0VBQ0EsNEJBQUE7QUFDSjs7QUFFQTtFQUNJLFlBQUE7QUFDSjs7QUFFQTtFQUNJLGNBQUE7RUFDQSxZQUFBO0FBQ0o7O0FBRUE7RUFDSSxjQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9maWVsZC9maWVsZC1mb3JtL2ZpZWxkLWZvcm0ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI21hcElke1xuICAgIG1pbi13aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICAgIG1pbi1oZWlnaHQ6IDMwMHB4ICFpbXBvcnRhbnQ7XG59XG5cbiNtYXBJZDJ7XG4gICAgbWluLXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gICAgbWluLWhlaWdodDogMzAwcHggIWltcG9ydGFudDtcbn1cblxuLmRlc2N7XG4gICAgbWFyZ2luOiAxMHB4O1xufVxuXG4uaW5mb3tcbiAgICBjb2xvcjogI2JhYmRiZjtcbiAgICBtYXJnaW46IDE1cHg7XG59XG5cbi5zdWd7XG4gICAgY29sb3I6ICM3Mjc0NzU7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { RequestService } from 'src/app/api/request.service';\nimport { DialogService } from 'src/app/api/util/dialog.service';\nimport { ModalController, NavParams } from '@ionic/angular';\nimport { PhotoService } from 'src/app/services/photo.service';\nimport { Model } from 'src/app/api/models/model';\nimport { ModalForm } from 'src/app/models/modal-form';\nimport { ModalFormInterface } from 'src/app/interfaces/modal-form-interface';\nimport { PlatformLocation } from '@angular/common';\n\nimport * as Leaflet from 'leaflet';\n\n\n@Component({\n  selector: 'app-field-form',\n  templateUrl: './field-form.page.html',\n  styleUrls: ['./field-form.page.scss'],\n})\nexport class FieldFormPage extends ModalForm implements OnInit , ModalFormInterface {\n\n  public modelField : Model;\n  public id: any;\n  public field ;\n\n  map: Leaflet.Map;\n  newMarker = null;\n\n  position : any;\n\n\n  constructor(\n    public request : RequestService,\n    public dialogService : DialogService,\n    public viewCtrl: ModalController,\n    public photoService : PhotoService,\n    navParams: NavParams,\n    location: PlatformLocation,\n\n\n  ) {\n    super(location,viewCtrl)\n\n    this.modelField = new Model('Field',request);\n\n    this.id = navParams.get('id') ;\n\n    \n\n    \n   }\n\n\n   initObject(){\n    \n    console.log('initObject');\n\n    this.field = { \n      name : '',\n      lat : -27.603857971720405,\n      lng : -55.323644024643414\n    };  \n\n    if(navigator.geolocation){\n      navigator.geolocation.getCurrentPosition((position) => {\n           this.field.lat= position.coords.latitude;\n          this.field.lng = position.coords.longitude;\n        console.log('current pos',position)\n      },error =>{\n        console.error(error)\n      })\n    }\n\n    if(this.id){\n      this.modelField.api_find(this.id).subscribe(data => {\n        console.log('load field', data)\n        if(data['status'] == 'success'){\n          this.field = data['Field'];\n          this.leafletMap();\n          this.addNewMarker();\n        }\n      })\n    }else{\n      this.leafletMap();\n    }\n\n\n  }\n\n  submit(){\n    if(this.field.id){\n      this.modelField.api_update(this.field).subscribe(data => {\n        if(data['status'] == 'success'){\n          this.dialogService.showToast( data['msjSuccess'] ?? 'Registrado' );\n          this.dismiss(data['Field'])\n        }\n      });\n\n    }else{\n      this.modelField.api_create(this.field).subscribe(data => {\n        if(data['status'] == 'success'){\n          this.dialogService.showToast( data['msjSuccess'] ?? 'Registrado' );\n          this.dismiss(data['Field'])\n        }\n    })\n    }\n  }\n\n  dismiss(field) {\n    this.viewCtrl.dismiss(\n      {\n        field : field,\n      }\n    );\n  }\n\n  close(){\n    this.viewCtrl.dismiss();\n  }\n\n  leafletMap() {\n\n    this.reset();\n\n    this.map = Leaflet.map('mapId2');\n\n    const self = this;\n    \n    this.map.on(\"load\",() => { \n      console.log('load map')\n\n      setTimeout(() => {\n        console.log('refresh')\n      this.regresh();\n    }, 1000); });\n    \n    \n    this.map.setView([this.field.lat,this.field.lng], 11);\n\n    //old\n    Leaflet.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'futbol-alem.com',\n      id: 'mapbox/streets-v11'\n    }).addTo(this.map);\n\n\n   \n\n    this.map.on('contextmenu',e => {\n      console.log('rightClick' , e)\n\n      this.field.lat = e.latlng.lat;\n      this.field.lng = e.latlng.lng;\n\n      this.addNewMarker();\n\n    });\n\n\n   \n/*\n    Leaflet.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'futbol-alem.com',\n    }).addTo(this.map);\n*/\n    //Leaflet.marker([28.6, 77]).addTo(this.map).bindPopup('Delhi').openPopup();\n    //Leaflet.marker([34, 77]).addTo(this.map).bindPopup('Leh').openPopup();\n\n    \n\n    this.loadFields();\n  }\n\n  addNewMarker(){\n\n    if(this.newMarker)\n        this.map.removeLayer(this.newMarker);\n      \n    const myCustomColour = '#35da7f'\n\n    const markerHtmlStyles = `\n      background-color: ${myCustomColour};\n      width: 2rem;\n      height: 2rem;\n      display: block;\n      left: -1.5rem;\n      top: -1.5rem;\n      position: relative;\n      border-radius: 3rem 3rem 0;\n      transform: rotate(45deg);\n      border: 1px solid #FFFFFF`\n\n    const icon = Leaflet.divIcon({\n      className: \"my-custom-pin\",\n      iconAnchor: [0, 24],\n      labelAnchor: [-6, 0],\n      popupAnchor: [0, -36],\n      html: `<span style=\"${markerHtmlStyles}\" />`\n    })\n\n\n    this.newMarker = Leaflet.marker([this.field.lat , this.field.lng],{\n      draggable : true,\n      alt : 'Nueva Cancha',\n      shadowPane : 'Pane',\n      icon : icon,\n      title : 'Arrastra bara canbiar la ubicación.'\n      })\n    .addTo(this.map);\n\n    this.newMarker.on('dragend', (event) => {\n      var marker = event.target;\n      var position = marker.getLatLng();\n\n      this.field.lat = position.lat;\n      this.field.lng = position.lng;\n\n      marker.openPopup();\n      console.log('change pos' , this.field)\n\n      \n  });\n\n    this.newMarker.bindPopup(this.field.name,{autoPan:false})\n                  .openPopup();\n  }\n\n\n  async loadFields(){\n\n    if(! this.id)\n      this.modelField.api_function('markers').subscribe(\n        response => {\n          if(response['status'] == 'success'){\n            if(response['data']){\n              response['data'].forEach(element => {\n                this.addMarker( parseFloat(element.lat),parseFloat( element.lng) ,element.name);\n              });\n            }\n          }\n          this.map.setView([this.field.lat,this.field.lng], 11);  \n        },\n        error => {\n\n        }\n      )\n  }\n\n  addMarker(lat,lng,title){\n\n    var Icono = Leaflet.icon({\n      iconUrl: \"http://icons.iconseeker.com/png/fullsize/sport-fields/football-field.png\",\n      iconSize: [30, 40],\n      iconAnchor: [15, 40],\n      shadowSize: [35, 50],\n      shadowAnchor: [0, 55],\n      popupAnchor: [0, -40]});\n\n    if(lat != 0 && lng != 0)\n      Leaflet.marker([lat, lng],{icon:Icono}).addTo(this.map).bindTooltip(title,{permanent : true}).openTooltip()\n      //.bindPopup(title,{autoPan:false}).openPopup();\n\n  }\n\n\n  inputVal(val){\n    this.field.name = val;\n\n    if(this.newMarker){\n      this.newMarker._popup.setContent(val,{autoPan:false})\n\n    }\n  }\n\n  regresh(){\n    this.map.invalidateSize();\n  }\n\n  reset(){\n \n    \n    if(this.map){\n      this.map.off();\n      this.map.remove();\n    }\n  }\n  \n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2ZpZWxkL2xpc3QtZmllbGRzL2xpc3QtZmllbGRzLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { Model } from 'src/app/api/models/model';\nimport { RequestService } from 'src/app/api/request.service';\nimport { IonItem, ModalController } from '@ionic/angular';\nimport { DialogService } from 'src/app/api/util/dialog.service';\nimport { UtilArrayService } from 'src/app/services/util-array.service';\nimport { UtilService } from 'src/app/services/util.service';\nimport { FieldFormPage } from '../field-form/field-form.page';\nimport { ModalForm } from 'src/app/models/modal-form';\nimport { PlatformLocation } from '@angular/common';\nimport { AuthUserService } from 'src/app/services/auth-user.service';\n\nimport * as Leaflet from 'leaflet';\nimport { ShowPage } from '../show/show.page';\nimport { TransferDataService } from 'src/app/services/transfer-data.service';\nimport { ScreenLoadingService } from 'src/app/services/screen-loading.service';\n\n\n@Component({\n  selector: 'app-list-fields',\n  templateUrl: './list-fields.page.html',\n  styleUrls: ['./list-fields.page.scss'],\n})\nexport class ListFieldsPage extends ModalForm implements OnInit , ModalForm {\n\n\n  segment_select = 'list';\n  fields = [];\n  oldFields = [];\n  markers = [];\n\n  modelField : Model;\n  public canEdit = false;\n\n  map: Leaflet.Map;\n\n  isSelect = false;\n\n\n  constructor(\n    public requestService : RequestService,\n    public dialogService : DialogService,\n    public modalController : ModalController,\n    public utilArray : UtilArrayService,\n    public util : UtilService,\n    location: PlatformLocation,\n    public viewCtrl: ModalController,\n    public dialog : DialogService,\n    public authUser : AuthUserService,\n    public transfDat : TransferDataService,\n    public loading : ScreenLoadingService\n\n  \n  ) {\n    super(location,viewCtrl)\n    this.modelField =  new Model('Field',requestService);\n\n    this.isSelect = transfDat.getData('isSelect');\n    transfDat.clear();\n\n    //this.isSelect = navParams.get('isSelect') ;\n\n   }\n\n  ngOnInit() {\n\n    //this.util.setScript('https://maps.googleapis.com/maps/api/js?key=AIzaSyA_uVKWprjIgPURNhl1v9zzTPLQJIBdi6I');\n    this.init();\n\n  }\n\n  async init(){\n    //await this.dialogService.loadingProgres();\n    this.loading.start();\n\n\n    this.modelField.api_function('pageAllFields').subscribe(\n      response => {\n        if(response['status'] == 'success'){\n          this.fields = response['data'];\n          this.oldFields = this.fields;\n        }\n\n        this.leafletMap();\n        //this.dialogService.dimissLoaging();\n        this.loading.end();\n      },\n      error => {\n        //this.dialogService.dimissLoaging();\n        this.loading.end();\n        this.dialogService.showToast('Error al obtener Campos','','warning');\n      }\n    )\n  }\n\n\n  async add() {\n    const modal = await this.modalController.create({\n      component: FieldFormPage ,\n    });\n\n    modal.onDidDismiss().then(data=>{\n      if(data['data'] && data.data['field']){\n        const field = data.data['field'];\n        this.utilArray.listAddFirst(this.fields,field);\n      }\n    })\n\n    return await modal.present();\n   }\n\n   filterField(event){\n     \n\n    let text = event.target.value;\n    if(text.length <= 0){\n      this.fields = this.oldFields;\n      this.loadFields();\n      return;\n    }\n\n    this.fields = [... this.oldFields];\n\n    this.fields = this.fields.filter(field => field.name.toUpperCase().includes(text.toUpperCase()));\n\n    this.loadFields();\n\n  }\n\n  cancelFilter($event){\n    this.fields = this.oldFields;\n  }\n\n  dismiss(field) {\n    this.viewCtrl.dismiss(\n      {\n        field : field,\n      }\n    );\n  }\n\n  close(){\n    this.viewCtrl.dismiss();\n  }\n\n  confirmDelete(field,$event){\n    $event.stopPropagation();\n\n    this.dialog.presentAlertConfirm('Confirmar','Estas seguro de eliminar esta cancha',e => {\n      this.delete(field)\n    });\n   }\n\n   delete(field){\n     this.modelField.api_delete(field.id).subscribe(data => {\n       console.log(data);\n       if(data['status'] == 'success'){\n         this.dialog.showToast('Cancha Eliminada',null,'success');\n         this.utilArray.listDelete(this.fields,field.id)\n       }\n     });\n   }\n\n   async showEdit(field,$event){\n     console.log('showEdit')\n    $event.stopPropagation();\n\n    const modal = await this.modalController.create({\n      component: FieldFormPage ,\n      componentProps: { id: field.id }\n    });\n\n    modal.onDidDismiss().then(data=>{\n      if(data.data && data.data['field']){\n        const field = data.data['field'];\n        this.utilArray.listUpdate(this.fields,field.id,field)\n      }\n    })\n\n    return await modal.present();\n   }\n\n  async show(field,$event){\n    if(this.isSelect)\n      return;\n\n    console.log('show')\n   $event.stopPropagation();\n\n   const modal = await this.modalController.create({\n     component: ShowPage ,\n     componentProps: { id: field.id }\n   });\n\n   modal.onDidDismiss().then(data=>{\n     if(data.data && data.data['field']){\n       //const field = data.data['field'];\n       //this.utilArray.listUpdate(this.fields,field.id,field)\n     }\n   })\n\n   return await modal.present();\n  }\n\n   segmentChanged(event){\n    //console.log(event);\n    this.segment_select = event.detail.value;\n    setTimeout(()=>{\n      this.regresh();\n\n    },100)\n   }\n\n\n   \n  leafletMap() {\n\n    //this.reset();\n    let field = { \n      name : '',\n      lat : -27.603857971720405,\n      lng : -55.323644024643414\n    };  \n\n    this.map = Leaflet.map('mapId3');\n    \n    this.map.on(\"load\",() => { \n      console.log('load map')\n\n      setTimeout(() => {\n        console.log('refresh')\n      this.regresh();\n    }, 1000); });\n    \n    \n    this.map.setView([field.lat,field.lng], 11);\n\n    //old\n    Leaflet.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'futbol-alem.com',\n      id: 'mapbox/streets-v11'\n    }).addTo(this.map);\n\n\n\n   \n/*\n    Leaflet.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: 'futbol-alem.com',\n    }).addTo(this.map);\n*/\n    //Leaflet.marker([28.6, 77]).addTo(this.map).bindPopup('Delhi').openPopup();\n    //Leaflet.marker([34, 77]).addTo(this.map).bindPopup('Leh').openPopup();\n\n    \n\n    this.loadFields();\n  }\n\n\n  loadFields(){\n\n    this.markers.forEach(el => {\n      if(this.map)\n        this.map.removeLayer(el);\n    })\n\n    this.markers = [];\n\n  \n    this.fields.forEach(element => {\n      this.addMarker( parseFloat(element.lat),parseFloat( element.lng) ,element.name);\n    });\n\n    this.regresh();\n  }\n\n  addMarker(lat,lng,title){\n\n    var Icono = Leaflet.icon({\n      iconUrl: \"http://icons.iconseeker.com/png/fullsize/sport-fields/football-field.png\",\n      iconSize: [30, 40],\n      iconAnchor: [15, 40],\n      shadowSize: [35, 50],\n      shadowAnchor: [0, 55],\n      popupAnchor: [0, -40]});\n\n    if(lat != 0 && lng != 0){\n      var m = Leaflet.marker([lat, lng],{icon:Icono}).addTo(this.map).bindTooltip(title,{permanent : true}).openTooltip()\n      //.bindPopup(title,{autoPan:false}).openPopup();\n      this.markers.push(m);\n    }\n  }\n\n  reset(){\n    if(this.map){\n      this.map.off();\n      this.map.remove();\n    }\n  }\n\n  regresh(){\n    this.map.invalidateSize();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}