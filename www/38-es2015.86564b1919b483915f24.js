(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"6/gD":function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var o=i("mrSG"),n=i("gcOT"),a=i("8xVP"),s=i("fXoL"),c=i("G/jy");const{Camera:r}=n.c;let b=(()=>{class e{constructor(e){this.photos=[],this.convertBlobToBase64=e=>new Promise((t,i)=>{const o=new FileReader;o.onerror=i,o.onload=()=>{t(o.result)},o.readAsDataURL(e)}),this.serviceImage=new a.a("Image",e)}init(e,t=!0,i="assets/images/pngwing.png"){this.url=null!=e?e:"/images/",this.thumb=null!=t&&t,this.path=i,this.photo=new l(i)}setImage(e){this.image=e,this.photo.image=e}addNewToGallery(){return Object(o.b)(this,void 0,void 0,(function*(){const e=yield r.getPhoto({resultType:n.a.Uri,source:n.b.Camera,quality:100}),t=yield this.readAsBase64(e);this.photos.unshift(new l(null,e.webPath,t,this.url,this.thumb))}))}addOneNewToGallery(){return Object(o.b)(this,void 0,void 0,(function*(){const e=yield r.getPhoto({resultType:n.a.Uri,source:n.b.Camera,quality:100}),t=yield this.readAsBase64(e);this.photo=new l(e.webPath,t,t,this.url,this.thumb,this.image)}))}isLoadPthoto(){return!!this.photo.data}readAsBase64(e){return Object(o.b)(this,void 0,void 0,(function*(){const t=yield fetch(e.webPath),i=yield t.blob();return yield this.convertBlobToBase64(i)}))}uploadImage(){if(this.isLoadPthoto())return this.photo.id?this.serviceImage.api_update(this.photo):this.serviceImage.api_create(this.photo)}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(c.a))},e.\u0275prov=s.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class l{constructor(e="assets/images/pngwing.png",t=null,i="",o="",n=!1,a=null){this.id=a?a.id:"",this.webviewPath=t,this.filepath=e,this.data=i,this.url=o,this.thumb=n,this.image=a}getPath(){return this.webviewPath?this.webviewPath:this.image&&this.image.urlComplete?this.image.urlComplete:this.filepath}}},"E/N5":function(e,t,i){"use strict";i.r(t),i.d(t,"GameFormPageModule",(function(){return m}));var o=i("ofXK"),n=i("3Pt+"),a=i("TEn/"),s=i("tyNb"),c=i("PEpV"),r=i("fXoL");const b=[{path:"",component:c.a}];let l=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},imports:[[s.j.forChild(b)],s.j]}),e})(),m=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},imports:[[o.b,n.a,a.kb,l]]}),e})()},PEpV:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var o=i("mrSG"),n=i("8xVP"),a=i("rBWs"),s=i("fXoL"),c=i("G/jy"),r=i("vuFD"),b=i("TEn/"),l=i("6/gD"),m=i("3Pt+"),g=i("ofXK");function u(e,t){if(1&e&&(s.Qb(0,"ion-select-option",19),s.vc(1),s.Pb()),2&e){const e=t.$implicit;s.gc("value",e.id),s.yb(1),s.wc(e.name)}}function d(e,t){if(1&e&&(s.Qb(0,"ion-select-option",19),s.vc(1),s.Pb()),2&e){const e=t.$implicit;s.gc("value",e.id),s.yb(1),s.wc(e.name)}}function h(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div"),s.Qb(1,"ion-item"),s.Qb(2,"ion-label",4),s.vc(3,"Otro Equipo"),s.Pb(),s.Qb(4,"ion-input",20),s.Yb("ngModelChange",(function(t){return s.oc(e),s.ac().game.other_team=t})),s.Pb(),s.Pb(),s.Qb(5,"div",7),s.vc(6),s.Pb(),s.Qb(7,"ion-button",21),s.Yb("click",(function(){return s.oc(e),s.ac().newTeam()})),s.vc(8,"Nuevo equipo"),s.Pb(),s.Pb()}if(2&e){const e=s.ac();s.yb(4),s.gc("ngModel",e.game.other_team),s.yb(2),s.wc(e.serviceGame.errorsForm.get("other_team"))}}function v(e,t){if(1&e&&(s.Qb(0,"ion-select-option",19),s.vc(1),s.Pb()),2&e){const e=t.$implicit;s.gc("value",e),s.yb(1),s.wc(e)}}function p(e,t){if(1&e&&(s.Qb(0,"ion-select-option",19),s.vc(1),s.Pb()),2&e){const e=t.$implicit;s.gc("value",e),s.yb(1),s.wc(e)}}function P(e,t){if(1&e&&(s.Qb(0,"ion-select-option",19),s.vc(1),s.Pb()),2&e){const e=t.$implicit;s.gc("value",e),s.yb(1),s.wc(e)}}let f=(()=>{class e{constructor(e,t,i,o,a,s){var c;this.request=e,this.dialogService=t,this.viewCtrl=i,this.photoService=o,this.modalController=s,this.teams=[],this.numbGoals=[],this.customDayShortNames=["s\xf8n"],this.status=["Pendiente","Suspendido","Jugado","Created"],this.myDateFilter=e=>6==e.getDay(),this.serviceGame=new n.a("Game",e),this.serviceTeam=new n.a("Team",e),this.id=a.get("id"),this.toDate=null!==(c=a.get("date"))&&void 0!==c?c:new Date,console.log("date",this.toDate)}ngOnInit(){this.serviceTeam.api_function("getAllTeamsSelect").subscribe(e=>{e.data&&(this.teams=e.data,console.log("teams -> ",this.teams))});for(var e=0;e<=30;e++)this.numbGoals.push(e);this.initObject()}initObject(){this.game={l_team:"",v_team:"",l_goals:0,v_goals:0,time:"15:00",date:this.toDate,location:"",description:"",status:"Pendiente"},this.id&&this.serviceGame.api_find(this.id).subscribe(e=>{"success"==e.status&&(this.game=e.Game)})}submit(){this.game.id?this.serviceGame.api_update(this.game).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),console.log(e),this.dismiss(e.Game))}):this.serviceGame.api_create(this.game).subscribe(e=>{var t;"success"==e.status&&(this.dialogService.showToast(null!==(t=e.msjSuccess)&&void 0!==t?t:"Registrado"),this.dismiss(e.Game))})}dismiss(e){this.viewCtrl.dismiss({game:e})}close(){this.viewCtrl.dismiss()}print(){console.log(this.game)}newTeam(){return Object(o.b)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:a.a});return e.onDidDismiss().then(e=>{e.data.team&&this.teams.push(e.data.team)}),yield e.present()}))}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(c.a),s.Lb(r.a),s.Lb(b.nb),s.Lb(l.a),s.Lb(b.pb),s.Lb(b.nb))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-game-form"]],decls:69,vars:22,consts:[["slot","start"],["color","dark",3,"click"],["name","arrow-back"],[3,"ngSubmit","keyup"],["position","floating"],["name","l_team",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","padding-top","0.2rem"],["name","v_team",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"goals"],["name","l_goals",3,"ngModel","ngModelChange"],["name","v_goals",3,"ngModel","ngModelChange"],["displayFormat","HH:mm ","name","time",3,"ngModel","ngModelChange"],["type","text","name","location",3,"ngModel","ngModelChange"],["type","text","name","description",3,"ngModel","ngModelChange"],["name","date","displayFormat","YYYY-MM-DD",3,"ngModel","ngModelChange"],["name","status",3,"ngModel","ngModelChange"],["type","submit","expand","block"],[3,"value"],["type","text","name","other_team",3,"ngModel","ngModelChange"],["size","sm",3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"ion-header"),s.Qb(1,"ion-toolbar"),s.Qb(2,"ion-title"),s.vc(3,"Partido"),s.Pb(),s.Qb(4,"ion-buttons",0),s.Qb(5,"ion-button",1),s.Yb("click",(function(){return t.close()})),s.Mb(6,"ion-icon",2),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Qb(7,"ion-content"),s.Qb(8,"form",3),s.Yb("ngSubmit",(function(){return t.submit()}))("keyup",(function(){return t.serviceGame.errorsForm.clear()})),s.Qb(9,"ion-item"),s.Qb(10,"ion-label",4),s.vc(11,"Equipo local"),s.Pb(),s.Qb(12,"ion-select",5),s.Yb("ngModelChange",(function(e){return t.game.l_team=e})),s.uc(13,u,2,2,"ion-select-option",6),s.Pb(),s.Qb(14,"div",7),s.vc(15),s.Pb(),s.Pb(),s.Qb(16,"ion-item"),s.Qb(17,"ion-label",4),s.vc(18,"Equipo Vicitante"),s.Pb(),s.Qb(19,"ion-select",8),s.Yb("ngModelChange",(function(e){return t.game.v_team=e})),s.uc(20,d,2,2,"ion-select-option",6),s.Pb(),s.Qb(21,"div",7),s.vc(22),s.Pb(),s.Pb(),s.uc(23,h,9,2,"div",9),s.Mb(24,"br"),s.Qb(25,"div",10),s.Qb(26,"ion-item"),s.Qb(27,"ion-label",4),s.vc(28,"Goles L"),s.Pb(),s.Qb(29,"ion-select",11),s.Yb("ngModelChange",(function(e){return t.game.l_goals=e})),s.uc(30,v,2,2,"ion-select-option",6),s.Pb(),s.Qb(31,"div",7),s.vc(32),s.Pb(),s.Pb(),s.Qb(33,"ion-item"),s.Qb(34,"ion-label",4),s.vc(35,"Goles V"),s.Pb(),s.Qb(36,"ion-select",12),s.Yb("ngModelChange",(function(e){return t.game.v_goals=e})),s.uc(37,p,2,2,"ion-select-option",6),s.Pb(),s.Qb(38,"div",7),s.vc(39),s.Pb(),s.Pb(),s.Pb(),s.Qb(40,"ion-item"),s.Qb(41,"ion-label"),s.vc(42,"HH:mm"),s.Pb(),s.Qb(43,"ion-datetime",13),s.Yb("ngModelChange",(function(e){return t.game.time=e})),s.Pb(),s.Pb(),s.Qb(44,"ion-item"),s.Qb(45,"ion-label",4),s.vc(46,"Lugar"),s.Pb(),s.Qb(47,"ion-input",14),s.Yb("ngModelChange",(function(e){return t.game.location=e})),s.Pb(),s.Pb(),s.Qb(48,"div",7),s.vc(49),s.Pb(),s.Qb(50,"ion-item"),s.Qb(51,"ion-label",4),s.vc(52,"Comentario"),s.Pb(),s.Qb(53,"ion-input",15),s.Yb("ngModelChange",(function(e){return t.game.description=e})),s.Pb(),s.Pb(),s.Qb(54,"div",7),s.vc(55),s.Pb(),s.Qb(56,"ion-item"),s.Qb(57,"ion-label"),s.vc(58,"Fecha"),s.Pb(),s.Qb(59,"ion-datetime",16),s.Yb("ngModelChange",(function(e){return t.game.date=e})),s.Pb(),s.Pb(),s.Qb(60,"ion-item"),s.Qb(61,"ion-label",4),s.vc(62,"Estado"),s.Pb(),s.Qb(63,"ion-select",17),s.Yb("ngModelChange",(function(e){return t.game.status=e})),s.uc(64,P,2,2,"ion-select-option",6),s.Pb(),s.Qb(65,"div",7),s.vc(66),s.Pb(),s.Pb(),s.Qb(67,"ion-button",18),s.vc(68,"Guardar"),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.yb(12),s.gc("ngModel",t.game.l_team),s.yb(1),s.gc("ngForOf",t.teams),s.yb(2),s.wc(t.serviceGame.errorsForm.get("l_team")),s.yb(4),s.gc("ngModel",t.game.v_team),s.yb(1),s.gc("ngForOf",t.teams),s.yb(2),s.wc(t.serviceGame.errorsForm.get("v_team")),s.yb(1),s.gc("ngIf",t.game.other_team),s.yb(6),s.gc("ngModel",t.game.l_goals),s.yb(1),s.gc("ngForOf",t.numbGoals),s.yb(2),s.wc(t.serviceGame.errorsForm.get("l_goals")),s.yb(4),s.gc("ngModel",t.game.v_goals),s.yb(1),s.gc("ngForOf",t.numbGoals),s.yb(2),s.wc(t.serviceGame.errorsForm.get("v_goals")),s.yb(4),s.gc("ngModel",t.game.time),s.yb(4),s.gc("ngModel",t.game.location),s.yb(2),s.wc(t.serviceGame.errorsForm.get("location")),s.yb(4),s.gc("ngModel",t.game.description),s.yb(2),s.wc(t.serviceGame.errorsForm.get("description")),s.yb(4),s.gc("ngModel",t.game.date),s.yb(4),s.gc("ngModel",t.game.status),s.yb(1),s.gc("ngForOf",t.status),s.yb(2),s.wc(t.serviceGame.errorsForm.get("status")))},directives:[b.x,b.jb,b.hb,b.j,b.i,b.y,b.r,m.i,m.e,m.f,b.D,b.G,b.W,b.ub,m.d,m.g,g.k,g.l,b.s,b.C,b.vb,b.X],styles:[""]}),e})()}}]);