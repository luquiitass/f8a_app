(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{F4UR:function(n,o,i){"use strict";i.r(o),i.d(o,"LoginPageModule",(function(){return y}));var t=i("ofXK"),e=i("3Pt+"),r=i("TEn/"),a=i("tyNb"),c=i("mrSG"),l=i("U9ZX"),s=i("Jgta"),b=i("fXoL"),g=i("y/q6"),u=i("UbJi"),d=i("vuFD"),p=i("2Rin");function f(n,o){1&n&&b.Mb(0,"ion-spinner",24)}function h(n,o){1&n&&b.Mb(0,"ion-spinner",24)}var m=[{path:"",component:function(){function n(n,o,i,t,e,r){this.authUserService=n,this.modalController=o,this.afAuth=i,this.platform=t,this.utilDialog=e,this.util=r,this.loadingLogin=!1,this.loadingGoogle=!1}return n.prototype.ngOnInit=function(){this.authUserService.redirect()},n.prototype.googleAuth=function(){},n.prototype.login=function(n){return Object(c.b)(this,void 0,void 0,(function(){var o=this;return Object(c.d)(this,(function(i){return this.loadingLogin=!0,this.authUserService.login(n.value).finally((function(){o.loadingLogin=!1})),[2]}))}))},n.prototype.openModal=function(){return Object(c.b)(this,void 0,void 0,(function(){var n;return Object(c.d)(this,(function(o){switch(o.label){case 0:return[4,this.modalController.create({component:l.a})];case 1:return(n=o.sent()).onDidDismiss().then((function(n){})),[4,n.present()];case 2:return[2,o.sent()]}}))}))},n.prototype.loginGoogle=function(){return Object(c.b)(this,void 0,void 0,(function(){var n,o,i,t,e=this;return Object(c.d)(this,(function(r){switch(r.label){case 0:this.loadingGoogle=!0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.afAuth.signInWithPopup(new s.a.auth.GoogleAuthProvider)];case 2:return n=r.sent(),i={email:(o=n.user).email,first_name:o.displayName.split(" ")[1],last_name:o.displayName.split(" ")[0],photoURL:o.photoURL},console.log(o),console.log(i),this.authUserService.loginSocial(i).finally((function(){e.loadingGoogle=!1,console.log("loadingGoogle",e.loadingGoogle)})),[3,4];case 3:return t=r.sent(),console.log(t),this.loadingGoogle=!1,this.utilDialog.showToast("Error al iniciar sesi\xf3n con Google",null,"danger"),[3,4];case 4:return[2]}}))}))},n.\u0275fac=function(o){return new(o||n)(b.Lb(g.a),b.Lb(r.nb),b.Lb(u.a),b.Lb(r.rb),b.Lb(d.a),b.Lb(p.a))},n.\u0275cmp=b.Fb({type:n,selectors:[["app-login"]],decls:37,vars:6,consts:[[1,"ion-padding","ion-align-items-center"],[1,"ion-justify-content-center"],["size-xs","12",1,"ion-align-self-center"],[3,"ngSubmit"],["form","ngForm"],[1,"ion-text-center","bg-l2","icon"],["src","assets/icon/favicon.png"],[1,"ion-padding"],["name","email","type","email","placeholder","ejemplo@gmail.com","ngModel","","required",""],["name","password","type","password","placeholder","Contrase\xf1a","ngModel","","required",""],[2,"color","red","padding-top","0.2rem"],["padding",""],[1,"ion-text-center"],["type","submit",3,"disabled"],["name","lines",4,"ngIf"],[1,"ion-text-center","ion-margin-bottom","ion-margin-top"],["color","secondary","routerLink","/password-reset-email","routerDirection","forward"],[1,"ion-text-center","ion-margin"],["color","default",2,"background-color","#1976d2","color","white","display","none"],["name","logo-facebook"],["color","default",1,"ion-padding-left","ion-padding-right",2,"background-color","#c62828","color","white",3,"disabled","click"],["name","logo-google"],[1,"ion-text-center","ion-margin-top","rg"],["expand","block",3,"click"],["name","lines"]],template:function(n,o){if(1&n){var i=b.Rb();b.Qb(0,"ion-content",0),b.Qb(1,"ion-grid"),b.Qb(2,"ion-row",1),b.Qb(3,"ion-col",2),b.Qb(4,"form",3,4),b.Yb("ngSubmit",(function(){b.oc(i);var n=b.lc(5);return o.login(n)})),b.Qb(6,"div",5),b.Mb(7,"ion-img",6),b.Pb(),b.Qb(8,"div",7),b.Qb(9,"ion-item"),b.Mb(10,"ion-input",8),b.Pb(),b.Qb(11,"ion-item"),b.Mb(12,"ion-input",9),b.Pb(),b.Pb(),b.Qb(13,"div",10),b.vc(14),b.Pb(),b.Qb(15,"div",11),b.Qb(16,"div",12),b.Qb(17,"ion-button",13),b.vc(18," Iniciar Sesi\xf3n "),b.uc(19,f,1,0,"ion-spinner",14),b.Pb(),b.Pb(),b.Qb(20,"div",15),b.Qb(21,"a",16),b.vc(22,"\xbfOlvidaste tu contrase\xf1a?"),b.Pb(),b.Pb(),b.Qb(23,"div",17),b.Qb(24,"ion-text"),b.vc(25,"O puedes iniciar sesi\xf3n con:"),b.Pb(),b.Pb(),b.Qb(26,"div",12),b.Qb(27,"ion-button",18),b.Mb(28,"ion-icon",19),b.Pb(),b.Qb(29,"ion-button",20),b.Yb("click",(function(){return o.loginGoogle()})),b.Mb(30,"ion-icon",21),b.uc(31,h,1,0,"ion-spinner",14),b.Pb(),b.Pb(),b.Qb(32,"div",22),b.Qb(33,"ion-text"),b.vc(34," \xbfEres nuevo? "),b.Qb(35,"a",23),b.Yb("click",(function(){return o.openModal()})),b.vc(36,"Reg\xedstrate"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb()}if(2&n){var t=b.lc(5);b.yb(14),b.wc(o.authUserService.errorsLogin),b.yb(3),b.gc("disabled",t.invalid)("disabled",o.loadingLogin),b.yb(2),b.gc("ngIf",o.loadingLogin),b.yb(10),b.gc("disabled",o.loadingGoogle),b.yb(2),b.gc("ngIf",o.loadingGoogle)}},directives:[r.r,r.w,r.S,r.q,e.i,e.e,e.f,r.z,r.D,r.C,r.vb,e.d,e.g,e.h,r.i,t.l,a.i,r.tb,r.eb,r.y,r.ab],styles:["ion-grid[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{height:100%}ion-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]{max-width:400px;border-radius:70px;margin:auto}.rg[_ngcontent-%COMP%]{font-size:x-large;margin-top:60px}"]}),n}()}],v=function(){function n(){}return n.\u0275mod=b.Jb({type:n}),n.\u0275inj=b.Ib({factory:function(o){return new(o||n)},imports:[[a.j.forChild(m)],a.j]}),n}(),y=function(){function n(){}return n.\u0275mod=b.Jb({type:n}),n.\u0275inj=b.Ib({factory:function(o){return new(o||n)},imports:[[t.b,e.a,r.kb,v]]}),n}()}}]);