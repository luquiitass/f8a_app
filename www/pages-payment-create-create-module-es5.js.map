{"version":3,"sources":["webpack:///src/app/pages/payment/create/create.page.html","webpack:///src/app/pages/payment/create/create-routing.module.ts","webpack:///src/app/pages/payment/create/create.module.ts","webpack:///src/app/pages/payment/create/create.page.scss","webpack:///src/app/pages/payment/create/create.page.ts"],"names":["routes","path","component","CreatePageRoutingModule","imports","forChild","exports","CreatePageModule","declarations","CreatePage","request","route","dialogService","util","modelPayment","team_id","snapshot","paramMap","get","preferenceApi","loadingProgres","console","log","api_function","subscribe","response","dimissLoaging","payment","error","status","selector","template"],"mappings":"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","file":"pages-payment-create-create-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Realizar Pago</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"team/profile/{{team_id}}\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-card *ngIf=\\\"payment\\\">\\n    <ion-card-content>\\n\\n      <div class=\\\"ion-text-center\\\">\\n        <h2 class=\\\"sub\\\">Suscripción de:</h2>\\n        <br>\\n        <ion-avatar slot=\\\"start\\\" style=\\\"margin: auto;\\\">\\n          <ion-img \\n            [src]=\\\"payment.team.shield ? payment.team.shield.urlCompleteThumb : 'assets/images/esc.png'\\\">\\n          </ion-img>\\n        </ion-avatar>\\n        <br>\\n        <ion-text class=\\\"team\\\" color=\\\"dark\\\"> {{payment.team.name}}</ion-text>\\n        <br>\\n      </div>\\n\\n     \\n\\n      <ion-item-group>\\n        <ion-item-divider>\\n          <ion-label>Detalle</ion-label>\\n        </ion-item-divider>\\n      \\n        <ion-item>\\n          <ion-label>\\n            <ion-text>Valor:</ion-text>\\n            <ion-text class=\\\"ion-float-right\\\">${{payment.amount}}</ion-text>\\n          </ion-label>\\n        </ion-item>\\n       \\n        <ion-item>\\n          <ion-label>\\n            <ion-text>Creado:</ion-text>\\n            <ion-text class=\\\"ion-float-right\\\">{{util.setFormatMoment(payment.created_at)}}</ion-text>\\n          </ion-label>\\n        </ion-item>\\n\\n        <ion-item *ngIf=\\\"false\\\">\\n          <ion-text> {{ payment.detail }}</ion-text>\\n        </ion-item>\\n\\n      </ion-item-group>\\n\\n      <br>\\n\\n      <ion-item-group >\\n        <ion-item-divider>\\n          <ion-label class=\\\"ion-text-center\\\">Estado</ion-label>\\n        </ion-item-divider>\\n      \\n        <ion-item>\\n          <ion-label>\\n            {{status}}\\n          </ion-label>\\n        </ion-item>\\n\\n      </ion-item-group>\\n\\n      <br *ngIf=\\\"noPaid\\\">\\n\\n      <ion-item-group *ngIf=\\\"noPaid\\\" >\\n        <ion-item-divider>\\n          <ion-label class=\\\"ion-text-center\\\">Información </ion-label>\\n        </ion-item-divider>\\n      \\n        <ion-item>\\n          <ion-label>\\n            \\n          </ion-label>\\n        </ion-item>\\n\\n      </ion-item-group>\\n      <br>\\n\\n\\n      <br *ngIf=\\\"isFailure\\\">\\n      <ion-item-group *ngIf=\\\"isFailure\\\" >\\n        <ion-item-divider>\\n          <ion-label class=\\\"ion-text-center\\\">Error</ion-label>\\n        </ion-item-divider>\\n      \\n        <ion-item>\\n          <ion-label>\\n            El pago no ha finalizado correctamente.\\n          </ion-label>\\n        </ion-item>\\n\\n        <ion-item >\\n          <ion-button routerLink=\\\"/payment/create/{{payment.team.id}}\\\"  >Generar nuevo pago</ion-button>\\n        </ion-item>\\n\\n      </ion-item-group>\\n\\n\\n      <br *ngIf=\\\"isApproved\\\">\\n      <ion-item-group *ngIf=\\\"isApproved\\\">\\n        <ion-item-divider>\\n          <ion-label>Suscripción paga</ion-label>\\n        </ion-item-divider>\\n      \\n        <ion-item>\\n          <ion-label>\\n            <ion-text>inicio:</ion-text>\\n            <ion-text class=\\\"ion-float-right\\\">{{util.setFormatMoment(payment.start)}}</ion-text>\\n          </ion-label>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label>\\n            <ion-text>Fin:</ion-text>\\n            <ion-text class=\\\"ion-float-right\\\" >{{util.setFormatMoment(payment.end)}}</ion-text>\\n          </ion-label>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-text>\\n            Durante este periodo los administradores podrán gestionar los datos de este Equipo. Recibirán una notificación días previos a la fecha de vencimiento. \\n          </ion-text>\\n        </ion-item>\\n\\n      </ion-item-group>\\n\\n\\n\\n\\n      <br *ngIf=\\\"isApproved\\\">\\n      <ion-item-group *ngIf=\\\"isApproved\\\">\\n\\n        <ion-item-divider>\\n          <ion-label>Mercado Pago</ion-label>\\n        </ion-item-divider> \\n\\n        <ion-item>\\n          <ion-label>\\n            <ion-text>Pago:</ion-text>\\n            <ion-text class=\\\"ion-float-right\\\">{{payment.payment_id}}</ion-text>\\n          </ion-label>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>\\n            <ion-text>Orden:</ion-text>\\n            <ion-text class=\\\"ion-float-right\\\">{{payment.order_id}}</ion-text>\\n          </ion-label>\\n        </ion-item>\\n\\n      </ion-item-group>\\n\\n      <br *ngIf=\\\"isApproved\\\">\\n      <ion-item-group *ngIf=\\\"isApproved\\\">\\n\\n        <ion-item-divider>\\n          <ion-label>Autor</ion-label>\\n        </ion-item-divider> \\n\\n        <ion-item>\\n          <ion-label class=\\\"ion-text-center\\\">\\n            <ion-avatar slot=\\\"start\\\" style=\\\"margin: auto;\\\">\\n              <ion-img \\n                [src]=\\\"payment.user.photo ? payment.user.photo.urlCompleteThumb : 'assets/images/user.png'\\\">\\n              </ion-img>\\n            </ion-avatar>\\n\\n            {{payment.user.completeName}}\\n          </ion-label>\\n        </ion-item>\\n\\n      </ion-item-group>\\n\\n\\n      <div *ngIf=\\\"noPaid\\\">\\n        <app-btn-paid\\n          [preference_id] = \\\"payment.preference_id\\\"\\n        ></app-btn-paid>\\n      </div>\\n\\n    </ion-card-content>\\n  </ion-card>\\n\\n\\n</ion-content>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CreatePage } from './create.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CreatePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CreatePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CreatePageRoutingModule } from './create-routing.module';\n\nimport { CreatePage } from './create.page';\nimport {ComponentsModule} from '../../../components/components.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CreatePageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [CreatePage]\n})\nexport class CreatePageModule {}\n","export default \".sub {\\n  font-size: larger;\\n  margin-bottom: 10px;\\n}\\n\\n.team {\\n  font-size: x-large;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGF5bWVudC9jcmVhdGUvY3JlYXRlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFFQTtFQUNLLGtCQUFBO0FBQ0wiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wYXltZW50L2NyZWF0ZS9jcmVhdGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN1YntcbiAgICBmb250LXNpemU6IGxhcmdlcjtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG4udGVhbXtcbiAgICAgZm9udC1zaXplOiB4LWxhcmdlO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { Model } from 'src/app/api/models/model';\nimport { RequestService } from 'src/app/api/request.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { DialogService } from 'src/app/api/util/dialog.service';\nimport {environment} from 'src/environments/environment';\nimport { UtilService } from 'src/app/services/util.service';\n\n\n@Component({\n  selector: 'app-create',\n  templateUrl: './create.page.html',\n  styleUrls: ['./create.page.scss'],\n})\nexport class CreatePage implements OnInit {\n\n\n  public modelPayment : Model;\n  public team_id : any;\n  public payment : any;\n\n  constructor(\n    public request : RequestService,\n    public route : ActivatedRoute,\n    public dialogService : DialogService,\n    public util : UtilService\n\n  ) { \n\n    this.modelPayment = new Model(\"Payment\",request);\n    this.team_id = this.route.snapshot.paramMap.get('team_id');\n\n  }\n\n  ngOnInit() {\n\n    this.preferenceApi();\n  }\n\n\n\n\n  async preferenceApi(){\n    await this.dialogService.loadingProgres();\n\n    console.log('preference api')\n      this.modelPayment.api_function('findPaymentTeam',{team_id : this.team_id}).subscribe(\n        response => {\n          this.dialogService.dimissLoaging();\n          console.log(response);\n          if(response['status'] == 'success'){\n            this.payment = response['data'];\n          }\n        },\n        error => {\n          this.dialogService.dimissLoaging();\n          console.error(error)\n        }  \n      )\n  }\n\n\n\nget isApproved(){\n  return this.payment ? this.payment.status == 'approved' : false;\n}\n\nget noPaid(){\n  return this.payment ? ( this.payment.status == 'created' || this.payment.status == 'pending' ) : false ;\n}\n\nget isFailure(){\n  return this.payment ? this.payment.status == 'rejected'  : false;\n}\n\nget status(){\n\n  if(! this.payment)\n    return '';\n\n  switch (this.payment.status) {\n    case 'created' : \n      return 'Pendiente';\n\n    case 'pending': \n      return 'Pendiente  de pago';\n    \n    case 'approved' : \n      return 'Pagado';\n    \n    case 'rejected' :\n      return 'Pago rechazado';\n  }\n\n}\n\n\n\n}\n"]}