{"version":3,"sources":["webpack:///src/app/pages/game/create-game-admin/create-game-admin.page.html","webpack:///src/app/pages/team/modal-filter/modal-filter.page.html","webpack:///src/app/pages/game/create-game-admin/create-game-admin.page.scss","webpack:///src/app/pages/game/create-game-admin/create-game-admin.page.ts","webpack:///src/app/pages/team/modal-filter/modal-filter.page.scss","webpack:///src/app/pages/team/modal-filter/modal-filter.page.ts"],"names":["CreateGameAdminPage","request","dialogService","viewCtrl","photoService","navParams","authUser","util","chatService","transfData","myTeams","teams","teamsSelect","v","l","numbGoals","customDayShortNames","status","customActionSheetOptions","header","myDateFilter","d","day","getDay","serviceGame","serviceTeam","id","get","toDate","setFormatMoment","Date","console","log","test","isoWeekday","user","api_function","subscribe","data","push","i","initObject","game","l_team","v_team","l_goals","v_goals","time","date","location","description","field","field_id","api_find","valid","showToast","message","loadingProgres","team_creator","response","dismiss","dimissLoaging","error","mensaje","hide","event","e","detail","value","setField","teamLocal","Error","other_team","typeTeam","setData","create","component","modal","onDidDismiss","then","team","clearLocal","present","selector","template","ModalFilterPage","dataTranfer","oldTeams","textSearch","getData","text","length","filter","name","toUpperCase","includes","$event"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCmBFA,mBAAmB;AA0B9B,qCACSC,OADT,EAESC,aAFT,EAGSC,QAHT,EAISC,YAJT,EAKEC,SALF,EAMSC,QANT,EAOSC,IAPT,EAQSC,WART,EASSC,UATT,EASyC;AAAA;;;;AARhC,eAAAR,OAAA,GAAAA,OAAA;AACA,eAAAC,aAAA,GAAAA,aAAA;AACA,eAAAC,QAAA,GAAAA,QAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AAEA,eAAAE,QAAA,GAAAA,QAAA;AACA,eAAAC,IAAA,GAAAA,IAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,UAAA,GAAAA,UAAA;AAjCF,eAAAC,OAAA,GAAU,EAAV;AACA,eAAAC,KAAA,GAAQ,EAAR;AAIA,eAAAC,WAAA,GAAc;AACnBC,aAAC,EAAC,EADiB;AAEnBC,aAAC,EAAC;AAFiB,WAAd;AAMA,eAAAC,SAAA,GAAY,EAAZ;AAEA,eAAAC,mBAAA,GAAsB,CAAC,QAAD,CAAtB;AACA,eAAAC,MAAA,GAAS,CAAC,WAAD,EAAa,YAAb,EAA0B,QAA1B,EAAmC,SAAnC,CAAT;AAMP,eAAAC,wBAAA,GAAgC;AAC9BC,kBAAM,EAAE;AADsB,WAAhC;;AA+IA,eAAAC,YAAA,GAAe,UAACC,CAAD,EAAsB;AACnC,gBAAMC,GAAG,GAAGD,CAAC,CAACE,MAAF,EAAZ,CADmC,CAEnC;;AACA,mBAAOD,GAAG,IAAI,CAAd;AACD,WAJD;;AA/HE,eAAKE,WAAL,GAAmB,IAAI,8DAAJ,CAAU,MAAV,EAAiBvB,OAAjB,CAAnB;AACA,eAAKwB,WAAL,GAAoB,IAAI,8DAAJ,CAAU,MAAV,EAAiBxB,OAAjB,CAApB,CAJuC,CAKvC;;AAEA,eAAKyB,EAAL,GAAUrB,SAAS,CAACsB,GAAV,CAAc,IAAd,CAAV;AACA,eAAKC,MAAL,GAAc,CAAH,KAAGvB,SAAS,CAACsB,GAAV,CAAc,MAAd,OAAqB,IAArB,IAAqB,aAArB,GAAqB,EAArB,GAA0BpB,IAAI,CAACsB,eAAL,CAAqB,IAAIC,IAAJ,EAArB,EAAkC,YAAlC,CAAxC;AACAC,iBAAO,CAACC,GAAR,CAAY,MAAZ,EAAmB,KAAKJ,MAAxB;AAEA,eAAKK,IAAL;AAEA;;AAhD4B;AAAA;AAAA,iCAkD1B;AACFF,mBAAO,CAACC,GAAR,CAAY,eAAZ,EAA4B,oCAAM,GAAGE,UAAT,EAA5B;AAEAH,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,oCAAM,GAAGE,UAAT,CAAoB,CAApB,CAAtB;AACD;AAtD6B;AAAA;AAAA,qCAwDnB;AAAA;;AAGT,iBAAKxB,OAAL,GAAe,KAAKJ,QAAL,CAAc6B,IAAd,CAAmBxB,KAAlC;AAEA,iBAAKC,WAAL,CAAiBC,CAAjB,GAAqB,KAAKH,OAAL,CAAa,CAAb,CAArB;AAGA,iBAAKe,WAAL,CAAiBW,YAAjB,CAA8B,mBAA9B,EAAmDC,SAAnD,CAA6D,UAAAC,IAAI,EAAI;AACnE,kBAAGA,IAAI,CAAC,MAAD,CAAP,EAAgB;AACd,qBAAI,CAAC3B,KAAL,GAAa2B,IAAI,CAAC,MAAD,CAAjB;AACAP,uBAAO,CAACC,GAAR,CAAY,WAAZ,EAA0B,KAAI,CAACrB,KAA/B;;AACA,qBAAI,CAACA,KAAL,CAAW4B,IAAX,CAAgB;AACd,wBAAO,CAAC,CADM;AAEd,0BAAS;AAFK,iBAAhB;;AAIAR,uBAAO,CAACC,GAAR,CAAY,UAAZ,EAPc,CAQd;AACD;AACF,aAXD;;AAcA,iBAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,EAArB,EAAyBA,CAAC,EAA1B,EAA8B;AAC5B,mBAAKzB,SAAL,CAAewB,IAAf,CAAoBC,CAApB;AACD;;AACD,iBAAKC,UAAL;AACD;AAlF6B;AAAA;AAAA,uCAoFpB;AAAA;;AACR,iBAAKC,IAAL,GAAY;AACVC,oBAAM,EAAE,EADE;AAEVC,oBAAM,EAAG,EAFC;AAGVC,qBAAO,EAAG,CAHA;AAIVC,qBAAO,EAAG,CAJA;AAKVC,kBAAI,EAAG,OALG;AAMVC,kBAAI,EAAG,KAAKpB,MANF;AAOVqB,sBAAQ,EAAG,EAPD;AAQVC,yBAAW,EAAG,EARJ;AASVjC,oBAAM,EAAG,WATC;AAUVkC,mBAAK,EAAG,IAVE;AAWVC,sBAAQ,EAAG;AAXD,aAAZ;;AAcA,gBAAG,KAAK1B,EAAR,EAAW;AACT,mBAAKF,WAAL,CAAiB6B,QAAjB,CAA0B,KAAK3B,EAA/B,EAAmCW,SAAnC,CAA6C,UAAAC,IAAI,EAAI;AACnD,oBAAGA,IAAI,CAAC,QAAD,CAAJ,IAAkB,SAArB,EAA+B;AAC7B,wBAAI,CAACI,IAAL,GAAYJ,IAAI,CAAC,MAAD,CAAhB;AACD;AACF,eAJD;AAKD,aArBO,CAuBR;;AACD;AA5G6B;AAAA;AAAA,mCA+GlB;;;;;;;;AAEV,2BAAKI,IAAL,CAAUM,IAAV,GAAkB,KAAKzC,IAAL,CAAUsB,eAAV,CAA0B,KAAKa,IAAL,CAAUM,IAApC,EAA2C,YAA3C,CAAlB;;AAGE,2BAAKM,KAAL;;;;;;;AAEA,2BAAKpD,aAAL,CAAmBqD,SAAnB,CAA6B,YAAEC,OAA/B,EAAuC,OAAvC,EAA+C,QAA/C;;;;;AAIF,6BAAM,KAAKtD,aAAL,CAAmBuD,cAAnB,EAAN;;;AAEA,2BAAKf,IAAL,CAAUgB,YAAV,GAAyB,KAAK9C,WAAL,CAAiB,GAAjB,EAAsB,IAAtB,CAAzB;AAEA,2BAAKY,WAAL,CAAiBY,YAAjB,CAA8B,iBAA9B,EAAgD,KAAKM,IAArD,EAA2DL,SAA3D,CACE,UAAAsB,QAAQ,EAAI;AACV,4BAAGA,QAAQ,CAAC,QAAD,CAAR,IAAsB,SAAzB,EAAmC;AACjC;AACE,gCAAI,CAACzD,aAAL,CAAmBqD,SAAnB,CAA6B,oBAA7B;;AAEA,gCAAI,CAACK,OAAL,CAAaD,QAAQ,CAAC,MAAD,CAArB,EAJ+B,CAKjC;;AAED,yBAPD,MAOM,IAAIA,QAAQ,CAAC,QAAD,CAAR,IAAsB,OAA1B,EAAkC;AACtC,gCAAI,CAACzD,aAAL,CAAmBqD,SAAnB,CAA6BI,QAAQ,CAAC,mBAAD,CAAR,GAAgCA,QAAQ,CAAC,mBAAD,CAAxC,GAAiEA,QAAQ,CAAC,SAAD,CAAtG,EAAoH,EAApH,EAAuH,QAAvH,EAAgI,IAAhI;AACD;;AACD,8BAAI,CAACzD,aAAL,CAAmB2D,aAAnB;AACD,uBAbH,EAcE,UAAAC,KAAK,EAAI;AACP/B,+BAAO,CAACC,GAAR,CAAY8B,KAAZ;;AACA,8BAAI,CAAC5D,aAAL,CAAmB2D,aAAnB;;AACA,8BAAI,CAAC3D,aAAL,CAAmBqD,SAAnB,CAA6BO,KAAK,CAACA,KAAN,CAAYC,OAAzC,EAAiD,EAAjD,EAAoD,QAApD,EAA6D,IAA7D;AACD,uBAlBH,EAmBE,YAAI;AACF,8BAAI,CAAC7D,aAAL,CAAmB2D,aAAnB;AACD,uBArBH;;;;;;;;;AAuBD;AArJ6B;AAAA;AAAA,kCAuJtBnB,IAvJsB,EAuJhB;AACZ,iBAAKlC,WAAL,CAAiBwD,IAAjB;AACA,iBAAK7D,QAAL,CAAcyD,OAAd,CACE;AACElB,kBAAI,EAAGA;AADT,aADF;AAKD;AA9J6B;AAAA;AAAA,kCAgKzB;AACH,iBAAKlC,WAAL,CAAiBwD,IAAjB;AACA,iBAAK7D,QAAL,CAAcyD,OAAd;AACD;AAnK6B;AAAA;AAAA,kCA2KzB;AACH7B,mBAAO,CAACC,GAAR,CAAY,KAAKU,IAAjB;AACD;AA7K6B;AAAA;AAAA,sCA+KlBuB,KA/KkB,EA+Kb;AACf,gBAAIC,CAAC,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAArB;AACA,iBAAK1B,IAAL,CAAUC,MAAV,GAAmB,KAAK/B,WAAL,CAAiBsD,CAAjB,EAAoBxC,EAAvC;AACA,gBAAIc,CAAC,GAAG0B,CAAC,IAAI,GAAL,GAAW,GAAX,GAAiB,GAAzB;AACA,iBAAKxB,IAAL,CAAUE,MAAV,GAAmB,KAAKhC,WAAL,CAAkB4B,CAAlB,EAAsBd,EAAzC;;AAEA,gBAAG,KAAKd,WAAL,CAAkBsD,CAAlB,CAAH,EAA0B;AACxB,mBAAKG,QAAL,CAAc,KAAKzD,WAAL,CAAkBsD,CAAlB,EAAsB,OAAtB,CAAd;AACD;;AAEDnC,mBAAO,CAACC,GAAR,CAAY,KAAKU,IAAjB;AACD;AA1L6B;AAAA;AAAA,uCA4LpB;AACR,iBAAK4B,SAAL,GAAiB,IAAjB;AACA,iBAAK5B,IAAL,CAAUC,MAAV,GAAmB,EAAnB;AACA,iBAAKD,IAAL,CAAUE,MAAV,GAAmB,EAAnB;AACD;AAhM6B;AAAA;AAAA,kCAkMzB;AACHb,mBAAO,CAACC,GAAR,CAAY,YAAZ;;AACA,gBAAG,CAAE,KAAKpB,WAAL,CAAiBE,CAAtB,EAAwB;AACtB,oBAAM,IAAIyD,KAAJ,CAAU,wCAAV,CAAN;AACD;;AAED,gBAAG,KAAK3D,WAAL,CAAiBC,CAAjB,CAAmB,IAAnB,KAA4B,KAAKD,WAAL,CAAiBE,CAAjB,CAAmB,IAAnB,CAA/B,EAAwD;AACtD,oBAAM,IAAIyD,KAAJ,CAAU,8CAAV,CAAN;AACD;;AAED,gBAAG,KAAK3D,WAAL,CAAiBE,CAAjB,CAAmB,IAAnB,KAA4B,CAAC,CAA7B,IAAkC,CAAC,KAAK4B,IAAL,CAAU8B,UAAhD,EAA2D;AACzD,oBAAM,IAAID,KAAJ,CAAU,0CAAV,CAAN;AACD;;AAED,gBAAG,CAAE,KAAKD,SAAV,EAAoB;AAClB,oBAAM,IAAIC,KAAJ,CAAU,kCAAV,CAAN;AACD;;AAED,gBAAG,CAAE,KAAK7B,IAAL,CAAUM,IAAf,EAAoB;AAClB,oBAAM,IAAIuB,KAAJ,CAAU,4BAAV,CAAN;AACD;;AAED,gBAAG,oCAAM,CAAC,KAAK7B,IAAL,CAAUM,IAAX,CAAN,CAAuBd,UAAvB,MAAuC,CAA1C,EAA4C;AAC1C,oBAAM,IAAIqC,KAAJ,CAAU,8CAAV,CAAN;AACD;AAEF;AA5N6B;AAAA;AAAA,qCA8Nb5D,KA9Na,EA8NP8D,QA9NO,EA8NC;;;;;;;;;AAE7B,2BAAKhE,UAAL,CAAgBiE,OAAhB,CAAwB,OAAxB,EAAgC/D,KAAhC;;AAEc,6BAAM,KAAKR,QAAL,CAAcwE,MAAd,CAAqB;AACvCC,iCAAS,EAAG;AAD2B,uBAArB,CAAN;;;AAARC,2B;AAINA,2BAAK,CAACC,YAAN,GAAqBC,IAArB,CAA0B,UAAAzC,IAAI,EAAE;AAC9B,4BAAM0C,IAAI,GAAG1C,IAAI,CAACA,IAAL,CAAU,MAAV,CAAb;;AACA,4BAAG0C,IAAH,EAAQ;AACN,gCAAI,CAACpE,WAAL,CAAiB6D,QAAjB,IAA6BO,IAA7B;;AACA,gCAAI,CAACC,UAAL;AACD;AACF,uBAND;;AAQA,6BAAOJ,KAAK,CAACK,OAAN,EAAP;;;;;;;;;AACD;AA/O6B;AAAA;AAAA,wCAiPb;;;;;;;;;AAEf,2BAAKzE,UAAL,CAAgBiE,OAAhB,CAAwB,UAAxB,EAAoC,IAApC;;AAEc,6BAAM,KAAKvE,QAAL,CAAcwE,MAAd,CAAqB;AACvCC,iCAAS,EAAG;AAD2B,uBAArB,CAAN;;;AAARC,2B;AAINA,2BAAK,CAACC,YAAN,GAAqBC,IAArB,CAA0B,UAAAzC,IAAI,EAAE;AAC9BP,+BAAO,CAACC,GAAR,CAAY,0BAAZ;;AACA,4BAAGM,IAAI,CAACA,IAAL,IAAaA,IAAI,CAACA,IAAL,CAAU,OAAV,CAAhB,EAAmC;AACjC,8BAAIa,KAAK,GAAGb,IAAI,CAACA,IAAL,CAAU,OAAV,CAAZ;;AACA,gCAAI,CAAC+B,QAAL,CAAclB,KAAd,EAFiC,CAGjC;AACA;;AACD;AACF,uBARD;;AAUA,6BAAO0B,KAAK,CAACK,OAAN,EAAP;;;;;;;;;AACD;AApQ6B;AAAA;AAAA,mCAsQrB/B,KAtQqB,EAsQhB;AACZ,gBAAGA,KAAH,EAAS;AACP,mBAAKT,IAAL,CAAUS,KAAV,GAAkBA,KAAlB;AACA,mBAAKT,IAAL,CAAUU,QAAV,GAAqBD,KAAK,CAACzB,EAA3B;AACD,aAHD,MAGK;AACH,mBAAKgB,IAAL,CAAUS,KAAV,GAAkB,IAAlB;AACA,mBAAKT,IAAL,CAAUU,QAAV,GAAqB,IAArB;AACD;AACF;AA9Q6B;;AAAA;AAAA,S;;;;gBAlBvB;;gBACA;;gBACA;;gBACA;;gBADiB;;gBAGjB;;gBACA;;gBACA;;gBACA;;;;AAUIpD,yBAAmB,6DAL/B,gEAAU;AACTmF,gBAAQ,EAAE,uBADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,+HAFS;;;;AAAA,OAAV,CAK+B,GAAnBpF,mBAAmB,CAAnB;;;;;;;;;;;;;;;;ACnBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCYFqF,eAAe;AAAA;;AAAA;;AAO1B,iCACSlF,QADT,EAES8C,QAFT,EAGSqC,WAHT,EAG0C;AAAA;;AAAA;;AAGxC,qCAAMrC,QAAN,EAAiB9C,QAAjB;AALO,iBAAAA,QAAA,GAAAA,QAAA;AACA,iBAAA8C,QAAA,GAAAA,QAAA;AACA,iBAAAqC,WAAA,GAAAA,WAAA;AAPF,iBAAA3E,KAAA,GAAQ,EAAR;AACA,iBAAA4E,QAAA,GAAW,EAAX;AACA,iBAAAC,UAAA,GAAa,EAAb;AAUL,iBAAK7E,KAAL,GAAa2E,WAAW,CAACG,OAAZ,CAAoB,OAApB,CAAb;AACA,iBAAKF,QAAL,sBAAqB,OAAK5E,KAA1B;AANwC;AAOzC;;AAjByB;AAAA;AAAA,uCAmBb,CAEZ;AArByB;AAAA;AAAA,kCAuBlBqE,IAvBkB,EAuBZ;AACZ,iBAAK7E,QAAL,CAAcyD,OAAd,CACE;AACEoB,kBAAI,EAAGA;AADT,aADF;AAKD;AA7ByB;AAAA;AAAA,kCA+BrB;AACH,iBAAK7E,QAAL,CAAcyD,OAAd;AACD;AAjCyB;AAAA;AAAA,sCAoCd8B,IApCc,EAoCV;AAEd;AACA,gBAAGA,IAAI,CAACC,MAAL,IAAe,CAAlB,EAAoB;AAClB,mBAAKhF,KAAL,GAAa,KAAK4E,QAAlB;AACA;AACD;;AACD,iBAAK5E,KAAL,sBAAkB,KAAK4E,QAAvB;AAEA,iBAAK5E,KAAL,GAAa,KAAKA,KAAL,CAAWiF,MAAX,CAAkB,UAAAZ,IAAI;AAAA,qBAAIA,IAAI,CAACa,IAAL,CAAUC,WAAV,GAAwBC,QAAxB,CAAiCL,IAAI,CAACI,WAAL,EAAjC,KAAwDd,IAAI,CAACtD,EAAL,IAAW,CAAC,CAAxE;AAAA,aAAtB,CAAb;AAED;AA/CyB;AAAA;AAAA,sCAiDjB;AAAA;;AACP,mBAAO,KAAKf,KAAL,CAAWiF,MAAX,CAAkB,UAAAZ,IAAI;AAAA,qBAAIA,IAAI,CAACa,IAAL,CAAUC,WAAV,GAAwBC,QAAxB,CAAiC,MAAI,CAACP,UAAL,CAAgBM,WAAhB,EAAjC,KAAmEd,IAAI,CAACtD,EAAL,IAAW,CAAC,CAAnF;AAAA,aAAtB,CAAP;AACD;AAnDyB;AAAA;AAAA,uCAqDbsE,MArDa,EAqDP;AACjB,iBAAKrF,KAAL,GAAa,KAAK4E,QAAlB;AACD;AAvDyB;AAAA;AAAA,wCAyDZtB,KAzDY,EAyDP;AACjB,iBAAKuB,UAAL,GAAkBvB,KAAK,CAACE,MAAN,CAAaC,KAA/B,CADiB,CAGjB;AACD;AA7DyB;AAAA;AAAA,8BA8DtBH,KA9DsB,EA8DjB;AACPlC,mBAAO,CAACC,GAAR,CAAYiC,KAAZ;AACD;AAhEyB;;AAAA;AAAA,QAAS,mEAAT,C;;;;gBARnB;;gBADA;;gBAEA;;;;AAOIoB,qBAAe,6DAL3B,gEAAU;AACTF,gBAAQ,EAAE,kBADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,qHAFS;;;;AAAA,OAAV,CAK2B,GAAfC,eAAe,CAAf","file":"default~games-games-module~pages-game-create-game-admin-create-game-admin-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Nuevo Partido</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"dark\\\" (click)=\\\"close()\\\">\\n          <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"secondary\\\">\\n      <ion-button *ngIf=\\\"chatService.isInit\\\" (click)=\\\"chatService.toggle()\\\" [color]=\\\"chatService.isVisible ? 'success' : ''\\\">\\n        <ion-icon name=\\\"help-circle-outline\\\"></ion-icon>\\n      </ion-button>  \\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <form (ngSubmit)=\\\"submit()\\\"  (keyup)=\\\"serviceGame.errorsForm.clear()\\\" >\\n\\n    <ion-item (click)=\\\"selectTeam(myTeams,'v')\\\">\\n      <ion-label position=\\\"stacked\\\">Mi Equipo</ion-label>\\n      <ion-input type=\\\"text\\\"   readonly >{{teamsSelect.v ? teamsSelect.v['name'] : ''}}</ion-input>\\n      <ion-icon class=\\\"fle\\\" name=\\\"chevron-forward-outline\\\"></ion-icon>\\n\\n      <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ serviceGame.errorsForm.get('l_team') }}</div>\\n\\n    </ion-item>\\n\\n\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Contrario</ion-label>\\n      <ion-input type=\\\"text\\\"  (click)=\\\"selectTeam(teams,'l')\\\"  readonly >{{teamsSelect.l ? teamsSelect.l['name'] : ''}}</ion-input>\\n      <ion-icon class=\\\"fle\\\" name=\\\"chevron-forward-outline\\\"></ion-icon>\\n      <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ serviceGame.errorsForm.get('v_team') }}</div>\\n    </ion-item>\\n\\n    <br>\\n\\n    <ion-item *ngIf=\\\" teamsSelect.l && teamsSelect.l['id'] == -1 \\\">\\n      <ion-label position=\\\"floating\\\" >Nombre de equipo nuevo</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"game.other_team\\\" name=\\\"other_team\\\"></ion-input>\\n    </ion-item>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ serviceGame.errorsForm.get('other_team') }}</div>\\n\\n    <br>\\n\\n    <ion-item *ngIf=\\\"teamsSelect.v && teamsSelect.l\\\">\\n      <ion-label position=\\\"floating\\\">Equipo Local</ion-label>\\n      <ion-select [(ngModel)]=\\\"teamLocal\\\" name=\\\"v_team\\\" (ionChange)=\\\"selectLocal($event)\\\" [interfaceOptions]=\\\"customActionSheetOptions\\\" interface=\\\"action-sheet\\\" >\\n        <ion-select-option value=\\\"v\\\" >{{ teamsSelect.v['name'] }}</ion-select-option>\\n        <ion-select-option value=\\\"l\\\" >{{ teamsSelect.l['name'] }}</ion-select-option>\\n\\n      </ion-select>\\n      <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ serviceGame.errorsForm.get('v_team') }}</div>\\n    </ion-item>\\n\\n    <br>\\n\\n    <div *ngIf=\\\"teamLocal\\\" class=\\\"ion-text-center\\\" >\\n      <ion-button (click)=\\\"selectField()\\\">{{game.field ? 'Modificar' : 'Añadir'}} ubicación</ion-button>\\n\\n\\n      <app-show-map\\n      *ngIf=\\\"game.field\\\"\\n      [field]=\\\"game.field\\\"\\n      ></app-show-map>\\n\\n      <ion-input *ngIf=\\\"false\\\" type=\\\"text\\\" [(ngModel)]=\\\"game.location\\\" name=\\\"location\\\"></ion-input>\\n    </div>\\n    <div style=\\\"color: red; padding-top: 0.2rem\\\" >{{ serviceGame.errorsForm.get('location') }}</div>\\n\\n    <br>\\n\\n    <ion-item>\\n      <ion-label>HH:mm</ion-label>\\n      <ion-datetime \\n        [(ngModel)]=\\\"game.time\\\" \\n        displayFormat=\\\"HH:mm \\\"  \\n        name=\\\"time\\\">\\n      </ion-datetime>\\n    </ion-item>\\n\\n  \\n\\n    <ion-item>\\n      <ion-label>Fecha</ion-label>\\n      <ion-datetime \\n        name=\\\"date\\\"\\n        [(ngModel)]=\\\"game.date\\\"\\n        displayFormat=\\\"DD-MM-YYYY\\\"\\n        ></ion-datetime>\\n    </ion-item>\\n\\n    <ion-button type=\\\"submit\\\"  expand=\\\"block\\\">Guardar</ion-button>\\n  </form>\\n</ion-content>\\n\";","export default \"\\n<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"dark\\\" (click)=\\\"close()\\\">\\n          <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    \\n  <ion-title>Buscar Equipo</ion-title>\\n    \\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-searchbar \\n    placeholder=\\\"Filtrar equipos\\\"\\n    (ionClear)=\\\"cancelFilter($event)\\\"\\n    (ionChange)=\\\"filterChangue($event)\\\"\\n  ></ion-searchbar>\\n\\n\\n  <ion-list>\\n    <ion-list-header *ngIf=\\\"getFilter().length == 0\\\"  color=\\\"tertiary\\\">\\n      <ion-label>No se ha encontrado equipos</ion-label>\\n    </ion-list-header>\\n   \\n    <ion-item *ngFor=\\\"let team of getFilter()\\\" class=\\\"team-list\\\" (click)=\\\"dismiss(team)\\\" >\\n      <ion-avatar slot=\\\"start\\\" *ngIf=\\\"team.id != -1\\\">\\n        <ion-img \\n          [src]=\\\"team.shield ? team.shield.urlCompleteThumb : 'assets/images/esc.png'\\\">\\n        </ion-img>\\n      </ion-avatar>\\n      <ion-label >\\n        <h3 class=\\\"fs-team\\\">{{  team.id == -1 ? 'Registrar Nuevo Equipo ' : team.name}}</h3>\\n      </ion-label>\\n      <ion-icon name=\\\"chevron-forward-outline\\\"></ion-icon>\\n    </ion-item>\\n  </ion-list>\\n\\n\\n</ion-content>\\n\";","export default \".fle {\\n  position: absolute;\\n  right: 3px;\\n  top: 45%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZ2FtZS9jcmVhdGUtZ2FtZS1hZG1pbi9jcmVhdGUtZ2FtZS1hZG1pbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9nYW1lL2NyZWF0ZS1nYW1lLWFkbWluL2NyZWF0ZS1nYW1lLWFkbWluLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mbGV7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAzcHg7XG4gICAgdG9wOiA0NSU7O1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { RequestService } from 'src/app/api/request.service';\nimport { DialogService } from 'src/app/api/util/dialog.service';\nimport { ModalController, NavParams } from '@ionic/angular';\nimport { PhotoService } from 'src/app/services/photo.service';\nimport { Model } from 'src/app/api/models/model';\nimport { AuthUserService } from 'src/app/services/auth-user.service';\nimport { UtilService } from 'src/app/services/util.service';\nimport { ChatService } from 'src/app/services/chat.service';\nimport { TransferDataService } from 'src/app/services/transfer-data.service';\nimport { ModalFilterPage } from '../../team/modal-filter/modal-filter.page';\nimport * as moment from 'moment';\nimport { ListFieldsPage } from '../../field/list-fields/list-fields.page';\n\n@Component({\n  selector: 'app-create-game-admin',\n  templateUrl: './create-game-admin.page.html',\n  styleUrls: ['./create-game-admin.page.scss'],\n})\nexport class CreateGameAdminPage implements OnInit {\n\n  public myTeams = []\n  public teams = [];\n\n  public teamLocal ;\n\n  public teamsSelect = {\n    v:'',\n    l:''\n  }\n\n  public game : any;\n  public numbGoals = []\n  public id : any;\n  public customDayShortNames = ['s\\u00f8n'];\n  public status = ['Pendiente','Suspendido','Jugado','Created'];\n  public toDate : any;\n\n  public serviceGame : Model;\n  public serviceTeam : Model;\n\n  customActionSheetOptions: any = {\n    header: 'Equipo Local',\n  };\n\n  constructor(\n    public request : RequestService,\n    public dialogService : DialogService,\n    public viewCtrl: ModalController,\n    public photoService : PhotoService,\n    navParams: NavParams,\n    public authUser : AuthUserService,\n    public util : UtilService,\n    public chatService : ChatService,\n    public transfData : TransferDataService,\n\n  ) {\n    this.serviceGame = new Model('Game',request);\n    this.serviceTeam =  new Model('Team',request);\n    //this.serviceTeam.setModel('Team');\n\n    this.id = navParams.get('id') ;\n    this.toDate = navParams.get('date') ??  util.setFormatMoment(new Date() , 'YYYY-MM-DD');\n    console.log('date',this.toDate)\n\n    this.test();\n    \n   }\n\n  test(){\n    console.log('day default :',moment().isoWeekday());\n\n    console.log('day 4 :',moment().isoWeekday(6));\n  }\n\n  ngOnInit() {\n\n\n    this.myTeams = this.authUser.user.teams;\n\n    this.teamsSelect.v = this.myTeams[0];\n\n\n    this.serviceTeam.api_function('getAllTeamsSelect').subscribe(data => {\n      if(data['data']){\n        this.teams = data['data']\n        console.log('teams -> ' , this.teams)\n        this.teams.push({\n          'id' : -1,\n          'name' : 'Equipo nuevo'\n        })\n        console.log('add Otro')\n        //this.serviceGame.setModel('Game');\n      }\n    });\n\n\n    for (var i = 0; i <= 30; i++) {\n      this.numbGoals.push(i);\n    }\n    this.initObject();\n  }\n\n  initObject(){\n    this.game = { \n      l_team :'',\n      v_team : '',\n      l_goals : 0,\n      v_goals : 0,\n      time : '15:00',\n      date : this.toDate,\n      location : '',\n      description : '',\n      status : 'Pendiente',\n      field : null,\n      field_id : ''\n    };\n\n    if(this.id){\n      this.serviceGame.api_find(this.id).subscribe(data => {\n        if(data['status'] == 'success'){\n          this.game = data['Game'];\n        }\n      })\n    }\n\n    //this.chatService.show();\n  }\n\n\n  async submit(){\n\n    this.game.date =  this.util.setFormatMoment(this.game.date , 'YYYY-MM-DD');\n\n    try{\n      this.valid();\n    }catch(e){\n      this.dialogService.showToast(e.message,'Error','danger');\n      return;\n    }\n\n    await this.dialogService.loadingProgres();\n\n    this.game.team_creator = this.teamsSelect['v']['id'];\n\n    this.serviceGame.api_function('createGameAdmin',this.game).subscribe(\n      response => {\n        if(response['status'] == 'success'){\n          //this.dialogService.presentAlertAcept('Felicidades...','El partido se ha registrado correctamente. Será visible en la lista de partidos cuando el administrador general o uno de los administradores del equipo contrario confirme el partido. Recibirás una notificación cuando esto suceda',()=>{\n            this.dialogService.showToast('Partido registrado');\n\n            this.dismiss(response['data']);\n          //})\n\n        }else if( response['status'] == 'error'){\n          this.dialogService.showToast(response['errorValidaciones'] ? response['errorValidaciones']  : response['mensaje']  ,'','danger',5000);\n        }\n        this.dialogService.dimissLoaging();\n      },\n      error => {\n        console.log(error)\n        this.dialogService.dimissLoaging();\n        this.dialogService.showToast(error.error.mensaje,'','danger',7000);\n      },\n      ()=>{\n        this.dialogService.dimissLoaging();\n      }\n    )\n  }\n\n  dismiss(game) {\n    this.chatService.hide();\n    this.viewCtrl.dismiss(\n      {\n        game : game,\n      }\n    );\n  }\n\n  close(){\n    this.chatService.hide();\n    this.viewCtrl.dismiss();\n  }\n\n  myDateFilter = (d: Date): boolean => {\n    const day = d.getDay();\n    // Prevent Saturday and Sunday from being selected.\n    return day == 6 ;\n  }\n\n  print(){\n    console.log(this.game);\n  }\n\n  selectLocal(event){\n    let e = event.detail.value;\n    this.game.l_team = this.teamsSelect[e].id;\n    let i = e == 'v' ? 'l' : 'v';\n    this.game.v_team = this.teamsSelect[ i ].id;\n\n    if(this.teamsSelect[ e ] ){\n      this.setField(this.teamsSelect[ e ]['field']);\n    }\n\n    console.log(this.game);\n  }\n\n  clearLocal(){\n    this.teamLocal = null;\n    this.game.l_team = '';\n    this.game.v_team = '';\n  }\n\n  valid(){\n    console.log('valid Game')\n    if(! this.teamsSelect.l){\n      throw new Error('No ha seleccionado el equipo contrario');\n    }\n\n    if(this.teamsSelect.v['id'] == this.teamsSelect.l['id']){\n      throw new Error('Los equipos enfrentados deben ser diferentes')\n    }\n\n    if(this.teamsSelect.l['id'] == -1 && !this.game.other_team){\n      throw new Error('Debes añadir el nombre del Equipo Nuevo.')\n    }\n\n    if(! this.teamLocal){\n      throw new Error('Debe seleccionar el equipo local');\n    }\n\n    if(! this.game.date){\n      throw new Error('Debe seleccionar la fecha.');\n    }\n\n    if(moment(this.game.date).isoWeekday() != 6){\n      throw new Error('La fecha seleccionada debe ser de un SÁBADO.');\n    }\n\n  }\n\n  async selectTeam(teams,typeTeam){\n\n    this.transfData.setData('teams',teams);\n\n    const modal = await this.viewCtrl.create({\n      component : ModalFilterPage\n    })\n\n    modal.onDidDismiss().then(data=>{\n      const team = data.data['team'];\n      if(team){\n        this.teamsSelect[typeTeam] = team;\n        this.clearLocal();\n      }\n    })\n\n    await  modal.present();\n  }\n\n  async selectField(){\n\n    this.transfData.setData('isSelect', true);\n\n    const modal = await this.viewCtrl.create({\n      component : ListFieldsPage\n    })\n\n    modal.onDidDismiss().then(data=>{\n      console.log('close modal select field')\n      if(data.data && data.data['field']){\n        let field = data.data['field'];\n        this.setField(field);\n        //this.game.field = data.data['field'];\n        //this.game.field_id = this.game.field.id;\n      }\n    })\n\n    await  modal.present();\n  }\n\n  setField(field){\n    if(field){\n      this.game.field = field;\n      this.game.field_id = field.id;\n    }else{\n      this.game.field = null;\n      this.game.field_id = null;\n    }\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RlYW0vbW9kYWwtZmlsdGVyL21vZGFsLWZpbHRlci5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ModalForm } from 'src/app/models/modal-form';\nimport { ModalFormInterface } from 'src/app/interfaces/modal-form-interface';\nimport { PlatformLocation } from '@angular/common';\nimport { ModalController } from '@ionic/angular';\nimport { TransferDataService } from 'src/app/services/transfer-data.service';\n\n@Component({\n  selector: 'app-modal-filter',\n  templateUrl: './modal-filter.page.html',\n  styleUrls: ['./modal-filter.page.scss'],\n})\nexport class ModalFilterPage extends ModalForm implements OnInit,ModalFormInterface {\n\n\n  public teams = [];\n  public oldTeams = [];\n  public textSearch = '';\n\n  constructor(\n    public viewCtrl: ModalController,\n    public location: PlatformLocation,\n    public dataTranfer : TransferDataService\n\n  ) { \n    super(location , viewCtrl);\n\n    this.teams = dataTranfer.getData('teams');\n    this.oldTeams = [... this.teams];\n  }\n\n  initObject() {\n    \n  }\n\n  dismiss(team) {\n    this.viewCtrl.dismiss(\n      {\n        team : team,\n      }\n    );\n  }\n\n  close(){\n    this.viewCtrl.dismiss();\n  }\n\n\n  filterTeams(text){\n\n    //let text = event.target.value;\n    if(text.length <= 0){\n      this.teams = this.oldTeams;\n      return;\n    }\n    this.teams = [... this.oldTeams];\n\n    this.teams = this.teams.filter(team => team.name.toUpperCase().includes(text.toUpperCase()) || team.id == -1);\n\n  }\n\n  getFilter(){\n    return this.teams.filter(team => team.name.toUpperCase().includes(this.textSearch.toUpperCase()) || team.id == -1 )\n  }\n\n  cancelFilter($event){\n    this.teams = this.oldTeams;\n  }\n\n  filterChangue(event){\n    this.textSearch = event.detail.value;\n\n    //this.filterTeams(text);\n  }\n  log(event){\n    console.log(event)\n  }\n\n}\n"]}