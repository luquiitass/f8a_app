{"version":3,"sources":["./src/app/pages/payment/status/status.page.html","./src/app/pages/payment/status/status-routing.module.ts","./src/app/pages/payment/status/status.module.ts","./src/app/pages/payment/status/status.page.scss","./src/app/pages/payment/status/status.page.ts"],"names":[],"mappings":"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","file":"pages-payment-status-status-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>{{env.nameApp}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<div *ngIf=\\\"payment\\\">\\n|  <ion-card>\\n    <ion-card-content>\\n      <h2 class=\\\"ion-text-center\\\" >Pago {{payment.estado}}</h2>\\n      <div class=\\\"ion-text-center\\\">{{payment.detail}}</div>   \\n    </ion-card-content>\\n\\n  </ion-card>\\n\\n  <div class=\\\"ion-text-center\\\">\\n    <div>\\n      Monto\\n    </div>\\n    <div>\\n      $ {{payment.amount}}\\n    </div>\\n\\n  </div>\\n\\n  <ion-card class=\\\"detail\\\">\\n\\n    <ion-item-group>\\n      <ion-item-divider>\\n        <ion-label>Detalle de suscripción</ion-label>\\n      </ion-item-divider>\\n\\n      <ion-item>\\n        <ion-label>\\n          <b>Equipo:</b> {{payment.team.name}} \\n        </ion-label>\\n      </ion-item>\\n    \\n     \\n\\n      <ion-item>\\n        <ion-label>\\n          Generado por {{payment.user.completeName}}\\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label>\\n          <b>Inicio:</b> {{payment.start}} \\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label>\\n          <b>Fin:</b> {{payment.end}} \\n        </ion-label>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label>\\n          <b>Duración:</b> {{payment.months}} Meses\\n        </ion-label>\\n      </ion-item>\\n\\n\\n    </ion-item-group>\\n\\n    <ion-item-group *ngIf=\\\"pm_payment\\\">\\n\\n      <ion-item-divider>\\n        <ion-label>Pago</ion-label>\\n      </ion-item-divider>\\n\\n      <ion-item>\\n        <ion-label>\\n          <b>Orden Mercado Pago:</b> {{payment.order_id}} Meses\\n        </ion-label>\\n      </ion-item>\\n\\n\\n\\n    </ion-item-group>\\n\\n\\n\\n    <ion-card-content>\\n    \\n    </ion-card-content>\\n\\n  </ion-card>\\n\\n  <div  *ngIf=\\\"isPaid\\\">\\n    <ion-button expand=\\\"full\\\" color=\\\"info\\\">Descargar Comprobante</ion-button>\\n    <ion-button expand=\\\"full\\\" color=\\\"secondary\\\">Administrar equipo </ion-button>\\n  </div>\\n\\n  <div  *ngIf=\\\"!isPaid\\\">\\n\\n    <app-btn-paid\\n      [preference_id] = \\\"payment.preference_id\\\"\\n    ></app-btn-paid>\\n\\n\\n  </div>\\n\\n</div>\\n\\n<div *ngIf=\\\"errorPayment\\\">\\n  Error al cargar Pago\\n</div>\\n \\n<ion-button expand=\\\"full\\\" color=\\\"danger\\\" routerLink=\\\"/\\\">Salir</ion-button>\\n\\n  \\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { StatusPage } from './status.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StatusPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StatusPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StatusPageRoutingModule } from './status-routing.module';\n\nimport { StatusPage } from './status.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    StatusPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [StatusPage]\n})\nexport class StatusPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BheW1lbnQvc3RhdHVzL3N0YXR1cy5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Model } from 'src/app/api/models/model';\nimport { RequestService } from 'src/app/api/request.service';\nimport { DialogService } from 'src/app/api/util/dialog.service';\n\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-status',\n  templateUrl: './status.page.html',\n  styleUrls: ['./status.page.scss'],\n})\nexport class StatusPage implements OnInit {\n\n\n  public paymentModel : Model;\n  public payment ;\n  public id;\n  public errorPayment = false;\n\n  constructor(\n    public requestService : RequestService,\n    public route : ActivatedRoute,\n    public dialogService : DialogService\n\n  ) { \n    this.paymentModel = new Model('Payment' , requestService);\n    this.id = this.route.snapshot.paramMap.get('id');\n\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  async init(){\n\n    await this.dialogService.loadingProgres('Cargando...')\n\n    this.paymentModel.api_find(this.id).subscribe(\n      response => {\n        if(response['status'] == 'success'){\n          this.payment = response['Payment'];\n        }\n      },\n      error => {\n        this.errorPayment = true;\n      },\n      () => {\n        this.dialogService.dimissLoaging();\n      }\n    )\n  }\n\n  get env(){\n    return environment;\n  }\n\n  get isPaid(){\n    return this.payment.status == \"approved\";\n  }\n\n  get pm_payment(){\n    return this.payment.payment_json ?  JSON.parse(this.payment.payment_json) : \"\";\n  }\n\n\n\n}\n"],"sourceRoot":"webpack:///"}