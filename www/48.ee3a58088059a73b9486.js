(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"47vG":function(t,e,i){"use strict";i.r(e),i.d(e,"ExportPageModule",(function(){return _}));var n=i("ofXK"),o=i("3Pt+"),a=i("TEn/"),s=i("tyNb"),c=i("mrSG"),r=i("8xVP"),d=i("AytR"),l=i("fXoL"),u=i("G/jy"),b=i("2Rin"),g=i("YL0Z"),m=i("VZH3"),h=i("jLeg");function p(t,e){if(1&t&&(l.Qb(0,"div",16),l.vc(1),l.Pb()),2&t){var i=l.ac(2);l.yb(1),l.wc(i.game.l_goals)}}function f(t,e){if(1&t&&(l.Qb(0,"div",16),l.vc(1),l.Pb()),2&t){var i=l.ac(2);l.yb(1),l.wc(i.game.v_goals)}}function v(t,e){if(1&t&&(l.Qb(0,"div",3),l.Qb(1,"div",4),l.Mb(2,"img",5),l.Pb(),l.Qb(3,"p",6),l.vc(4,"futbol8alem.com"),l.Pb(),l.Qb(5,"div",7),l.Qb(6,"div",8),l.Mb(7,"img",9),l.Qb(8,"div",10),l.vc(9),l.Pb(),l.uc(10,p,2,1,"div",11),l.Pb(),l.Qb(11,"div",8),l.Mb(12,"img",9),l.Qb(13,"div",10),l.vc(14),l.Pb(),l.uc(15,f,2,1,"div",11),l.Pb(),l.Pb(),l.Qb(16,"div",12),l.Qb(17,"div",13),l.vc(18),l.Pb(),l.Qb(19,"div",14),l.vc(20),l.Pb(),l.Qb(21,"div",15),l.vc(22),l.Pb(),l.Pb(),l.Pb()),2&t){var i=l.ac();l.yb(7),l.gc("src",i.game.team_l.shield?i.game.team_l.shield.urlCompleteThumb:"assets/images/esc.png",l.pc),l.yb(2),l.wc(i.game.team_l.name),l.yb(1),l.gc("ngIf","Pendiente"!=i.game.status),l.yb(2),l.gc("src",i.game.team_v.shield?i.game.team_v.shield.urlCompleteThumb:"assets/images/esc.png",l.pc),l.yb(2),l.wc(i.game.team_v.name),l.yb(1),l.gc("ngIf","Pendiente"!=i.game.status),l.yb(3),l.wc(i.game.status),l.yb(2),l.wc(i.util.setFormatMoment(i.game.date,"DD/M/YYYY")),l.yb(2),l.wc(i.util.formatHours(i.game.time))}}var y=[{path:"",component:function(){function t(t,e,i,n,o,a,s){this.navCtr=t,this.route=e,this.requesService=i,this.util=n,this.htmlToImageService=o,this.shareService=a,this.loadingService=s,this.id=this.route.snapshot.paramMap.get("id"),this.gameModel=new r.a("Game",i)}return t.prototype.ngOnInit=function(){this.init()},t.prototype.init=function(t){return void 0===t&&(t=null),Object(c.b)(this,void 0,void 0,(function(){var e=this;return Object(c.d)(this,(function(i){return this.loadingService.start(),this.gameModel.api_functionModel(this.id,"dataProfile").subscribe((function(i){return Object(c.b)(e,void 0,void 0,(function(){return Object(c.d)(this,(function(e){switch(e.label){case 0:return"success"==i.status&&(this.game=i.data),console.log("Game",this.game),[4,this.util.delay(100)];case 1:return e.sent(),[4,this.htmlToImageService.run("export")];case 2:return e.sent(),this.game=null,this.uploadImage(),t&&t.target.complete(),[2]}}))}))}),(function(t){e.loadingService.end()})),[2]}))}))},t.prototype.export=function(){this.htmlToImageService.dowload()},t.prototype.uploadImage=function(){var t=this;this.gameModel.api_functionModel(this.id,"addPreview",{data:this.htmlToImageService.img,url:"/results/",thumb:!1}).subscribe((function(e){console.log(e);var i="https://www.facebook.com/sharer?u="+d.a.server_url_base+"/shareResultF/"+t.id;console.log("url",i),t.loadingService.end(),t.shareService.goTo(i)}),(function(e){console.error(e),t.loadingService.end()}))},t.\u0275fac=function(e){return new(e||t)(l.Lb(a.ob),l.Lb(s.a),l.Lb(u.a),l.Lb(b.a),l.Lb(g.a),l.Lb(m.a),l.Lb(h.a))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-export"]],decls:11,vars:2,consts:[["class","contenedor","id","export",4,"ngIf"],[3,"src"],[3,"click"],["id","export",1,"contenedor"],[1,"logo"],["src","assets/icon/favicon.png"],[1,"page"],[1,"teams"],[1,"team"],[1,"esc",3,"src"],[1,"team_name"],["class","team_goal",4,"ngIf"],[1,"detail"],[1,"status"],[1,"date"],[1,"time"],[1,"team_goal"]],template:function(t,e){1&t&&(l.Qb(0,"ion-header"),l.Qb(1,"ion-toolbar"),l.Qb(2,"ion-title"),l.vc(3,"Crear Imagen"),l.Pb(),l.Pb(),l.Pb(),l.Qb(4,"ion-content"),l.uc(5,v,23,9,"div",0),l.Mb(6,"img",1),l.Qb(7,"button",2),l.Yb("click",(function(){return e.export()})),l.vc(8,"Descargar Image"),l.Pb(),l.Qb(9,"button",2),l.Yb("click",(function(){return e.uploadImage()})),l.vc(10,"Subir Image"),l.Pb(),l.Pb()),2&t&&(l.yb(5),l.gc("ngIf",e.game),l.yb(1),l.gc("src",e.htmlToImageService.img,l.pc))},directives:[a.x,a.jb,a.hb,a.r,n.l],styles:[".contenedor[_ngcontent-%COMP%]{position:relative;width:600px;height:200px;display:flex;align-items:center;justify-content:center;background-image:url(/assets/images/bg.jpg);background-repeat:repeat;background-size:cover;background-position:50%;color:#fff;padding:10px}.teams[_ngcontent-%COMP%]{border-radius:5px;width:80%}.teams[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;padding:5px;font-size:x-large}.teams[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10%;border-radius:50%;width:40px;height:40px}.teams[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]   .team_name[_ngcontent-%COMP%]{width:70%;padding-left:5px}.detail[_ngcontent-%COMP%], .teams[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]   .team_goal[_ngcontent-%COMP%]{width:20%;text-align:center}.detail[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{background-color:red;padding:3px;border-radius:10px;text-align:center}.detail[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:5px}.detail[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .detail[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.5686274509803921)}.logo[_ngcontent-%COMP%]{position:absolute}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.1;width:150px;height:150px}.page[_ngcontent-%COMP%]{position:absolute;bottom:-10px;right:10px;opacity:.6}"]}),t}()}],P=function(){function t(){}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(e){return new(e||t)},imports:[[s.j.forChild(y)],s.j]}),t}(),_=function(){function t(){}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(e){return new(e||t)},imports:[[n.b,o.a,a.kb,P]]}),t}()},VZH3:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("mrSG"),o=i("8xVP"),a=i("AytR"),s=i("fXoL"),c=i("G/jy"),r=i("vuFD"),d=i("m/P+"),l=i("2Rin"),u=function(){function t(t,e,i,n){this.requestService=t,this.dialogService=e,this.iab=i,this.util=n,this.addThisVisible=!1,this.loadedAddThis=!1,this.scriptLoaded=null,this.addthis_share={url:"",title:"",description:"",media:""},this.modelGame=new o.a("Game",t),this.loadedAddThis||this.addThisInit()}return t.prototype.goTo=function(t){return Object(n.b)(this,void 0,void 0,(function(){return Object(n.d)(this,(function(e){return this.iab.create(t,"",{fullscreen:"yes"}),[2]}))}))},t.prototype.shareGameFacebook=function(t){return Object(n.b)(this,void 0,void 0,(function(){return Object(n.d)(this,(function(e){return this.iab.create(a.a.server_url_base+"/shareResult/"+t,"",{fullscreen:"yes"}),[2]}))}))},t.prototype.addThisInit=function(){var t=this;try{this.addMeta();var e=document.createElement("script");e.type="text/javascript",e.setAttribute("async","async"),e.src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6169932652121667",e.onload=function(){console.log("load AddThis"),t.loadedAddThis=!0,t.scriptLoaded=t,document.body.classList.add("share-disabled")},document.body.appendChild(e)}catch(i){console.error(i)}},t.prototype.addMeta=function(){var t=document.createElement("meta");t.setAttribute("property","og:url"),t.content=document.location,document.getElementsByTagName("head")[0].appendChild(t);var e=document.createElement("meta");e.setAttribute("property","og:title"),e.content="Title lucas",document.getElementsByTagName("head")[0].appendChild(e),console.log("add meta")},t.prototype.toggleAddThis=function(){console.log("toggle"),this.addThisVisible=!this.addThisVisible,this.updateVisibiliti()},t.prototype.showAddThis=function(){this.addThisVisible=!0,this.updateVisibiliti()},t.prototype.hideAddThis=function(){this.addThisVisible=!1,this.updateVisibiliti()},t.prototype.updateVisibiliti=function(){if(this.loadedAddThis&&document.getElementsByClassName("addthis-smartlayers")){if(window.addthis){var t=window.addthis;t.layers.refresh(),t.toolbox()}this.addThisVisible?document.body.classList.remove("share-disabled"):document.body.classList.add("share-disabled")}},t.\u0275fac=function(e){return new(e||t)(s.Ub(c.a),s.Ub(r.a),s.Ub(d.a),s.Ub(l.a))},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);